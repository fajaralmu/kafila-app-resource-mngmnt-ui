(this["webpackJsonpkafila-resource-management-ui"]=this["webpackJsonpkafila-resource-management-ui"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),i=n(1),r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"App",get:function(){return this._setting?this._setting:this._setting=window.appSetting}}]),e}();r._setting=void 0},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){var n=setTimeout((function(){e(),clearTimeout(n)}),t)}},,,function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.INFO_NO_BUTTONS=3]="INFO_NO_BUTTONS"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,i=n(2),r=n(1),s=(n(52),n(39)),o=Object(s.a)()(a=function(){function e(){var t=this;Object(i.a)(this,e),this.lastRedirectedRoute=void 0,this.navigateFunction=void 0,this.routeUpdateCallbacks=new Map,this.setLastRedirectedRoute=function(e){t.lastRedirectedRoute=e},this.setNavigate=function(e){t.navigateFunction=e},this.navigate=function(e){t.navigateFunction&&t.navigateFunction(e)},this.registerCallback=function(e,n){t.routeUpdateCallbacks.set(e,n)},this.deRegisterCallback=function(e){t.routeUpdateCallbacks.delete(e)},this.updateRoute=function(e){console.debug("Route changed via call to navigate: "+e),t.routeUpdateCallbacks.forEach((function(t){t(e)}))}}return Object(r.a)(e,[{key:"redirectedRoute",get:function(){return this.lastRedirectedRoute}}]),e}())||a},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),i=n(2),r=n(4),s=n(3),o=n(5),c=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleInputChange=function(t,n){if(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){var a,i=t.target,r=e.state,s=i.id;if(!r)return;a="number"===i.type?i.value:"checkbox"===i.type&&i instanceof HTMLInputElement?i.checked:i.value;var o=i.name.split("."),c=r;o.forEach((function(e,t){c&&t<o.length-1&&(c=c[e]),t===o.length-1&&(c[e]=a)})),e.setState(r,(function(){if(s){var e=document.getElementById(s);e&&e.focus()}n&&n(a)}))}},e}return Object(a.a)(n)}(o.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1),i=n(2),r=Object(a.a)((function e(){Object(i.a)(this,e),this.id=-1}))},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a,i,r,s,o,c,l,d=n(6),u=n(2),h=n(1),m=n(7),b=(n(15),n(39)),j=n(41),p=n(36),f=n(14),O=n(40),v=n.n(O),g=n(35),x=n(30),w=n(20),y=f.a.App.hosts.api+"/login",N=f.a.App.hosts.api+"/api/user/logout",C=f.a.App.hosts.api+"/api/user",S=f.a.App.hosts.api+"/api/public/index",k=f.a.App.hosts.api+"/api/user/update",D=(a=Object(b.a)(),i=Object(j.a)(x.a),r=Object(j.a)(w.a),a((o=function(){function e(){var t=this;Object(u.a)(this,e),this._loggedUser=void 0,this._appProfile=void 0,this._onUserUpdate=new Map,this._onAppProfileUpdate=new Map,Object(d.a)(this,"rest",c,this),Object(d.a)(this,"routing",l,this),this.addOnUserUpdated=function(e,n){t._onUserUpdate.set(e,n)},this.removeOnUserUpdated=function(e){t._onUserUpdate.delete(e)},this.addOnAppProfileUpdated=function(e,n){t._onAppProfileUpdate.set(e,n)},this.removeOnAppProfileUpdated=function(e){t._onAppProfileUpdate.delete(e)},this.loadApplication=function(){return new Promise((function(e,n){t.rest.getCommon(S,{}).then((function(n){t.loadUser(),t._appProfile=n,e(n)})).catch(n)}))},this.loadUser=function(){Object(g.b)()&&t.rest.getAuthorized(C).then((function(e){t.handleSuccessLogin(e)})).catch(console.error)},this.updateProfile=function(e){return new Promise((function(n,a){t.rest.putAuthorized(k,e).then((function(e){t.handleSuccessLogin(e),n(e)})).catch(a)}))},this.login=function(e,n){return new Promise((function(a,i){var r=new FormData;r.append("username",e),r.append("password",n),r.append("transport_type","rest");var s=["username="+e,"password="+n,"transport_type=rest"];v.a.post(y,s.join("&"),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var n=e.data,i=e.headers["access-token"];t.handleSuccessLogin(n.result,i),a(n.result)})).catch((function(e){var t,n;i(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))},this.handleSuccessLogin=function(e,n){t.loggedUser=Object.assign(new p.a,e),n&&Object(g.d)(n),t.routing.redirectedRoute&&t.routing.navigate(t.routing.redirectedRoute)},this.logout=function(){t.loggedUser=void 0,t.rest.postAuthorized(N,{}).then((function(e){Object(g.c)()})).catch(console.error)}}return Object(h.a)(e,[{key:"loggedIn",get:function(){return void 0!==this._loggedUser}},{key:"loggedUser",get:function(){return this._loggedUser},set:function(e){this._loggedUser=e,this._onUserUpdate.forEach((function(t){return t(e)}))}},{key:"isAdmin",get:function(){var e;return this.loggedIn&&(null===(e=this.loggedUser)||void 0===e?void 0:e.hasAuthorityType("ROLE_SUPERADMIN"))}},{key:"appProfile",get:function(){return this._appProfile},set:function(e){this._appProfile=e,this._onAppProfileUpdate.forEach((function(t){return t(e)}))}}]),e}(),c=Object(m.a)(o.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(m.a)(o.prototype,"routing",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=o))||s)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a,i,r,s,o,c=n(17),l=n(6),d=n(1),u=n(2),h=n(7),m=(n(15),n(40)),b=n.n(m),j=n(39),p=n(41),f=n(35),O=n(43),v="00",g=(a=Object(j.a)(),i=Object(p.a)(O.a),a((s=Object(d.a)((function e(){var t=this;Object(u.a)(this,e),Object(l.a)(this,"loading",o,this),this.postAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.postCommon(e,n,Object(f.a)(a),!0)},this.deleteAuthorized=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json";return t.deleteCommon(e,Object(f.a)(n),!0)},this.putAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.putCommon(e,n,Object(f.a)(a),!0)},this.patchAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.patchCommon(e,n,Object(f.a)(a),!0)},this.startLoading=function(){return t.loading.startLoading()},this.stopLoading=function(){return t.loading.stopLoading()},this.postCommon=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,s){t.startLoading(),b.a.post(e,n,{headers:Object(c.a)({},a)}).then((function(e){e.data?e.data.code===v?(i&&t.updateLoginKeyCookie(e),r(e.data.result)):s(e.data):s(new Error("Invalid response data"))})).catch((function(e){var t,n;s(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.updateLoginKeyCookie=function(e){e.headers["access-token"]&&""!==e.headers["access-token"]&&Object(f.d)(e.headers["access-token"])},this.putCommon=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,s){t.startLoading(),b.a.put(e,n,{headers:Object(c.a)({},a)}).then((function(e){e.data?e.data.code===v?(i&&t.updateLoginKeyCookie(e),r(e.data.result)):s(e.data):s(new Error("Invalid response data"))})).catch((function(e){var t,n;s(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.patchCommon=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,s){t.startLoading(),b.a.patch(e,n,{headers:Object(c.a)({},a)}).then((function(e){e.data?e.data.code===v?(i&&t.updateLoginKeyCookie(e),r(e.data.result)):s(e.data):s(new Error("Invalid response data"))})).catch((function(e){var t,n;s(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.deleteCommon=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,r){t.startLoading(),b.a.delete(e,{headers:Object(c.a)({},n)}).then((function(e){e.data?e.data.code===v?(a&&t.updateLoginKeyCookie(e),i(e.data.result)):r(e.data):r(new Error("Invalid response data"))})).catch((function(e){var t,n;r(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.getAuthorized=function(e){return t.getCommon(e,Object(f.a)(),!0)},this.getCommon=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,r){t.startLoading(),b.a.get(e,{headers:Object(c.a)({},n)}).then((function(e){e.data?e.data.code===v?(a&&t.updateLoginKeyCookie(e),i(e.data.result)):r(e.data):r(new Error("Invalid response data"))})).catch((function(e){var t,n;r(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))}})),o=Object(h.a)(s.prototype,"loading",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,i=n(2),r=n(1),s=n(39),o=Object(s.a)()(a=function(){function e(){var t=this;Object(i.a)(this,e),this.component=void 0,this.setComponent=function(e){t.component=e},this.show=function(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;null===(a=t.component)||void 0===a||a.show(e,n,i)}}return Object(r.a)(e,[{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"info",t)}},{key:"showPrimary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"primary",t)}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"warning",t)}},{key:"showDanger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"danger",t)}},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"success",t)}}]),e}())||a},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,i=n(17),r=n(1),s=n(2),o=n(39),c=n(5),l=n.n(c),d=(n(52),n(4)),u=n(3),h=n(22),m=n(0),b=Object(r.a)((function e(){Object(s.a)(this,e),this.content=""})),j=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state=new b,a.inputRef=l.a.createRef(),a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.content)},e.defaultValue&&(a.state.content=e.defaultValue),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{children:this.props.message}),Object(m.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(m.jsx)("input",{ref:this.inputRef,name:"content",value:this.state.content,onChange:this.handleInputChange,className:"form-control mb-3",required:!0}),Object(m.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Ok"})]})]})}}]),n}(h.a),p=n(19),f=n(16),O=500,v=Object(o.a)()(a=Object(r.a)((function e(){var t=this;Object(s.a)(this,e),this.container=void 0,this.setContainer=function(e){t.container=e},this.showInfo=function(e,n){t.container.isShown?Object(f.a)((function(){t.showInfo(e,n)}),O):t.container.show(p.a.INFO,e,n,!0,console.info)},this.showWarning=function(e,n){t.container.isShown?Object(f.a)((function(){t.showWarning(e,n)}),O):t.container.show(p.a.WARNING,e,n,!0,console.info)},this.showError=function(e,n){var a;t.container.isShown?Object(f.a)((function(){t.showError(e,n)}),O):(n instanceof Error?a=n.message:("string"===typeof n&&n.trim().toLowerCase().startsWith("<!doctype html")&&(a=Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})),a="object"===typeof n?n.result:n&&""!==n.trim()?n.trim():"Unexpected error"),t.container.show(p.a.ERROR,e,a,!0,(function(){}),(function(){}),"Ok"))},this.showConfirmDanger=function(e,n){return t.showConfirm(e,n,p.a.ERROR)},this.showConfirmWarning=function(e,n){return t.showConfirm(e,n,p.a.WARNING)},this.showConfirm=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a.INFO;return new Promise((function(i,r){t.container.isShown?Object(f.a)((function(){t.container.show(a,e,n,!1,(function(e){i(!0)}),(function(e){i(!1)}))}),O):t.container.show(a,e,n,!1,(function(e){i(!0)}),(function(e){i(!1)}))}))},this.showPrompt=function(e,n,a){return new Promise((function(i,r){t.doShowPrompt(e,n,i,a)}))},this.doShowPrompt=function(e,n,a,i){if(t.container.isShown)Object(f.a)((function(){t.doShowPrompt(e,n,a,i)}),O);else{t.container.showNoButtons(e,Object(m.jsx)(j,{message:n,onSubmit:function(e){t.dismissAlert(),a(e)},defaultValue:i}),(function(e){a(void 0)}))}},this.dismissAlert=function(){t.container.dismissAlert()},this.showContent=function(e,n,a){return new Promise((function(r,s){a||(a={close:function(){}});var o=Object(c.createElement)(n.type,Object(i.a)(Object(i.a)({},n.props),{},{dialogObserver:a}));t.container.showNoButtons(e,o,(function(e){r(!1)}),a)}))}})))||a},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},i=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var i=n[a];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},r="kado-in-login-token",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/json";return{"Content-Type":e,requestId:"ABCD",Authorization:"Bearer "+i(r)}},o=function(){a(r,null,0)},c=function(e){a(r,e)},l=function(){var e=d();return void 0!==e&&null!==e&&""!==e.trim()},d=function(){return i(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1),i=n(2),r=n(4),s=n(3),o=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).username=void 0,e.displayName=void 0,e.fullName=void 0,e.phoneNumber=void 0,e.email=void 0,e.editPassword=void 0,e.authorities=void 0,e.hasAuthorityType=function(t){if(e.authorities)for(var n=0;n<e.authorities.length;n++){var a=e.authorities[n];if("string"===typeof t){if(a.name===t)return!0}else for(var i=0;i<t.length;i++){if(t[i]===a.name)return!0}}return!1},e.birthDate=void 0,e.birthPlace=void 0,e.gender="MALE",e}return Object(a.a)(n)}(n(23).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,i,r,s,o,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(41),b=n(30),j=n(14).a.App.hosts.api+"/api/admin/management/",p=(a=Object(h.a)(),i=Object(m.a)(b.a),a((s=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",o,this),this.get=function(e,n){var a="".concat(j).concat(e,"/").concat(n);return t.rest.getAuthorized(a)},this.post=function(e,n){var a="".concat(j).concat(e);return t.rest.postAuthorized(a,n)},this.put=function(e,n,a){var i="".concat(j).concat(e,"/").concat(n);return t.rest.putAuthorized(i,a)},this.patchAction=function(e,n,a){var i="".concat(j).concat(e,"/").concat(n,"?action=").concat(a);return t.rest.patchAuthorized(i,{})},this.delete=function(e,n){var a="".concat(j).concat(e,"/").concat(n);return t.rest.deleteAuthorized(a)},this.list=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l="";i&&(l="&order="+i,!0===r&&(l+="&orderDesc=true"));var d="".concat(j).concat(e,"?")+"page=".concat(n,"&")+"limit=".concat(a)+l+(s?v(s):"")+(o?O(o):"")+(c?f(c):"");return t.rest.getAuthorized(d)}})),o=Object(u.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r),f=function(e){return g("displayFieldAliases",e)},O=function(e){return g("fieldPaths",e)},v=function(e){return g("filter",e)},g=function(e,t){if(!t||0==t.length)return"";if("string"===typeof t)return"&".concat(e,"=").concat(t);for(var n=[],a=0;a<t.length;a++){var i=t[a];n.push("".concat(e,"=").concat(i))}return"&"+n.join("&")}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a,i=n(1),r=n(2),s=n(39),o=Object(s.a)()(a=Object(i.a)((function e(){var t=this;Object(r.a)(this,e),this.startLoading=function(){var e;null===(e=t.component)||void 0===e||e.startLoading()},this.stopLoading=function(){var e;null===(e=t.component)||void 0===e||e.stopLoading()},this.component=void 0,this.setComponent=function(e){t.component=e}})))||a},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,i,r,s,o,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(41),b=n(14),j=n(30),p=b.a.App.hosts.api+"/api/admin/management/",f=(a=Object(h.a)(),i=Object(m.a)(j.a),a((s=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",o,this),this.getMembers=function(e){return t.rest.getAuthorized("".concat(p,"classlevels/").concat(e,"/members"))},this.getActiveClasses=function(){var e="".concat(p,"classlevels/active");return t.rest.getAuthorized(e)}})),o=Object(u.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,i,r,s,o,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(41),b=n(30),j=n(14).a.App.hosts.api+"/api/admin/management/",p=(a=Object(h.a)(),i=Object(m.a)(b.a),a((s=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",o,this),this.getConfig=function(e){return t.rest.getAuthorized("".concat(j,"schools-config/school/").concat(e))},this.update=function(e){return t.rest.putAuthorized("".concat(j,"schools-config/").concat(e.id),e)}})),o=Object(u.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,i,r,s,o,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(41),b=n(30),j=n(14).a.App.hosts.api+"/api/admin/management/uploads/",p=(a=Object(h.a)(),i=Object(m.a)(b.a),a((s=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",o,this),this.uploadSignature=function(e,n){var a="".concat(j,"employee/signature"),i=new FormData;return i.append("id",e.id.toString()),i.append("file",n),t.rest.postAuthorized(a,i)}})),o=Object(u.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=s))||r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,i=n(99),r=(n(52),n(30)),s=n(29),o=n(44),c=n(32),l=n(1),d=n(2),u=n(39),h=Object(u.a)()(a=Object(l.a)((function e(){Object(d.a)(this,e)})))||a,m=n(50),b=n(43),j=n(37),p=n(20),f=n(45),O=n(31),v=new i.a;v.bind(h).toSelf().inSingletonScope(),v.bind(r.a).toSelf().inSingletonScope(),v.bind(s.a).toSelf().inSingletonScope(),v.bind(j.a).toSelf().inSingletonScope(),v.bind(p.a).toSelf().inSingletonScope(),v.bind(o.a).toSelf().inSingletonScope(),v.bind(m.a).toSelf().inSingletonScope(),v.bind(f.a).toSelf().inSingletonScope(),v.bind(c.a).toSelf().inSingletonScope(),v.bind(b.a).toSelf().inSingletonScope(),v.bind(O.a).toSelf().inSingletonScope()},,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))}},function(e,t,n){"use strict";var a,i,r,s=n(6),o=n(8),c=n(4),l=n(3),d=n(7),u=(n(15),n(1)),h=n(2),m=n(5),b=n.n(m),j=(n(74),n(10)),p=n(12),f=n(25),O=n(17),v=n(0),g=function(e){var t;if(void 0!==e.show&&!1===e.show)return null;var n=!0===e.disabled?{disabled:"disabled"}:{};return Object(v.jsxs)("button",Object(O.a)(Object(O.a)({type:null!==(t=e.type)&&void 0!==t?t:"button",className:e.className,onClick:e.onClick},n),{},{children:[e.iconClass?Object(v.jsx)("i",{className:e.iconClass+(e.children?" me-3":"")}):null,e.children]}))},x=n(20),w=(a=Object(j.resolve)(x.a),i=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(s.a)(e,"routing",r,Object(o.a)(e)),e.goBack=function(){e.props.back&&e.routing.navigate(e.props.back)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",Object(O.a)(Object(O.a)({},this.props.attributes),{},{className:"container-fluid baseView",children:[this.props.title&&""!==this.props.title.trim()?Object(v.jsx)("h2",{style:{textAlign:this.props.titleAlign},children:this.props.title}):null,this.props.back?Object(v.jsx)(g,{onClick:this.goBack,className:"btn btn-dark btn-sm my-2",iconClass:"fas fa-arrow-left",children:"Back"}):null,this.props.children]}))}}]),n}(m.Component),r=Object(d.a)(i.prototype,"routing",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i),y=Object(u.a)((function e(){Object(h.a)(this,e),this.error=void 0,this.message=void 0,this.busy=!1})),N=Object(u.a)((function e(){Object(h.a)(this,e),this.totalData=0,this.page=0,this.limit=10,this.items=[],this.order="id",this.orderDesc=void 0})),C=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).result=new N,e.item=void 0,e.showForm=!1,e.filter={},e}return Object(u.a)(n)}(y),S=Object(u.a)((function e(t,n){var a=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(h.a)(this,e),this.name=t,this.orderable=i,this.filterable=r,this.label=void 0,this.adjustLabel=function(){if(a.label){if(a.label.includes(".")){var e=a.label.split(".");a.label=e[e.length-1]}a.label=k(a.label)}},this.label=null!==n&&void 0!==n?n:t,this.filterable=!!this.orderable&&r,this.adjustLabel()})),k=function(e){return e[0].toUpperCase()+e.substring(1,e.length)},D=n(23),A=n(36),E=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).nisdm=void 0,e.profileImage=void 0,e.user=new A.a,e.noKk=void 0,e.noKtp=void 0,e.addressKtp=void 0,e.addressOther=void 0,e.motherName=void 0,e.fatherName=void 0,e.npwp=void 0,e.bankAccountNumber=void 0,e.educations=[],e.schools=[],e.photoScan=void 0,e.kkScan=void 0,e.npwpScan=void 0,e.bankAccountScan=void 0,e.signatureFile=void 0,e.active=void 0,e.removeEducation=function(t){for(var n=0;n<e.educations.length;n++){if(e.educations[n].id===t){e.educations.splice(n,1);break}}},e.addSchool=function(t){for(var n=0;n<e.schools.length;n++){if(e.schools[n].id===t.id)return console.warn("duplicate school id: "+t.id),!1}return e.schools.push(t),!0},e.removeSchool=function(t){for(var n=0;n<e.schools.length;n++){if(e.schools[n].id===t){e.schools.splice(n,1);break}}},e}return Object(u.a)(n)}(D.a),F=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).type="S1",e.name=void 0,e.major=void 0,e.title=void 0,e.certificateScan=void 0,e}return Object(u.a)(n)}(D.a),I=n(14),P=n(51);function L(e){return function(t){var n=Object(p.h)(),a=Object(p.g)();return Object(v.jsx)(e,Object(O.a)({navigate:function(e){var t=P.a.get(x.a);a(e),t.updateRoute(e)},routeParams:n},t))}}var M,R,B,U,T,z,q,K,_,W,H,Y,V,G,J,Q,X,Z,$,ee,te,ne,ae,ie,re,se,oe=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*a));return t},ce=function(e){return[e.getFullYear(),le(e.getMonth()+1),le(e.getDate())].join("-")},le=function(e){return e>=10?e.toString():"0"+e},de=n(22),ue=n(32),he=n(29),me=n(31),be=(M=Object(j.resolve)(he.a),R=Object(j.resolve)(ue.a),B=Object(j.resolve)(me.a),U=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return Object(h.a)(this,n),(a=t.call(this,e)).authorized=i,a.title=void 0,Object(s.a)(a,"authService",T,Object(o.a)(a)),Object(s.a)(a,"dialog",z,Object(o.a)(a)),Object(s.a)(a,"toast",q,Object(o.a)(a)),a.initialize=function(){document.title=a.title?a.title:I.a.App.uiSetting.defaultTitle},a.navigate=function(e){a.props.navigate?a.props.navigate(e):console.error("props.navigate does not exist")},a.gotoHomePage=function(){a.navigate("/")},a.invalidSession=function(){return Object(v.jsx)(w,{title:"Invalid Session",children:Object(v.jsx)("p",{children:"You must log in to access this page"})})},a.title=r,a.initialize(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(){!this.authorized||this.authService.loggedIn||this.navigate("/")}}]),n}(de.a),T=Object(d.a)(U.prototype,"authService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(d.a)(U.prototype,"dialog",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Object(d.a)(U.prototype,"toast",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),je=n(37),pe=n(33),fe=function(e){return void 0!==e.show&&!1===e.show?null:e.to?Object(v.jsxs)(pe.b,{to:e.to,className:e.className,onClick:e.onClick,children:[e.iconClass?Object(v.jsx)("i",{className:e.iconClass+(e.children?" me-3":"")}):null,e.children]}):Object(v.jsxs)("a",{className:e.className,onClick:e.onClick,children:[e.iconClass?Object(v.jsx)("i",{className:e.iconClass+(e.children?" me-3":"")}):null,e.children]})},Oe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=ve(this.props.limit,this.props.totalData,this.props.activePage);if(0===t.length)return null;var n=t[t.length-1],a=this.props.activePage+1>=n?0:this.props.activePage+1,i=this.props.activePage-1<0?n-1:this.props.activePage-1;return Object(v.jsx)("div",{children:Object(v.jsx)("nav",{"aria-label":"Page navigation example",children:Object(v.jsxs)("ul",{className:"pagination",children:[Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("a",{className:"page-link clickable",onClick:function(t){return e.props.onClick(i)},children:"Previous"})}),t.map((function(t,n){return Object(v.jsx)("li",{className:"page-item "+(t-1===e.props.activePage?"active":""),children:Object(v.jsx)("a",{className:"page-link clickable",onClick:function(n){return e.props.onClick(t-1)},children:t})},"NAV-"+oe(10))})),Object(v.jsx)("li",{className:"page-item",children:Object(v.jsx)("a",{className:"page-link clickable",onClick:function(t){return e.props.onClick(a)},children:"Next"})})]})})})}}]),n}(m.Component),ve=function(e,t,n){var a=[],i=Math.ceil(t/e),r=n-1,s=n+3;i>1&&a.push(1);for(var o=r;o<=s;o++)o>1&&o<=i&&a.push(o);return s<i&&a.push(i),a},ge=(n(93),n(94),function(e,t,n,a,i,r){return e.map((function(e){var s,o=t===e.name?"text-center bg-light":"text-center",c=t===e.name?"text-dark":"text-secondary",l=t===e.name;return Object(v.jsxs)("th",{className:o,children:[e.orderable?Object(v.jsxs)("button",{type:"button",className:"sortButton mb-1 btn btn-text w-100 ".concat(c),onClick:function(t){e.orderable&&e.name&&a(e.name,!n)},children:[Object(v.jsx)("b",{className:"text-start w-100",children:e.label}),l?Object(v.jsx)("i",{className:"fas ".concat(n?"fa-long-arrow-alt-down":"fa-long-arrow-alt-up"," ms-2")}):Object(v.jsx)("i",{className:"fas fa-sort ms-2"})]}):Object(v.jsx)("span",{className:"text-secondary",children:e.label}),e.filterable&&e.name?Object(v.jsx)("input",{id:"input-filter-".concat(e.name),className:"form-control form-control-sm",value:null!==(s=i[e.name])&&void 0!==s?s:"",onChange:function(t){if(e.name){var n=t.target;r(e.name,n.value)}}}):null]},"th-item-"+oe(3))}))}),xe=(K=Object(j.resolve)(je.a),_=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,a,i){var r;return Object(h.a)(this,n),(r=t.call(this,e,!0,i)).name=a,Object(s.a)(r,"service",W,Object(o.a)(r)),r.load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;r.service.list(r.name,e,t,n,a,r.filterParams).then((function(e){var t=[];e.items.forEach((function(e){t.push(Object.assign(r.defaultItem,e))})),e.items=t,r.setState({result:e})})).catch(console.error)},r.onFormSubmit=function(e){e.preventDefault();var t=r.state.item;t?void 0===t.id||t.id<=0?r.insert(t):r.update(t):r.dialog.showError("Submission Error","Undefined payload")},r.showForm=function(){return r.setState({showForm:!0})},r.hideForm=function(){return r.setState({item:r.defaultItem,showForm:!1})},r.edit=function(e){return r.setState({item:e},r.showForm)},r.delete=function(e){r.dialog.showConfirmDanger("Delete Item","Are you sure to delete this item?").then((function(t){t&&r.service.delete(r.name,e.id).then((function(e){r.dialog.showInfo("Delete Success","Item has been deleted"),r.loadCurrentPage()})).catch((function(e){r.dialog.showError("Delete Failed",e)}))}))},r.insert=function(e){r.dialog.showConfirm("Insert Item","Are you sure to add this item? ").then((function(t){t&&r.service.post(r.name,e).then((function(e){r.dialog.showInfo("Insert Success","New item has been inserted"),r.loadCurrentPage(),r.hideForm()})).catch((function(e){r.dialog.showError("Insert Failed",e)}))}))},r.showInsertForm=function(){return r.setState({showForm:!0,item:r.defaultItem})},r.resetFilter=function(){return r.setState({filter:{}},r.load)},r.resetFormAndClose=function(){return r.setState({showForm:!1,item:r.defaultItem},r.afterFormCloseCallback)},r.formEditSubmit=function(e){e.preventDefault(),r.state.item&&r.state.item.id>0?r.update(r.state.item):r.state.item&&(!r.state.item.id||r.state.item.id<=0)&&r.insert(r.state.item)},r.update=function(e){r.dialog.showConfirm("Update Item","Are you sure to update this item? ").then((function(t){t&&r.service.put(r.name,e.id,e).then((function(e){r.dialog.showInfo("Update Success","Item has been updated"),r.loadCurrentPage(),r.hideForm()})).catch((function(e){r.dialog.showError("Update Failed",e)}))}))},r.patchAction=function(e,t){r.dialog.showConfirmWarning("Execute Action","Are you sure to execute action: "+t+"? ").then((function(n){n&&r.service.patchAction(r.name,e.id,t).then((function(e){r.dialog.showInfo("Action Completed","Action: "+t+" has been executed"),r.loadCurrentPage(),r.hideForm()})).catch((function(e){r.dialog.showError("Update Failed",e)}))}))},r.loadCurrentPage=function(){r.load(r.state.result.page,r.state.result.limit)},r.loadFromForm=function(e){e.preventDefault(),r.load(0,r.state.result.limit,"id",!1)},r.setItemsOrder=function(e,t){r.load(r.state.result.page,r.state.result.limit,e,t)},r.getDataTableHeaderComponent=function(){return ge(r.getDataTableHeaderVals(),r.activeOrder,r.isOrderDesc,r.setItemsOrder,r.state.filter,r.onFilterChange)},r.onFilterChange=function(e,t){var n=r.state.filter;(!t||""===t.trim())&&n[e]?delete n[e]:n[e]=t,r.setState({filter:n},(function(){var t=document.getElementById("input-filter-".concat(e));null===t||void 0===t||t.focus()}))},r.actionButton=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-6 px-1",children:Object(v.jsx)(fe,{onClick:function(){return r.edit(e)},iconClass:"fas fa-edit",className:"btn btn-text clickable"})}),t?Object(v.jsx)("div",{className:"col-md-6 px-1",children:Object(v.jsx)(fe,{onClick:function(){return r.delete(e)},className:"btn btn-text text-danger",iconClass:"fas fa-times"})}):null]})},r.listToggler=function(e,t,n,a,i){return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){return Object(v.jsxs)("div",{className:"listTogglerItem",children:[Object(v.jsx)(g,{onClick:function(n){return i(t,e.id)},className:"btn btn-text btn-sm text-danger me-2",iconClass:"fas fa-minus-circle"}),Object(v.jsx)("span",{className:"no-wrap",children:n(e)})]},"list-toggler-item-".concat(oe(5)))})),Object(v.jsx)(g,{onClick:function(e){return a(t)},className:"btn btn-sm btn-text",iconClass:"fas fa-plus-circle text-success"})]})},r}return Object(u.a)(n,[{key:"item",get:function(){return this.state.item}},{key:"activeOrder",get:function(){var e;return null!==(e=this.state.result.order)&&void 0!==e?e:"id"}},{key:"isOrderDesc",get:function(){return!0===this.state.result.orderDesc}},{key:"startingNumber",get:function(){return 1+this.state.result.page*this.state.result.limit}},{key:"filterParams",get:function(){var e=this.state.filter,t=[];for(var n in e)t.push("".concat(n,":").concat(e[n]));return t}},{key:"componentDidMount",value:function(){this.load()}},{key:"afterFormCloseCallback",value:function(){}},{key:"paginationButton",get:function(){var e=this,t=this.state.result;return Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsx)(Oe,{limit:t.limit,totalData:t.totalData,activePage:t.page,onClick:function(t){return e.load(t,e.state.result.limit)}})}),Object(v.jsx)("div",{className:"col-md-4",children:Object(v.jsx)(we,{defaultLimit:t.limit,onSubmit:function(n){e.load(0,n,t.order,t.orderDesc)}})})]})}},{key:"closeFormButton",get:function(){return Object(v.jsx)(g,{onClick:this.resetFormAndClose,iconClass:"fas fa-times",className:"btn btn-secondary btn-sm mx-2",children:"Close form"})}},{key:"showFormButton",get:function(){return Object(v.jsx)(g,{onClick:this.showInsertForm,iconClass:"fas fa-plus",className:"btn btn-primary btn-sm mx-2",children:"Insert new data"})}},{key:"tableFooter",get:function(){return Object(v.jsx)("tfoot",{children:Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{colSpan:4,children:[Object(v.jsx)(g,{type:"submit",iconClass:"fas fa-redo",className:"btn btn-secondary btn-sm me-2",children:"Reload"}),Object(v.jsx)(g,{type:"button",onClick:this.resetFilter,className:"btn btn-warning btn-sm",children:"Reset Filter"})]})})})}}]),n}(be),W=Object(d.a)(_.prototype,"service",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_),we=function(e){var t=Object(m.useState)(e.defaultLimit),n=Object(f.a)(t,2),a=n[0],i=n[1];return Object(v.jsxs)("form",{className:"input-group",onSubmit:function(t){t.preventDefault(),e.onSubmit(a)},children:[Object(v.jsx)("input",{type:"number",value:a,min:1,className:"form-control form-control-sm",onChange:function(e){var t=e.target;i(parseInt(t.value))},required:!0}),Object(v.jsx)("div",{className:"input-group-append",children:Object(v.jsx)(g,{type:"submit",className:"btn btn-sm btn-info text-white",iconClass:"fas fa-play",children:"Apply Page Size"})})]})},ye=xe,Ne=n(50),Ce=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(C),Se=(H=Object(j.resolve)(Ne.a),Y=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e,"employees","Employees Management"),Object(s.a)(a,"upload",V,Object(o.a)(a)),a.getDataTableHeaderVals=function(){return[new S("nisdm","NISDM"),new S("user.fullName","Full Name"),new S("user.email","Email"),new S("user.birthDate","BirthDate"),new S("user.gender","Gender"),new S(null,"Signature",!1),new S(null,"School",!1),new S(null,"Education",!1)]},a.removeEducation=function(e,t){a.dialog.showConfirmDanger("Remove Education","Dou you want to remove education data?").then((function(n){n&&(e.removeEducation(t),a.update(e))}))},a.addEducation=function(e){a.dialog.showContent("Add Education",Object(v.jsx)(Ee,{item:e,update:function(t){return a.submitAddEducation(e,t)}}))},a.submitAddEducation=function(e,t){e.educations.push(t),a.update(e)},a.removeSchool=function(e,t){a.dialog.showConfirmDanger("Remove School","Dou you want to remove school data?").then((function(n){n&&(e.removeSchool(t),a.update(e))}))},a.addSchool=function(e){a.service.get("employees",e.id).then((function(e){e=Object.assign(new E,e),a.service.list("schools",0,-1,void 0).then((function(t){a.dialog.showContent("Add School",Object(v.jsx)(Fe,{schools:t.items,update:function(t){return a.submitAddSchool(e,t)}}))})).catch(console.error)})).catch(console.error)},a.submitAddSchool=function(e,t){e.addSchool(t)&&a.update(e)},a.showSignatureForm=function(e){var t={close:function(){}};a.dialog.showContent("Upload Signature",Object(v.jsx)(De,{employee:e,submit:function(e,n){a.upload.uploadSignature(e,n).then((function(e){t.close&&t.close(),a.toast.showSuccess("Signature has been uploaded"),a.forceUpdate()})).catch((function(e){a.toast.showDanger("Failed to upload signature"),console.error(e)}))}}))},a.state=new Ce,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new E}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(Ae,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){var a=t.user,i=t.schools,r=t.educations;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:t.nisdm}),Object(v.jsx)("td",{children:a.fullName}),Object(v.jsx)("td",{children:a.email}),Object(v.jsx)("td",{children:new Date(a.birthDate).toLocaleDateString()}),Object(v.jsx)("td",{children:a.gender}),Object(v.jsxs)("td",{children:[Object(v.jsx)("img",{width:50,height:50,src:ke(t.id)}),Object(v.jsx)("div",{children:Object(v.jsx)(g,{iconClass:"fas fa-edit",className:"btn btn-dark btn-sm",onClick:function(){return e.showSignatureForm(t)}})})]}),Object(v.jsx)("td",{children:e.listToggler(i,t,(function(e){return"".concat(e.name)}),e.addSchool,e.removeSchool)}),Object(v.jsx)("td",{children:e.listToggler(r,t,(function(e){return"".concat(e.type,": ").concat(e.name)}),e.addEducation,e.removeEducation)}),Object(v.jsx)("td",{children:e.actionButton(t)})]},"user-"+t.id)}))}),this.tableFooter]})]})]})}}]),n}(ye),V=Object(d.a)(Y.prototype,"upload",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y),ke=function(e){return"".concat(I.a.App.hosts.api,"/files/employeesignature/").concat(e,"?v=").concat((new Date).getTime())},De=function(e){var t=Object(m.useState)(null),n=Object(f.a)(t,2),a=n[0],i=n[1];return Object(v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a&&a instanceof File&&e.submit(e.employee,a)},children:[Object(v.jsx)("p",{children:"Select file"}),Object(v.jsx)("input",{required:!0,onChange:function(e){var t=e.target;t.files&&t.files[0]&&i(t.files[0])},className:"form-control",type:"file",accept:"image/png"}),Object(v.jsx)("p",{}),Object(v.jsx)(g,{className:"btn btn-success",type:"submit",children:"Upload"})]})},Ae=function(e){var t=e.item,n=e.handleInputChange;return Object(v.jsx)("div",{className:"formEditContainer",children:Object(v.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(v.jsx)("p",{children:"NiSDM"}),Object(v.jsx)("input",{className:"form-control",id:"item.nisdm",name:"item.nisdm",value:t.nisdm,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Full Name"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.fullName",name:"item.user.fullName",value:t.user.fullName,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Email"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.email",name:"item.user.email",type:"email",value:t.user.email,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Gender"}),Object(v.jsxs)("select",{className:"form-control",value:t.user.gender,id:"item.user.gender",name:"item.user.gender",onChange:n,required:!0,children:[Object(v.jsx)("option",{children:"MALE"}),Object(v.jsx)("option",{children:"FEMALE"})]}),Object(v.jsx)("p",{children:"Birth Date"}),Object(v.jsx)("input",{type:"date",className:"form-control",id:"item.user.birthDate",name:"item.user.birthDate",value:ce(new Date(t.user.birthDate)),onChange:n,required:!0}),Object(v.jsx)("p",{children:"Birth Place"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.birthPlace",name:"item.user.birthPlace",value:t.user.birthPlace,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Phone Number"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.phoneNumber",name:"item.user.phoneNumber",value:t.user.phoneNumber,onChange:n,required:!0}),Object(v.jsx)("p",{children:"No KK"}),Object(v.jsx)("input",{className:"form-control",id:"item.noKk",name:"item.noKk",value:t.noKk,onChange:n,required:!0}),Object(v.jsx)("p",{children:"No KTP"}),Object(v.jsx)("input",{className:"form-control",id:"item.noKtp",name:"item.noKtp",value:t.noKtp,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Alamat Sesuai KTP"}),Object(v.jsx)("input",{className:"form-control",id:"item.addressKtp",name:"item.addressKtp",value:t.addressKtp,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Alamat Domisili"}),Object(v.jsx)("input",{className:"form-control",id:"item.addressOther",name:"item.addressOther",value:t.addressOther,onChange:n}),Object(v.jsx)("p",{children:"Nama Ibu"}),Object(v.jsx)("input",{className:"form-control",id:"item.motherName",name:"item.motherName",value:t.motherName,onChange:n}),Object(v.jsx)("p",{children:"Nama Ayah"}),Object(v.jsx)("input",{className:"form-control",id:"item.fatherName",name:"item.fatherName",value:t.fatherName,onChange:n}),Object(v.jsx)("p",{children:"NPWP"}),Object(v.jsx)("input",{className:"form-control",id:"item.npwp",name:"item.npwp",value:t.npwp,onChange:n}),Object(v.jsx)("p",{children:"No Rekening BSI"}),Object(v.jsx)("input",{className:"form-control",id:"item.bankAccountNumber",name:"item.bankAccountNumber",value:t.bankAccountNumber,onChange:n}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},Ee=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){e.preventDefault(),a.props.update(a.state.item)},a.state={item:new F},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.item;return Object(v.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(v.jsx)("p",{children:"Type"}),Object(v.jsx)("select",{className:"form-control",value:e.type,name:"item.type",onChange:this.handleInputChange,children:["S1","S2","S3","D1","D2","D3"].map((function(e){return Object(v.jsx)("option",{children:e},"add-edu-lvl-"+e)}))}),Object(v.jsx)("p",{children:"Name"}),Object(v.jsx)("input",{className:"form-control",value:e.name,name:"item.name",onChange:this.handleInputChange}),Object(v.jsx)("p",{children:"Major"}),Object(v.jsx)("input",{className:"form-control",value:e.major,name:"item.major",onChange:this.handleInputChange}),Object(v.jsx)("p",{children:"Title"}),Object(v.jsx)("input",{className:"form-control",value:e.title,name:"item.title",onChange:this.handleInputChange}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Save"})]})}}]),n}(de.a),Fe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).selectedSchool=void 0,a.onSubmit=function(e){e.preventDefault(),a.props.update(a.selectedSchool),a.props.dialogObserver&&a.props.dialogObserver.close()},a.selectedSchool=a.props.schools[0],a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(v.jsx)("p",{children:"Type"}),Object(v.jsx)("select",{className:"form-control",children:this.props.schools.map((function(t){return Object(v.jsx)("option",{onClick:function(n){e.selectedSchool=t},children:t.name},"add-school-"+t.code)}))}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Save"})]})}}]),n}(m.Component),Ie=L(Se),Pe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(y),Le=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,!0,"Admin Area")).state=new Pe,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(v.jsx)(w,{title:"Admin Area",children:Object(v.jsx)("div",{className:"row",children:Me.map((function(e){return Object(v.jsx)("div",{className:"col-md-3 mb-2",children:Object(v.jsx)(fe,{className:"btn btn-light px-5 py-5 w-100",to:e.url,iconClass:e.iconClass,children:e.label})},"mngmnt-menu-"+e.url)}))})})}}]),n}(be),Me=[{url:"/admin/users",label:"Users",iconClass:"fas fa-user-circle"},{url:"/admin/schools",label:"Schools",iconClass:"fas fa-school"},{url:"/admin/employees",label:"Employees",iconClass:"fas fa-users"},{url:"/admin/semesterperiods",label:"Semesters",iconClass:"fas fa-calendar-alt"},{url:"/admin/classlevels",label:"Classes",iconClass:"fas fa-chalkboard-teacher"},{url:"/admin/students",label:"Students",iconClass:"fas fa-user-graduate"},{url:"/admin/classmembers",label:"Class Members",iconClass:"fas fa-user-friends"}],Re=L(Le),Be=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).nis=void 0,e.name=void 0,e.code=void 0,e.address=void 0,e.level=void 0,e}return Object(u.a)(n)}(D.a),Ue=n(45),Te=(G=Object(j.resolve)(je.a),J=Object(j.resolve)(me.a),Q=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(s.a)(a,"service",X,Object(o.a)(a)),Object(s.a)(a,"toast",Z,Object(o.a)(a)),a.search=function(e){e.preventDefault(),a.service.list("employees",0,10,"user.fullName",!1,"user.fullName:"+a.state.searchEmployee).then((function(e){a.handleSearchEmployee(e.items)})).catch(console.error)},a.handleSearchEmployee=function(e){e&&0!==e.length?a.setState({employees:e}):a.toast.showDanger('No employee contains name "'+a.state.searchEmployee+'" was found')},a.closeDropdown=function(){a.setState({employees:[]})},a.setSelectedEmployee=function(e){a.setState({selectedEmployee:e,searchEmployee:e.user.fullName},a.closeDropdown)},a.submit=function(){var e,t=a.state.selectedEmployee;t?(a.props.onSelect(t),null===(e=a.props.dialogObserver)||void 0===e||e.close()):a.toast.showDanger("Invalid employee")},a.state={searchEmployee:"",employees:[],selectedEmployee:void 0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.employees;return Object(v.jsxs)("div",{children:[Object(v.jsx)("p",{children:"Select Employee"}),Object(v.jsxs)("form",{onSubmit:this.search,className:"my-5 mx-5 pb-5",children:[Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{type:"search",className:"form-control",name:"searchEmployee",value:this.state.searchEmployee,placeholder:"Full Name",onChange:this.handleInputChange,required:!0}),Object(v.jsx)("div",{className:"input-group-append",children:Object(v.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Search"})})]}),Object(v.jsx)("div",{style:{position:"absolute",width:"75%"},children:t.length>0?Object(v.jsxs)("div",{className:"bg-light border border-dark px-2 py-1 w-100",style:{position:"relative"},children:[Object(v.jsx)(g,{className:"btn btn-text btn-sm",iconClass:"fas fa-times",onClick:this.closeDropdown,children:"close"}),Object(v.jsx)("div",{style:{overflowY:"auto",height:"100px"},children:Object(v.jsx)("div",{className:"no-wrap",style:{width:"max-content"},children:t.map((function(t){return Object(v.jsx)("div",{children:Object(v.jsxs)("a",{className:"btn btn-text clickable",onClick:function(){return e.setSelectedEmployee(t)},children:[t.user.fullName.trim(),", nisdm: ",t.nisdm]})},"set-emp-"+t.id)}))})})]}):null}),Object(v.jsx)("button",{type:"button",className:"btn btn-success mt-3",onClick:this.submit,children:"Ok"})]})]})}}]),n}(de.a),X=Object(d.a)(Q.prototype,"service",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=Object(d.a)(Q.prototype,"toast",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q),ze=L(($=Object(j.resolve)(ue.a),ee=Object(j.resolve)(Ue.a),te=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(s.a)(a,"dialog",ne,Object(o.a)(a)),Object(s.a)(a,"service",ae,Object(o.a)(a)),a.onSubmit=function(e){e.preventDefault(),a.saveConfig()},a.saveConfig=function(){var e=a.state.config;a.dialog.showConfirm("Save School Config","Do you want to save config?").then((function(t){t&&a.service.update(e).then((function(){a.dialog.showInfo("School Config Update","Config has been updated")})).catch((function(e){return a.dialog.showError("School Config Update",e)}))}))},a.selectHeadMaster=function(){a.showSelectEmployeeForm("Select School Head Master","headMaster")},a.selectAdmin=function(){a.showSelectEmployeeForm("Select School Admin","admin")},a.showSelectEmployeeForm=function(e,t){var n=a.state.config;a.dialog.showContent(e,Object(v.jsx)(Te,{onSelect:function(e){n[t]=e,a.setState({config:n})}}))},a.state={config:e.config},a}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n,a,i,r,s=this.props.school,o=this.state.config;return Object(v.jsxs)("form",{className:"container-fluid",onSubmit:this.onSubmit,children:[Object(v.jsxs)("h4",{className:"text-center",children:["School Config ",s.name]}),Object(v.jsx)("table",{children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(g,{iconClass:"fas fa-edit",className:"btn btn-text btn-sm me-1",onClick:this.selectHeadMaster}),"Head Master"]})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"px-3",children:null!==(e=null===(t=o.headMaster)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.fullName)&&void 0!==e?e:"-"})})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(g,{iconClass:"fas fa-edit",className:"btn btn-text btn-sm me-1",onClick:this.selectAdmin}),"Admin"]})}),Object(v.jsx)("td",{children:Object(v.jsx)("span",{className:"px-3",children:null!==(a=null===(i=o.admin)||void 0===i||null===(r=i.user)||void 0===r?void 0:r.fullName)&&void 0!==a?a:"-"})})]}),Object(v.jsx)("tr",{children:Object(v.jsx)("td",{colSpan:2,children:Object(v.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})})})]})})]})}}]),n}(m.Component),ne=Object(d.a)(te.prototype,"dialog",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(d.a)(te.prototype,"service",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te)),qe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showConfigForm=!1,e.config=void 0,e}return Object(u.a)(n)}(C),Ke=L((ie=Object(j.resolve)(Ue.a),re=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e,"schools","School Management"),Object(s.a)(a,"configService",se,Object(o.a)(a)),a.showConfigForm=function(e){a.configService.getConfig(e.id).then((function(t){a.setState({config:t,item:e,showConfigForm:!0})})).catch((function(e){return a.dialog.showError("Load Config Failed",e)}))},a.state=new qe,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new Be}},{key:"getDataTableHeaderVals",value:function(){return[new S("nis","NIS"),new S("name","Name"),new S("level","Level"),new S("code","Code"),new S("address","Address"),new S(null,"Config",!1)]}},{key:"afterFormCloseCallback",value:function(){this.setState({showConfigForm:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.showForm,a=t.config,i=t.showConfigForm,r=t.item,s=t.result;if(a&&i&&r)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(ze,{school:r,config:a})]});if(n&&r)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(_e,{item:r,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var o=null===s||void 0===s?void 0:s.items;return Object(v.jsx)(w,{title:this.title,back:"/admin",children:void 0===s||void 0===o?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:o.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:t.nis}),Object(v.jsx)("td",{children:t.name}),Object(v.jsx)("td",{children:t.level}),Object(v.jsx)("td",{children:t.code}),Object(v.jsx)("td",{children:t.address}),Object(v.jsx)("td",{children:Object(v.jsx)(g,{className:"btn btn-text btn-sm",iconClass:"fas fa-cog",onClick:function(){return e.showConfigForm(t)}})}),Object(v.jsx)("td",{children:e.actionButton(t,!1)})]},"School-"+t.id)}))}),this.tableFooter]})]})})}}]),n}(ye),se=Object(d.a)(re.prototype,"configService",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re)),_e=function(e){var t=e.item;return Object(v.jsx)("div",{className:"formEditContainer",children:Object(v.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(v.jsx)("p",{children:"Nis"}),Object(v.jsx)("input",{className:"form-control",name:"item.nis",id:"item.nis",value:t.nis,onChange:e.handleInputChange}),Object(v.jsx)("p",{children:"Name"}),Object(v.jsx)("input",{className:"form-control",name:"item.name",id:"item.name",value:t.name,onChange:e.handleInputChange}),Object(v.jsx)("p",{children:"Code"}),Object(v.jsx)("input",{disabled:!0,className:"form-control",name:"item.code",id:"item.code",value:t.code,onChange:e.handleInputChange}),Object(v.jsx)("p",{children:"Address"}),Object(v.jsx)("textarea",{className:"form-control",name:"item.code",id:"item.address",value:t.address,onChange:e.handleInputChange}),Object(v.jsx)("p",{children:"Level"}),Object(v.jsxs)("select",{className:"form-control",name:"item.level",id:"item.level",value:t.level,onChange:e.handleInputChange,children:[Object(v.jsx)("option",{children:"MA"}),Object(v.jsx)("option",{children:"MTS"})]}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},We=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(C),He=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"users","User Management")).getDataTableHeaderVals=function(){return[new S("email","Email"),new S("username","Acct Name"),new S("fullName","Full Name"),new S("displayName","Display Name"),new S("birthDate","Date of Birth"),new S("birthPlace","Place of Birth"),new S("gender","Gender"),new S("role","Role",!1),new S("phoneNumber","Phone")]},a.resetPassword=function(e){a.patchAction(e,"resetPassword")},a.state=new We,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new A.a}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(Ye,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(v.jsx)(w,{title:this.title,back:"/admin",children:void 0===t||void 0===n?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:t.email}),Object(v.jsx)("td",{children:t.username}),Object(v.jsx)("td",{children:t.fullName}),Object(v.jsx)("td",{children:t.displayName}),Object(v.jsx)("td",{children:new Date(t.birthDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.birthPlace}),Object(v.jsx)("td",{children:t.gender}),Object(v.jsx)("td",{children:t.authorities.map((function(e){var t;return Object(v.jsx)("div",{className:"badge bg-success  me-1",children:null===(t=e.name)||void 0===t?void 0:t.toLocaleLowerCase()})}))}),Object(v.jsx)("td",{children:t.phoneNumber}),Object(v.jsx)("td",{children:Object(v.jsxs)("div",{className:"d-flex",style:{flexWrap:"nowrap",width:"150px"},children:[Object(v.jsx)(g,{iconClass:"fas fa-lock-open",className:"btn btn-warning btn-sm me-2",onClick:function(){return e.resetPassword(t)}}),e.actionButton(t)]})})]},"user-"+t.id)}))}),this.tableFooter]})]})})}}]),n}(ye),Ye=function(e){var t=e.item,n=e.handleInputChange;return Object(v.jsx)("div",{className:"formEditContainer",children:Object(v.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(v.jsx)("p",{children:"Full Name"}),Object(v.jsx)("input",{className:"form-control",id:"item.fullName",name:"item.fullName",value:t.fullName,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Display Name"}),Object(v.jsx)("input",{className:"form-control",id:"item.displayName",name:"item.displayName",value:t.displayName,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Email"}),Object(v.jsx)("input",{className:"form-control",id:"item.email",name:"item.email",type:"email",value:t.email,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Gender"}),Object(v.jsxs)("select",{className:"form-control",value:t.gender,id:"item.gender",name:"item.gender",onChange:n,required:!0,children:[Object(v.jsx)("option",{children:"MALE"}),Object(v.jsx)("option",{children:"FEMALE"})]}),Object(v.jsx)("p",{children:"Birth Date"}),Object(v.jsx)("input",{type:"date",className:"form-control",id:"item.birthDate",name:"item.birthDate",value:ce(new Date(t.birthDate)),onChange:n,required:!0}),Object(v.jsx)("p",{children:"Birth Place"}),Object(v.jsx)("input",{className:"form-control",id:"item.birthPlace",name:"item.birthPlace",value:t.birthPlace,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Phone Number"}),Object(v.jsx)("input",{className:"form-control",id:"item.phoneNumber",name:"item.phoneNumber",value:t.phoneNumber,onChange:n,required:!0}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},Ve=L(He),Ge=function(e){return!1===e.show?null:Object(v.jsx)("div",{className:"alert alert-danger",children:e.children})},Je=function(e){return!1===e.show?null:Object(v.jsx)("div",{className:"alert alert-info",children:e.children})},Qe=n(16),Xe=function(e){return Object(v.jsx)("table",{className:e.className,children:Object(v.jsx)("tbody",{children:e.content.map((function(e){var t="row-"+oe(5);return Object(v.jsx)("tr",{children:e.map((function(e,n){return Object(v.jsx)("td",{children:e},t+"-"+n)}))},t)}))})})},Ze=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).username="",e.password="",e.loading=!1,e.loginSuccess=!1,e}return Object(u.a)(n)}(y),$e=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,!1,"Login")).state=new Ze,a.onSubmit=function(e){console.log("ON submit login"),e.preventDefault(),a.setState({loading:!0}),a.authService.login(a.state.username,a.state.password).then((function(e){a.setState({error:void 0,loginSuccess:!0},(function(){return Object(Qe.a)(a.handleSuccessLogin,500)}))})).catch((function(e){a.setState({error:new Error(null===e||void 0===e?void 0:e.message)})})).finally((function(){a.setState({loading:!1})}))},a.handleSuccessLogin=function(){a.authService.isAdmin?a.navigate("/admin"):a.gotoHomePage()},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.authService.loggedIn&&this.navigate("/")}},{key:"render",value:function(){var e;return this.state.loginSuccess?Object(v.jsx)(w,{children:Object(v.jsx)("div",{className:"pt-5 pb-5 pl-5 pr-5 text-center",children:Object(v.jsx)(Je,{children:"Login Succes"})})}):Object(v.jsx)(w,{children:Object(v.jsxs)("form",{onSubmit:this.onSubmit,className:"row mt-3 ",children:[Object(v.jsx)("div",{className:"col-md-4"}),Object(v.jsxs)("div",{className:"col-md-4 bg-light",style:{padding:20},children:[Object(v.jsx)(Ge,{show:void 0!==this.state.error,children:null===(e=this.state.error)||void 0===e?void 0:e.message}),Object(v.jsx)(Xe,{className:"table table-borderless",content:[["Username",Object(v.jsx)("input",{id:"username",name:"username",value:this.state.username,onChange:this.handleInputChange,className:"form-control",required:!0})],["Password",Object(v.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0})]]}),this.state.loading?Object(v.jsx)("i",{children:"Please wait..."}):Object(v.jsx)(g,{type:"submit",className:"btn btn-success mt-3",children:"Login"}),Object(v.jsx)("p",{className:"mt-3",children:"Don't have account? Contact admin"})]})]})})}}]),n}(be)),et=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e,!1,"Error")}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)(w,{title:"Oops !",children:Object(v.jsx)("div",{className:"alert alert-danger mt-3",children:Object(v.jsx)("p",{children:this.props.message})})})}}]),n}(be),tt=(n(95),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showTitle=!1,e.welcomingWords=[],e}return Object(u.a)(n)}(y)),nt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state=new tt,a.welcomingWord=void 0,a._mounted=!1,a.startDisplayWelcomingWord=function(){a.state.welcomingWords.join("")!==a.welcomingWord&&Object(Qe.a)((function(){if(a.isMounted){var e=a.state.welcomingWords;e.push(a.welcomingWord[a.welcomingWord.length-(a.welcomingWord.length-e.length)]),a.setState({welcomingWords:e},a.startDisplayWelcomingWord)}}),200)},a.title=a.welcomingWord=I.a.App.uiSetting.defaultTitle,a}return Object(u.a)(n,[{key:"isMounted",get:function(){return this._mounted},set:function(e){this._mounted=e}},{key:"componentDidMount",value:function(){this.startDisplayWelcomingWord(),this.isMounted=!0}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(v.jsx)(w,{attributes:{style:{textAlign:"center",paddingTop:"30vh"}},children:Object(v.jsx)(at,{word:this.state.welcomingWords.join("")})})}}]),n}(be),at=function(e){return Object(v.jsx)("div",{style:{fontSize:"3em",fontWeight:"bold"},className:"text-primary text-center",children:e.word})},it=L(nt),rt=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e,!0,"Dashboard")}return Object(u.a)(n,[{key:"render",value:function(){var e;return Object(v.jsx)(w,{title:"Dashboard",children:Object(v.jsxs)("div",{className:"alert alert-success",children:["Hello, ",null===(e=this.authService.loggedUser)||void 0===e?void 0:e.displayName]})})}}]),n}(be)),st=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).user=new A.a,e}return Object(u.a)(n)}(y),ot=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,!1,"Edit Profile")).state=new st,a.onSubmit=function(e){e.preventDefault(),a.dialog.showConfirm("Update Profile","Save user data?").then((function(e){a.authService.updateProfile(a.state.user).then((function(e){a.dialog.showInfo("Update Success","Profile has been updated")})).catch(console.error)})).catch(console.error)},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.authService.loggedUser&&this.setState({user:this.authService.loggedUser})}},{key:"render",value:function(){var e=this.state.user;return Object(v.jsx)(w,{title:"Edit Profile",back:"/dashboard",children:Object(v.jsxs)("form",{className:"border border-gray rounded px-3 py-3",onSubmit:this.onSubmit,children:[Object(v.jsx)("p",{children:"Email"}),Object(v.jsx)("input",{className:"form-control",name:"user.email",value:e.email,onChange:this.handleInputChange}),Object(v.jsx)("p",{children:"Username"}),Object(v.jsx)("input",{className:"form-control",name:"user.username",value:e.username,onChange:this.handleInputChange}),Object(v.jsx)("p",{children:"Display Name"}),Object(v.jsx)("input",{className:"form-control",name:"user.displayName",value:e.displayName,onChange:this.handleInputChange}),Object(v.jsxs)("p",{children:["Password ",Object(v.jsx)("i",{children:"Leave it empty if you don't want to change it"})]}),Object(v.jsx)("input",{autoComplete:"off",className:"form-control",type:"password",name:"user.editPassword",value:e.editPassword,onChange:this.handleInputChange}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-success",type:"submit",value:"Save"})]})})}}]),n}(be)),ct=n(24),lt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).semester=1,e.year=void 0,e.active=void 0,e.direktur=void 0,e.bendahara=void 0,e.pengawasSekolah=void 0,e.headHRD=void 0,e.hearMR=void 0,e.headRnD=void 0,e.headLogistic=void 0,e.headPublicRelation=void 0,e.headLanguage=void 0,e.headPesantren=void 0,e.wakabidTahfiz=void 0,e.wakabidAsrama=void 0,e.adminKiis=void 0,e.adminTahfiz=void 0,e.adminAsrama=void 0,e.pjQurban=void 0,e.pjRamadhan=void 0,e.pjPromosiPSB=void 0,e.pjWebMedia=void 0,e.pjTamuFO=void 0,e.pjAlumni=void 0,e.pjUtsUas=void 0,e.pjEvaluasiPengembanganKurikulum=void 0,e.pjLabKomputer=void 0,e.pjLabIPA=void 0,e.pjLabBahasa=void 0,e.pjBinaPrestasi=void 0,e.pjPerpustakaan=void 0,e.pjBK=void 0,e.pjBahasaArab=void 0,e.pjBahasaInggris=void 0,e.pjUKS=void 0,e.pjOpkiis=void 0,e.pjDKM=void 0,e.pjKesiswaan=void 0,e.pjKurikulum=void 0,e}return Object(u.a)(n)}(D.a);lt.EmployeeFields=["direktur","bendahara","pengawasSekolah","headHRD","hearMR","headRnD","headLogistic","headPublicRelation","headLanguage","headPesantren","wakabidTahfiz","wakabidAsrama","adminKiis","adminTahfiz","adminAsrama","pjQurban","pjRamadhan","pjPromosiPSB","pjWebMedia","pjTamuFO","pjAlumni","pjUtsUas","pjEvaluasiPengembanganKurikulum","pjLabKomputer","pjLabIPA","pjLabBahasa","pjBinaPrestasi","pjPerpustakaan","pjBK","pjBahasaArab","pjBahasaInggris","pjUKS","pjOpkiis","pjDKM","pjKesiswaan","pjKurikulum"];var dt,ut,ht,mt,bt,jt,pt,ft,Ot,vt,gt,xt,wt,yt,Nt,Ct,St,kt,Dt,At,Et,Ft,It,Pt,Lt,Mt,Rt,Bt,Ut,Tt,zt,qt,Kt,_t,Wt,Ht,Yt,Vt,Gt,Jt,Qt,Xt,Zt,$t,en,tn,nn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(C),an=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"semesterperiods","Semester Management")).setActive=function(e){a.patchAction(e,"activate")},a.setEmployeeInCharge=function(e,t){a.dialog.showContent("Set "+t,Object(v.jsx)(sn,{field:t,item:e,update:a.update}))},a.employeeCellFields=function(e){return lt.EmployeeFields.map((function(t){var n;return Object(v.jsx)("td",{children:Object(v.jsxs)("div",{className:"row",style:{flexWrap:"nowrap"},children:[Object(v.jsx)("div",{className:"col-3",children:Object(v.jsx)(g,{iconClass:"fas fa-user-edit",className:"btn btn-sm btn-success me-3",onClick:function(){return a.setEmployeeInCharge(e,t)}})}),Object(v.jsx)("div",{className:"col-8 no-wrap",children:null===(n=e[t])||void 0===n?void 0:n.user.fullName.trim()})]})},"emp-field-"+oe(10))}))},a.state=new nn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new lt}},{key:"getDataTableHeaderVals",value:function(){var e=lt.EmployeeFields.map((function(e){return new S("".concat(e,".user.fullName"),e)}));return[new S("semester","Semester"),new S("year","Year"),new S("active","Active")].concat(Object(ct.a)(e))}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(rn,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),Object(v.jsx)("th",{children:"Action"}),this.getDataTableHeaderComponent()]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:Object(v.jsxs)("div",{className:"mx-2",style:{display:"flex",flexWrap:"nowrap"},children:[Object(v.jsx)(g,{onClick:function(){return e.setActive(t)},iconClass:"fas fa-calendar-check",className:"btn-text btn btn-sm text-primary me-1",disabled:!0===t.active}),e.actionButton(t)]})}),Object(v.jsx)("td",{className:"text-center",children:t.semester}),Object(v.jsx)("td",{children:t.year}),Object(v.jsx)("td",{children:t.active?Object(v.jsx)("b",{className:"text-success",children:"active"}):Object(v.jsx)("i",{children:"not active"})}),e.employeeCellFields(t)]},"smt-period-"+t.id)}))}),this.tableFooter]})]})]})}}]),n}(ye)),rn=function(e){var t=e.item;return Object(v.jsx)("div",{className:"formEditContainer",children:Object(v.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(v.jsx)("p",{children:"Semester"}),Object(v.jsxs)("select",{className:"form-control",name:"item.semester",id:"item.semester",value:t.semester,onChange:e.handleInputChange,required:!0,children:[Object(v.jsx)("option",{children:"1"}),Object(v.jsx)("option",{children:"2"})]}),Object(v.jsxs)("p",{children:["Year. ",Object(v.jsx)("i",{children:"example: 2020-2021"})]}),Object(v.jsx)("input",{className:"form-control",name:"item.year",id:"item.year",value:t.year,onChange:e.handleInputChange,required:!0}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},sn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onSelect=function(t){var n=e.props.item;n[e.props.field]=t,e.props.update(n)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)(Te,{onSelect:this.onSelect})}}]),n}(de.a),on=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).level=1,e.letter="A",e.description="",e.school=void 0,e.semester=1,e.year="",e.semesterActive=void 0,e.memberCount=0,e}return Object(u.a)(n)}(D.a),cn=n(53),ln=n(47),dn=n.n(ln),un=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).nisKiis=void 0,e.nisn=void 0,e.user=new A.a,e.address=void 0,e.city=void 0,e.province=void 0,e.siblingNum=void 0,e.siblingCount=void 0,e.fatherName=void 0,e.fatherBirthDate=void 0,e.fatherBirthPlace=void 0,e.fatherEducation=void 0,e.fatherPhoneNumber=void 0,e.fatherOccupation=void 0,e.fatherAddress=void 0,e.fatherIncome=void 0,e.motherName=void 0,e.motherBirthDate=void 0,e.motherBirthPlace=void 0,e.motherEducation=void 0,e.motherPhoneNumber=void 0,e.motherOccupation=void 0,e.motherAddress=void 0,e.motherIncome=void 0,e.originSchool=void 0,e.sttbNumber=void 0,e.entranceDate=void 0,e.entranceClass=void 0,e.transferFrom=void 0,e.transferReason=void 0,e.entranceCertificateScore=void 0,e.leaveSchool=void 0,e.leaveReason=void 0,e.educationFinished=void 0,e.graduationDateMts=void 0,e.certificateNumberMts=void 0,e.seniorLevelSchool=void 0,e.graduationDateMa=void 0,e.certificateNumberMa=void 0,e.graduationCeremonyDate=void 0,e.highEducationUniv=void 0,e.highEducationMajor=void 0,e.workDate=void 0,e.workCompany=void 0,e}return Object(u.a)(n)}(D.a),hn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).student=new un,e.classLevel=new on,e}return Object(u.a)(n)}(D.a),mn=n(44),bn=(dt=Object(j.resolve)(mn.a),ut=Object(j.resolve)(je.a),ht=Object(j.resolve)(me.a),mt=Object(j.resolve)(ue.a),bt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(s.a)(a,"service",jt,Object(o.a)(a)),Object(s.a)(a,"masterData",pt,Object(o.a)(a)),Object(s.a)(a,"toast",ft,Object(o.a)(a)),Object(s.a)(a,"dialog",Ot,Object(o.a)(a)),a.loadMembers=function(){a.service.getMembers(a.props.item.id).then((function(e){return a.setState({members:e})})).catch(console.error)},a.loadStudents=function(){var e=a.state.searchStudent;e&&a.masterData.list("students",0,10,"user.fullName",!1,"user.fullName:"+e).then((function(e){e.items.length>0?a.setState({students:e.items}):a.toast.showDanger("Student not found")})).catch((function(e){return a.toast.showDanger(e.message)}))},a.closeStudentDropdown=function(){return a.setState({students:[]})},a.addStudent=function(){var e=Object(cn.a)(dn.a.mark((function e(t){var n;return dn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.dialog.showConfirm("Add New Student","Add ".concat(t.user.fullName," to this class?"));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:(n=new hn).student=t,n.classLevel=a.props.item,a.masterData.post("classmembers",n).then((function(){a.toast.showInfo("Student has been added"),a.setState({searchStudent:""},a.loadMembers)})).catch((function(e){return a.toast.showDanger("Failed to add student: "+e.message)})).finally(a.closeStudentDropdown);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteMember=function(){var e=Object(cn.a)(dn.a.mark((function e(t){return dn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.dialog.showConfirmDanger("Remove Student","Do you want to remove ".concat(t.student.user.fullName," from class?"));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:a.masterData.delete("classmembers",t.id).then((function(){a.toast.showInfo("Student has been removed"),a.loadMembers()})).catch(console.error);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={members:[],students:[],searchStudent:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadMembers()}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.students,i=n.searchStudent,r=n.members,s=this.props.item;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("h5",{children:["Members of ",s.level,s.letter," ",null===(e=s.school)||void 0===e?void 0:e.name]}),Object(v.jsxs)("p",{children:["Period: semester ",s.semester,", year ",s.year]}),Object(v.jsxs)("form",{className:"mb-3",onSubmit:function(e){e.preventDefault(),t.loadStudents()},children:[Object(v.jsx)("p",{children:"Add Student"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{type:"search",className:"form-control",name:"searchStudent",value:i,placeholder:"Full Name",onChange:this.handleInputChange,required:!0}),Object(v.jsx)("div",{className:"input-group-append",children:Object(v.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Search"})})]}),Object(v.jsx)("div",{style:{position:"absolute",width:"75%"},children:a.length>0?Object(v.jsxs)("div",{className:"bg-light border border-dark px-2 py-1 w-100",style:{position:"relative"},children:[Object(v.jsx)(g,{className:"btn btn-text btn-sm",iconClass:"fas fa-times",onClick:this.closeStudentDropdown,children:"Close"}),Object(v.jsx)("div",{style:{overflowY:"auto",height:"100px"},children:Object(v.jsx)("div",{className:"no-wrap",style:{width:"max-content"},children:a.map((function(e){return Object(v.jsxs)("div",{className:"d-flex my-1",style:{alignItems:"center"},children:[Object(v.jsx)(g,{iconClass:"fas fa-plus-circle",className:"me-2 btn btn-info btn-sm btn-text",onClick:function(){return t.addStudent(e)}}),Object(v.jsxs)("span",{children:[e.nisKiis," - ",e.user.fullName.trim()]})]},"set-emp-"+e.id)}))})})]}):null})]}),Object(v.jsx)("h5",{children:"Member List"}),Object(v.jsxs)("table",{className:"table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"No"}),Object(v.jsx)("td",{children:"Nis Kiis"}),Object(v.jsx)("td",{children:"Name"}),Object(v.jsx)("td",{})]})}),Object(v.jsx)("tbody",{children:r.map((function(e,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:n+1}),Object(v.jsx)("td",{children:e.student.nisKiis}),Object(v.jsx)("td",{children:e.student.user.fullName}),Object(v.jsx)("td",{children:Object(v.jsx)(g,{className:"btn btn-text text-danger",onClick:function(){return t.deleteMember(e)},iconClass:"fas fa-minus-circle",children:"Remove"})})]},"member-".concat(e.id))}))})]})]})}}]),n}(de.a),jt=Object(d.a)(bt.prototype,"service",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=Object(d.a)(bt.prototype,"masterData",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=Object(d.a)(bt.prototype,"toast",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=Object(d.a)(bt.prototype,"dialog",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt),jn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showEditMember=void 0,e}return Object(u.a)(n)}(C),pn=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"classlevels","Class Level Management")).schools=[],a.edit=function(e){a.service.list("schools",0,-1).then((function(t){var n;a.schools=null!==(n=t.items)&&void 0!==n?n:[],0!==a.schools.length?(e.school||(e.school=a.schools[0]),a.setState({item:e},a.showForm)):a.dialog.showError("No School Record","Failed when getting school data")})).catch((function(e){return a.dialog.showError("Failed to Read School Data",e)}))},a.showInsertForm=function(){return a.edit(a.defaultItem)},a.showEditMemberForm=function(e){return a.setState({item:e,showEditMember:!0})},a.closeEditMemberForm=function(){a.setState({showEditMember:!1},a.resetFormAndClose)},a.state=new jn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new on}},{key:"getDataTableHeaderVals",value:function(){return[new S("level","Level"),new S("letter","Letter"),new S("school.name","School"),new S("description","Description"),new S("semesterPeriod.semester","Semester"),new S("semesterPeriod.year","Year"),new S(null,"Member",!1),new S("semesterPeriod.active","Semester Active",!0,!1)]}},{key:"render",value:function(){var e=this;if(this.state.showEditMember&&this.state.item)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[Object(v.jsx)(g,{onClick:this.closeEditMemberForm,iconClass:"fas fa-times",className:"btn btn-secondary btn-sm mx-2",children:"Close form"}),Object(v.jsx)(bn,{item:this.state.item})]});if(this.state.showForm&&this.state.item&&this.schools.length>0)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(fn,{item:this.state.item,schools:this.schools,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:t.level}),Object(v.jsx)("td",{children:t.letter}),Object(v.jsx)("td",{children:t.school.name}),Object(v.jsx)("td",{children:t.description}),Object(v.jsx)("td",{children:t.semester}),Object(v.jsx)("td",{children:t.year}),Object(v.jsxs)("td",{children:[t.memberCount,Object(v.jsx)(g,{className:"btn btn-text btn-sm",iconClass:"fas fa-edit",onClick:function(){return e.showEditMemberForm(t)}})]}),Object(v.jsx)("td",{children:t.semesterActive?Object(v.jsx)("b",{className:"text-success",children:"active"}):Object(v.jsx)("i",{children:"not active"})}),Object(v.jsx)("td",{children:t.semesterActive?e.actionButton(t):null})]},"ClassLevel-"+t.id)}))}),this.tableFooter]})]})]})}}]),n}(ye)),fn=function(e){var t=e.item,n=e.onSubmit,a=e.handleInputChange;return Object(v.jsx)("div",{className:"formEditContainer",children:Object(v.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:n,children:[Object(v.jsx)("p",{children:"Level"}),Object(v.jsx)("input",{className:"form-control",name:"item.level",id:"item.level",value:t.level,type:"number",required:!0,onChange:a}),Object(v.jsx)("p",{children:"Letter"}),Object(v.jsx)("input",{className:"form-control",name:"item.letter",id:"item.letter",value:t.letter,onChange:a,required:!0}),Object(v.jsx)("p",{children:"School"}),Object(v.jsx)("select",{className:"form-control",required:!0,children:e.schools.map((function(e){return Object(v.jsx)("option",{onClick:function(){return function(e){t.school=e}(e)},children:e.name},"select-class-school-"+e.id)}))}),Object(v.jsx)("p",{children:"Semester"}),Object(v.jsx)("input",{className:"form-control",name:"item.semester",id:"item.semester",value:t.semester,type:"number",required:!0,onChange:e.handleInputChange}),Object(v.jsx)("p",{children:"Year"}),Object(v.jsx)("input",{className:"form-control",name:"item.year",id:"item.year",value:t.year,onChange:e.handleInputChange,required:!0}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},On=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(C),vn=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"students","Student Management")).state=new On,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new un}},{key:"getDataTableHeaderVals",value:function(){return[new S("nisKiis"),new S("nisn"),new S("user.fullName"),new S("user.birthDate"),new S("user.birthPlace"),new S("address"),new S("city"),new S("province"),new S("siblingNum"),new S("siblingCount"),new S("fatherName"),new S("fatherBirthDate"),new S("fatherBirthPlace"),new S("fatherEducation"),new S("fatherPhoneNumber"),new S("fatherOccupation"),new S("fatherAddress"),new S("fatherIncome"),new S("motherName"),new S("motherBirthDate"),new S("motherBirthPlace"),new S("motherEducation"),new S("motherPhoneNumber"),new S("motherOccupation"),new S("motherAddress"),new S("motherIncome"),new S("originSchool"),new S("sttbNumber"),new S("entranceDate"),new S("entranceClass"),new S("transferFrom"),new S("transferReason"),new S("entranceCertificateScore"),new S("leaveSchool"),new S("leaveReason"),new S("educationFinished"),new S("graduationDateMts"),new S("certificateNumberMts"),new S("seniorLevelSchool"),new S("graduationDateMa"),new S("certificateNumberMa"),new S("graduationCeremonyDate"),new S("highEducationUniv"),new S("highEducationMajor"),new S("workDate"),new S("workCompany")]}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(gn,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:t.nisKiis}),Object(v.jsx)("td",{children:t.nisn}),Object(v.jsx)("td",{children:t.user.fullName}),Object(v.jsx)("td",{children:new Date(t.user.birthDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.user.birthPlace}),Object(v.jsx)("td",{children:t.address}),Object(v.jsx)("td",{children:t.city}),Object(v.jsx)("td",{children:t.province}),Object(v.jsx)("td",{children:t.siblingNum}),Object(v.jsx)("td",{children:t.siblingCount}),Object(v.jsx)("td",{children:t.fatherName}),Object(v.jsx)("td",{children:new Date(t.fatherBirthDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.fatherBirthPlace}),Object(v.jsx)("td",{children:t.fatherEducation}),Object(v.jsx)("td",{children:t.fatherPhoneNumber}),Object(v.jsx)("td",{children:t.fatherOccupation}),Object(v.jsx)("td",{children:t.fatherAddress}),Object(v.jsx)("td",{children:t.fatherIncome}),Object(v.jsx)("td",{children:t.motherName}),Object(v.jsx)("td",{children:new Date(t.motherBirthDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.motherBirthPlace}),Object(v.jsx)("td",{children:t.motherEducation}),Object(v.jsx)("td",{children:t.motherPhoneNumber}),Object(v.jsx)("td",{children:t.motherOccupation}),Object(v.jsx)("td",{children:t.motherAddress}),Object(v.jsx)("td",{children:t.motherIncome}),Object(v.jsx)("td",{children:t.originSchool}),Object(v.jsx)("td",{children:t.sttbNumber}),Object(v.jsx)("td",{children:new Date(t.entranceDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.entranceClass}),Object(v.jsx)("td",{children:t.transferFrom}),Object(v.jsx)("td",{children:t.transferReason}),Object(v.jsx)("td",{children:t.entranceCertificateScore}),Object(v.jsx)("td",{children:t.leaveSchool?"True":"False"}),Object(v.jsx)("td",{children:t.leaveReason}),Object(v.jsx)("td",{children:t.educationFinished?"True":"False"}),Object(v.jsx)("td",{children:new Date(t.graduationDateMts).toLocaleDateString()}),Object(v.jsx)("td",{children:t.certificateNumberMts}),Object(v.jsx)("td",{children:t.seniorLevelSchool}),Object(v.jsx)("td",{children:new Date(t.graduationDateMa).toLocaleDateString()}),Object(v.jsx)("td",{children:t.certificateNumberMa}),Object(v.jsx)("td",{children:new Date(t.graduationCeremonyDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.highEducationUniv}),Object(v.jsx)("td",{children:t.highEducationMajor}),Object(v.jsx)("td",{children:new Date(t.workDate).toLocaleDateString()}),Object(v.jsx)("td",{children:t.workCompany}),Object(v.jsx)("td",{children:e.actionButton(t)})]},"Student-"+t.id)}))}),this.tableFooter]})]})]})}}]),n}(ye)),gn=function(e){var t=e.item,n=e.handleInputChange;return Object(v.jsx)("div",{className:"formEditContainer",children:Object(v.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(v.jsx)("p",{children:"Full Name"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.fullName",name:"item.user.fullName",value:t.user.fullName,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Email"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.email",name:"item.user.email",type:"email",value:t.user.email,onChange:n,required:!0}),Object(v.jsx)("p",{children:"Gender"}),Object(v.jsxs)("select",{className:"form-control",value:t.user.gender,id:"item.user.gender",name:"item.user.gender",onChange:n,required:!0,children:[Object(v.jsx)("option",{children:"MALE"}),Object(v.jsx)("option",{children:"FEMALE"})]}),Object(v.jsx)("p",{children:"Birth Date"}),Object(v.jsx)("input",{type:"date",className:"form-control",id:"item.user.birthDate",name:"item.user.birthDate",value:ce(new Date(t.user.birthDate)),onChange:n,required:!0}),Object(v.jsx)("p",{children:"Birth Place"}),Object(v.jsx)("input",{className:"form-control",id:"item.user.birthPlace",name:"item.user.birthPlace",value:t.user.birthPlace,onChange:n,required:!0}),Object(v.jsx)("p",{children:"nisKiis"}),Object(v.jsx)("input",{required:!0,placeholder:"nisKiis",className:"form-control",name:"item.nisKiis",id:"item.nisKiis",value:t.nisKiis,onChange:n}),Object(v.jsx)("p",{children:"nisn"}),Object(v.jsx)("input",{required:!0,placeholder:"nisn",className:"form-control",name:"item.nisn",id:"item.nisn",value:t.nisn,onChange:n}),Object(v.jsx)("p",{children:"address"}),Object(v.jsx)("textarea",{required:!0,placeholder:"address",className:"form-control",name:"item.address",id:"item.address",value:t.address,onChange:n}),Object(v.jsx)("p",{children:"city"}),Object(v.jsx)("input",{required:!0,placeholder:"city",className:"form-control",name:"item.city",id:"item.city",value:t.city,onChange:n}),Object(v.jsx)("p",{children:"province"}),Object(v.jsx)("input",{required:!0,placeholder:"province",className:"form-control",name:"item.province",id:"item.province",value:t.province,onChange:n}),Object(v.jsx)("p",{children:"siblingNum"}),Object(v.jsx)("input",{type:"number",placeholder:"siblingNum",className:"form-control",name:"item.siblingNum",id:"item.siblingNum",value:t.siblingNum,onChange:n}),Object(v.jsx)("p",{children:"siblingCount"}),Object(v.jsx)("input",{type:"number",placeholder:"siblingCount",className:"form-control",name:"item.siblingCount",id:"item.siblingCount",value:t.siblingCount,onChange:n}),Object(v.jsx)("p",{children:"fatherName"}),Object(v.jsx)("input",{placeholder:"fatherName",className:"form-control",name:"item.fatherName",id:"item.fatherName",value:t.fatherName,onChange:n}),Object(v.jsx)("p",{children:"fatherBirthDate"}),Object(v.jsx)("input",{placeholder:"fatherBirthDate",className:"form-control",name:"item.fatherBirthDate",id:"item.fatherBirthDate",type:"date",value:ce(new Date(t.fatherBirthDate)),onChange:n}),Object(v.jsx)("p",{children:"fatherBirthPlace"}),Object(v.jsx)("input",{placeholder:"fatherBirthPlace",className:"form-control",name:"item.fatherBirthPlace",id:"item.fatherBirthPlace",value:t.fatherBirthPlace,onChange:n}),Object(v.jsx)("p",{children:"fatherEducation"}),Object(v.jsx)("input",{placeholder:"fatherEducation",className:"form-control",name:"item.fatherEducation",id:"item.fatherEducation",value:t.fatherEducation,onChange:n}),Object(v.jsx)("p",{children:"fatherPhoneNumber"}),Object(v.jsx)("input",{placeholder:"fatherPhoneNumber",className:"form-control",name:"item.fatherPhoneNumber",id:"item.fatherPhoneNumber",value:t.fatherPhoneNumber,onChange:n}),Object(v.jsx)("p",{children:"fatherOccupation"}),Object(v.jsx)("input",{placeholder:"fatherOccupation",className:"form-control",name:"item.fatherOccupation",id:"item.fatherOccupation",value:t.fatherOccupation,onChange:n}),Object(v.jsx)("p",{children:"fatherAddress"}),Object(v.jsx)("textarea",{placeholder:"fatherAddress",className:"form-control",name:"item.fatherAddress",id:"item.fatherAddress",value:t.fatherAddress,onChange:n}),Object(v.jsx)("p",{children:"fatherIncome"}),Object(v.jsx)("input",{type:"number",placeholder:"fatherIncome",className:"form-control",name:"item.fatherIncome",id:"item.fatherIncome",value:t.fatherIncome,onChange:n}),Object(v.jsx)("p",{children:"motherName"}),Object(v.jsx)("input",{placeholder:"motherName",className:"form-control",name:"item.motherName",id:"item.motherName",value:t.motherName,onChange:n}),Object(v.jsx)("p",{children:"motherBirthDate"}),Object(v.jsx)("input",{placeholder:"motherBirthDate",className:"form-control",name:"item.motherBirthDate",id:"item.motherBirthDate",type:"date",value:ce(new Date(t.motherBirthDate)),onChange:n}),Object(v.jsx)("p",{children:"motherBirthPlace"}),Object(v.jsx)("input",{placeholder:"motherBirthPlace",className:"form-control",name:"item.motherBirthPlace",id:"item.motherBirthPlace",value:t.motherBirthPlace,onChange:n}),Object(v.jsx)("p",{children:"motherEducation"}),Object(v.jsx)("input",{placeholder:"motherEducation",className:"form-control",name:"item.motherEducation",id:"item.motherEducation",value:t.motherEducation,onChange:n}),Object(v.jsx)("p",{children:"motherPhoneNumber"}),Object(v.jsx)("input",{placeholder:"motherPhoneNumber",className:"form-control",name:"item.motherPhoneNumber",id:"item.motherPhoneNumber",value:t.motherPhoneNumber,onChange:n}),Object(v.jsx)("p",{children:"motherOccupation"}),Object(v.jsx)("input",{placeholder:"motherOccupation",className:"form-control",name:"item.motherOccupation",id:"item.motherOccupation",value:t.motherOccupation,onChange:n}),Object(v.jsx)("p",{children:"motherAddress"}),Object(v.jsx)("textarea",{placeholder:"motherAddress",className:"form-control",name:"item.motherAddress",id:"item.motherAddress",value:t.motherAddress,onChange:n}),Object(v.jsx)("p",{children:"motherIncome"}),Object(v.jsx)("input",{type:"number",placeholder:"motherIncome",className:"form-control",name:"item.motherIncome",id:"item.motherIncome",value:t.motherIncome,onChange:n}),Object(v.jsx)("p",{children:"originSchool"}),Object(v.jsx)("input",{placeholder:"originSchool",className:"form-control",name:"item.originSchool",id:"item.originSchool",value:t.originSchool,onChange:n}),Object(v.jsx)("p",{children:"sttbNumber"}),Object(v.jsx)("input",{placeholder:"sttbNumber",className:"form-control",name:"item.sttbNumber",id:"item.sttbNumber",value:t.sttbNumber,onChange:n}),Object(v.jsx)("p",{children:"entranceDate"}),Object(v.jsx)("input",{placeholder:"entranceDate",className:"form-control",name:"item.entranceDate",id:"item.entranceDate",type:"date",value:ce(new Date(t.entranceDate)),onChange:n}),Object(v.jsx)("p",{children:"entranceClass"}),Object(v.jsx)("input",{placeholder:"entranceClass",className:"form-control",name:"item.entranceClass",id:"item.entranceClass",value:t.entranceClass,onChange:n}),Object(v.jsx)("p",{children:"transferFrom"}),Object(v.jsx)("input",{placeholder:"transferFrom",className:"form-control",name:"item.transferFrom",id:"item.transferFrom",value:t.transferFrom,onChange:n}),Object(v.jsx)("p",{children:"transferReason"}),Object(v.jsx)("input",{placeholder:"transferReason",className:"form-control",name:"item.transferReason",id:"item.transferReason",value:t.transferReason,onChange:n}),Object(v.jsx)("p",{children:"entranceCertificateScore"}),Object(v.jsx)("input",{placeholder:"entranceCertificateScore",className:"form-control",name:"item.entranceCertificateScore",id:"item.entranceCertificateScore",value:t.entranceCertificateScore,onChange:n}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{placeholder:"leaveSchool",className:"form-check-input",name:"item.leaveSchool",id:"item.leaveSchool",type:"checkbox",checked:t.leaveSchool,onChange:n}),Object(v.jsx)("label",{className:"form-check-label",children:"Leave School"})]}),Object(v.jsx)("p",{children:"leaveReason"}),Object(v.jsx)("textarea",{placeholder:"leaveReason",className:"form-control",name:"item.leaveReason",id:"item.leaveReason",value:t.leaveReason,onChange:n}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{placeholder:"educationFinished",className:"form-check-input",name:"item.educationFinished",id:"item.educationFinished",type:"checkbox",checked:t.educationFinished,onChange:n}),Object(v.jsx)("label",{className:"form-check-label",children:"Education Finished"})]}),Object(v.jsx)("p",{children:"graduationDateMts"}),Object(v.jsx)("input",{placeholder:"graduationDateMts",className:"form-control",name:"item.graduationDateMts",id:"item.graduationDateMts",type:"date",value:ce(new Date(t.graduationDateMts)),onChange:n}),Object(v.jsx)("p",{children:"certificateNumberMts"}),Object(v.jsx)("input",{placeholder:"certificateNumberMts",className:"form-control",name:"item.certificateNumberMts",id:"item.certificateNumberMts",value:t.certificateNumberMts,onChange:n}),Object(v.jsx)("p",{children:"seniorLevelSchool"}),Object(v.jsx)("input",{placeholder:"seniorLevelSchool",className:"form-control",name:"item.seniorLevelSchool",id:"item.seniorLevelSchool",value:t.seniorLevelSchool,onChange:n}),Object(v.jsx)("p",{children:"graduationDateMa"}),Object(v.jsx)("input",{placeholder:"graduationDateMa",className:"form-control",name:"item.graduationDateMa",id:"item.graduationDateMa",type:"date",value:ce(new Date(t.graduationDateMa)),onChange:n}),Object(v.jsx)("p",{children:"certificateNumberMa"}),Object(v.jsx)("input",{placeholder:"certificateNumberMa",className:"form-control",name:"item.certificateNumberMa",id:"item.certificateNumberMa",value:t.certificateNumberMa,onChange:n}),Object(v.jsx)("p",{children:"graduationCeremonyDate"}),Object(v.jsx)("input",{placeholder:"graduationCeremonyDate",className:"form-control",name:"item.graduationCeremonyDate",id:"item.graduationCeremonyDate",type:"date",value:ce(new Date(t.graduationCeremonyDate)),onChange:n}),Object(v.jsx)("p",{children:"highEducationUniv"}),Object(v.jsx)("input",{placeholder:"highEducationUniv",className:"form-control",name:"item.highEducationUniv",id:"item.highEducationUniv",value:t.highEducationUniv,onChange:n}),Object(v.jsx)("p",{children:"highEducationMajor"}),Object(v.jsx)("input",{placeholder:"highEducationMajor",className:"form-control",name:"item.highEducationMajor",id:"item.highEducationMajor",value:t.highEducationMajor,onChange:n}),Object(v.jsx)("p",{children:"workDate"}),Object(v.jsx)("input",{placeholder:"workDate",className:"form-control",name:"item.workDate",id:"item.workDate",type:"date",value:ce(new Date(t.workDate)),onChange:n}),Object(v.jsx)("p",{children:"workCompany"}),Object(v.jsx)("input",{placeholder:"workCompany",className:"form-control",name:"item.workCompany",id:"item.workCompany",value:t.workCompany,onChange:n}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},xn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(C),wn=L(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"classmembers","Class Member Management")).state=new xn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new hn}},{key:"getDataTableHeaderVals",value:function(){return[new S("student.nisKiis","Nis Kiis"),new S("student.user.fullName","Name"),new S("classLevel.level","Class"),new S("classLevel.letter","Letter"),new S("classLevel.school.name","School"),new S("classLevel.semesterPeriod.semester","Semester"),new S("classLevel.semesterPeriod.year","Year"),new S("classLevel.semesterPeriod.active","Semester Active",!0,!1)]}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(v.jsx)(yn,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(v.jsxs)(w,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(v.jsx)("i",{children:"Loading..."}):Object(v.jsxs)("form",{onSubmit:this.loadFromForm,className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(v.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(v.jsx)("th",{children:"Action"})]})}),Object(v.jsx)("tbody",{children:n.map((function(t,n){var a=t.classLevel,i=t.student;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.startingNumber+n}),Object(v.jsx)("td",{children:i.nisKiis}),Object(v.jsx)("td",{children:i.user.fullName}),Object(v.jsx)("td",{children:a.level}),Object(v.jsx)("td",{children:a.letter}),Object(v.jsx)("td",{children:a.school.name}),Object(v.jsx)("td",{children:a.semester}),Object(v.jsx)("td",{children:a.year}),Object(v.jsx)("td",{children:a.semesterActive?Object(v.jsx)("b",{className:"text-success",children:"active"}):Object(v.jsx)("i",{children:"not active"})}),Object(v.jsx)("td",{children:a.semesterActive?e.actionButton(t):null})]},"ClassMember-"+t.id)}))}),this.tableFooter]})]})]})}}]),n}(ye)),yn=(vt=Object(j.resolve)(je.a),gt=Object(j.resolve)(mn.a),xt=Object(j.resolve)(me.a),wt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a,i,r,c;return Object(h.a)(this,n),c=t.call(this,e),Object(s.a)(c,"masterDataService",yt,Object(o.a)(c)),Object(s.a)(c,"classMemberService",Nt,Object(o.a)(c)),Object(s.a)(c,"toast",Ct,Object(o.a)(c)),c.loadClasses=function(){c.classMemberService.getActiveClasses().then(c.handleClassLoaded).catch((function(){return c.toast.showDanger("Failed to load classes")}))},c.handleClassLoaded=function(e){e&&0!==e.length?(c.props.item.classLevel=e[0],c.setState({classes:e})):c.toast.showDanger("No class found this semester")},c.loadStudents=function(){var e=c.state.searchStudent;e&&c.masterDataService.list("students",0,10,"user.fullName",!1,"user.fullName:"+e).then((function(e){return c.handleStudentLoaded(e.items)})).catch((function(e){return c.toast.showDanger("Failed to load students")}))},c.handleStudentLoaded=function(e){e&&0!==e.length?c.setState({students:e}):c.toast.showDanger('No student containing name "'+c.state.searchStudent+'" was found')},c.closeStudentDropdown=function(){return c.setState({students:[]})},c.setSelectedStudent=function(e){c.props.item.student=e,c.setState({searchStudent:e.user.fullName},c.closeStudentDropdown)},c.setSelectedClass=function(e){c.props.item.classLevel=e},c.submitForm=function(e){e.preventDefault();var t=c.props.item;!t.student||t.student.id<1||!t.classLevel||t.classLevel.id<1?c.toast.showDanger("Please select student and class correctly"):c.props.onSubmit(e)},c.state={students:[],classes:[],searchStudent:null===(a=e.item)||void 0===a||null===(i=a.student)||void 0===i||null===(r=i.user)||void 0===r?void 0:r.fullName},c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadClasses()}},{key:"render",value:function(){var e=this,t=this.state,n=t.students,a=t.classes,i=t.searchStudent;return Object(v.jsxs)("div",{className:"formEditContainer",children:[Object(v.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.loadStudents()},children:[Object(v.jsx)("p",{children:"Student"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("input",{type:"search",className:"form-control",name:"searchStudent",value:i,placeholder:"Full Name",onChange:this.handleInputChange,required:!0}),Object(v.jsx)("div",{className:"input-group-append",children:Object(v.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Search"})})]}),Object(v.jsx)("div",{style:{position:"absolute",width:"75%"},children:n.length>0?Object(v.jsxs)("div",{className:"bg-light border border-dark px-2 py-1 w-100",style:{position:"relative"},children:[Object(v.jsx)(g,{className:"btn btn-text btn-sm",iconClass:"fas fa-times",onClick:this.closeStudentDropdown,children:"close"}),Object(v.jsx)("div",{style:{overflowY:"auto",height:"100px"},children:Object(v.jsx)("div",{className:"no-wrap",style:{width:"max-content"},children:n.map((function(t){return Object(v.jsx)("div",{children:Object(v.jsxs)("a",{className:"btn btn-text clickable",onClick:function(){return e.setSelectedStudent(t)},children:[t.nisKiis," - ",t.user.fullName.trim()]})},"set-emp-"+t.id)}))})})]}):null})]}),Object(v.jsxs)("form",{onSubmit:this.submitForm,children:[Object(v.jsx)("p",{children:"Active Class Level"}),Object(v.jsx)("select",{className:"form-control",children:a.map((function(t){return Object(v.jsxs)("option",{onClick:function(n){return e.setSelectedClass(t)},children:[t.level,t.letter," - ",t.school.name]},"select-class-"+t.id)}))}),Object(v.jsx)("p",{}),Object(v.jsx)("input",{type:"submit",className:"btn btn-success",value:"Save"})]})]})}}]),n}(de.a),yt=Object(d.a)(wt.prototype,"masterDataService",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=Object(d.a)(wt.prototype,"classMemberService",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=Object(d.a)(wt.prototype,"toast",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt),Nn=(St=Object(j.resolve)(he.a),kt=Object(j.resolve)(x.a),Dt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s.a)(e,"authService",At,Object(o.a)(e)),Object(s.a)(e,"routingService",Et,Object(o.a)(e)),e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)(m.Fragment,{children:Object(v.jsxs)(p.d,{children:[Object(v.jsx)(p.b,{path:"/",element:Object(v.jsx)(it,{})}),Object(v.jsx)(p.b,{path:"/home",element:Object(v.jsx)(it,{})}),Object(v.jsx)(p.b,{path:"/login",element:Object(v.jsx)(Cn,{disabledWhenLoggedIn:!0,to:"/login",element:Object(v.jsx)($e,{})})}),Object(v.jsx)(p.b,{path:"/dashboard",element:Object(v.jsx)(Cn,{to:"/dashboard",element:Object(v.jsx)(rt,{})})}),Object(v.jsx)(p.b,{path:"/profile",element:Object(v.jsx)(Cn,{to:"/profile",element:Object(v.jsx)(ot,{})})}),Object(v.jsx)(p.b,{path:"/admin",element:Object(v.jsx)(Cn,{to:"/admin",element:Object(v.jsx)(Re,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/users",element:Object(v.jsx)(Cn,{to:"/admin/users",element:Object(v.jsx)(Ve,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/schools",element:Object(v.jsx)(Cn,{to:"/admin/schools",element:Object(v.jsx)(Ke,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/employees",element:Object(v.jsx)(Cn,{to:"/admin/employees",element:Object(v.jsx)(Ie,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/semesterperiods",element:Object(v.jsx)(Cn,{to:"/admin/semesterperiods",element:Object(v.jsx)(an,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/classlevels",element:Object(v.jsx)(Cn,{to:"/admin/classlevels",element:Object(v.jsx)(pn,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/students",element:Object(v.jsx)(Cn,{to:"/admin/students",element:Object(v.jsx)(vn,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"/admin/classmembers",element:Object(v.jsx)(Cn,{to:"/admin/classmembers",element:Object(v.jsx)(wn,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(v.jsx)(p.b,{path:"*",element:Object(v.jsx)(et,{message:"The requested page is not found."})})]})})}}]),n}(m.Component),At=Object(d.a)(Dt.prototype,"authService",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Object(d.a)(Dt.prototype,"routingService",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt),Cn=(Ft=Object(j.resolve)(he.a),It=Object(j.resolve)(x.a),Pt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s.a)(e,"authService",Lt,Object(o.a)(e)),Object(s.a)(e,"routingService",Mt,Object(o.a)(e)),e}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.authService.loggedIn;return!0===this.props.disabledWhenLoggedIn?t?Object(v.jsx)(p.a,{to:"/dashboard"}):this.props.element:t?this.props.requiredRole?null!==(e=this.authService.loggedUser)&&void 0!==e&&e.hasAuthorityType(this.props.requiredRole)?this.props.element:Object(v.jsx)(p.a,{to:"/"}):this.props.element:Object(v.jsx)(Sn,{origin:this.props.to,routing:this.routingService,to:"/"})}}]),n}(m.Component),Lt=Object(d.a)(Pt.prototype,"authService",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=Object(d.a)(Pt.prototype,"routingService",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt),Sn=function(e){return e.routing.setLastRedirectedRoute(e.origin),Object(v.jsx)(p.a,{to:e.to,state:e.state,replace:e.replace})},kn=Object(u.a)((function e(){Object(h.a)(this,e),this.showDropdown=!1})),Dn=(Rt=Object(j.resolve)(he.a),Bt=Object(j.resolve)(ue.a),Ut=Object(j.resolve)(x.a),Tt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state=new kn,Object(s.a)(e,"authService",zt,Object(o.a)(e)),Object(s.a)(e,"dialog",qt,Object(o.a)(e)),Object(s.a)(e,"routing",Kt,Object(o.a)(e)),e.logout=function(){e.dialog.showConfirmDanger("Logout","Do you want to logout?").then((function(t){t&&e.authService.logout()})),e.hideDropdown()},e.navigate=function(t){var n=t.target;n.dataset.to&&e.routing.navigate(n.dataset.to),e.hideDropdown()},e.hideDropdown=function(){e.setState({showDropdown:!1})},e.toggleDropdown=function(){e.setState({showDropdown:!e.state.showDropdown})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("a",{className:"btn btn-light no-wrap",onClick:this.toggleDropdown,children:[Object(v.jsx)("i",{className:"fas fa-user me-3"})," ",this.props.user.displayName]}),Object(v.jsx)("div",{style:{position:"absolute"},children:this.state.showDropdown?Object(v.jsxs)("div",{style:{width:"200px",zIndex:1,position:"relative"},className:"bg-light border border-gray rounded text-start pt-3 pb-3",children:[Object(v.jsxs)("a",{className:"btn btn-text",onClick:this.navigate,"data-to":"/dashboard",children:[Object(v.jsx)("i",{className:"fas fa-home me-3"}),"Dashboard"]}),Object(v.jsxs)("a",{className:"btn btn-text",onClick:this.navigate,"data-to":"/profile",children:[Object(v.jsx)("i",{className:"fas fa-user-cog me-3"}),"Edit Profile"]}),this.authService.isAdmin?Object(v.jsxs)("a",{className:"btn btn-text text-success",onClick:this.navigate,"data-to":"/admin",children:[Object(v.jsx)("i",{className:"fas fa-tachometer-alt me-3"}),"Admin Area"]}):null,Object(v.jsxs)("a",{className:"btn btn-text text-danger",onClick:this.logout,children:[Object(v.jsx)("i",{className:"fas fa-sign-out-alt me-3"}),"Logout"]})]}):null})]})}}]),n}(m.Component),zt=Object(d.a)(Tt.prototype,"authService",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=Object(d.a)(Tt.prototype,"dialog",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=Object(d.a)(Tt.prototype,"routing",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt),An=L(Dn),En=Object(u.a)((function e(){Object(h.a)(this,e),this.activeMenu=void 0,this.title=I.a.App.uiSetting.defaultTitle,this.searchKey=""})),Fn=(_t=Object(j.resolve)(he.a),Wt=Object(j.resolve)(x.a),Ht=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s.a)(e,"authService",Yt,Object(o.a)(e)),Object(s.a)(e,"routingService",Vt,Object(o.a)(e)),e.state=new En,e._user=void 0,e.gotoLoginPage=function(){e.props.navigate&&e.props.navigate("/login")},e.onUserUpdated=function(t){void 0!==e._user&&void 0===t&&e.gotoLoginPage(),e._user=t,e.forceUpdate()},e.onAppProfileUpdated=function(t){e.forceUpdate()},e.navigate=function(t){void 0!==e.props.navigate?e.props.navigate(t):console.warn("no props: navigate")},e.brandOnClick=function(){e.navigate("/")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.routingService.registerCallback("header",console.log),this.authService.addOnUserUpdated("header",this.onUserUpdated),this.authService.addOnAppProfileUpdated("header",this.onAppProfileUpdated)}},{key:"componentWillUnmount",value:function(){this.authService.removeOnUserUpdated("header"),this.authService.removeOnAppProfileUpdated("header")}},{key:"semesterInfo",get:function(){var e=this.authService.appProfile;if(e&&e.semester&&e.semester)return"Semester "+e.semester+" | "+e.year}},{key:"render",value:function(){var e=this.authService.appProfile?this.authService.appProfile.name:this.state.title;return Object(v.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsxs)("div",{className:"row w-100 mt-2",children:[Object(v.jsxs)("div",{className:"col-md-2 mb-2 text-center d-flex",style:{alignItems:"center"},children:[Object(v.jsx)("img",{src:"/kiis-stroke.png",width:50,className:"me-2"}),Object(v.jsx)("div",{className:"text-start",children:Object(v.jsx)(pe.b,{className:"navbar-brand",to:"/",children:e})})]}),Object(v.jsx)("div",{className:"col-md-7 mb-2 d-flex text-center text-secondary",style:{alignItems:"center"},children:Object(v.jsx)("p",{style:{margin:"auto"},children:this.semesterInfo})}),Object(v.jsx)("div",{className:"col-md-2 mb-2 text-center",children:this.authService.loggedIn?Object(v.jsx)(An,{user:this.authService.loggedUser}):Object(v.jsxs)(pe.b,{to:"/login",className:"btn btn-primary",children:[Object(v.jsx)("i",{className:"fas fa-sign-in-alt me-2"})," Login"]})})]})})})}}]),n}(de.a),Yt=Object(d.a)(Ht.prototype,"authService",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=Object(d.a)(Ht.prototype,"routingService",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht),In=L(Fn),Pn=n(38),Ln=n(43),Mn=(n(97),Gt=Object(j.resolve)(Ln.a),Jt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(s.a)(a,"service",Qt,Object(o.a)(a)),a.state={show:!1,opacity:0},a}return Object(u.a)(n,[{key:"startLoading",value:function(){this.setState({show:!0,opacity:.7})}},{key:"stopLoading",value:function(){var e=this;this.setState({opacity:0},(function(){Object(Qe.a)((function(){return e.setState({show:!1})}),300)}))}},{key:"componentDidMount",value:function(){this.service.setComponent(this)}},{key:"render",value:function(){if(!this.state.show)return null;var e=14,t="".concat(300,"ms");return Object(v.jsxs)("div",{className:"loading bg-secondary border border-secondary rounded px-2 py-1 text-center",style:{opacity:this.state.opacity,transitionDuration:t},children:[Object(v.jsx)("h3",{className:"text-light",children:"Loading"}),Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 ".concat(e),width:"120",height:e,children:[Object(v.jsx)("path",{className:"loadingBarContainer",fill:"none",strokeWidth:e,d:"M 5 ".concat(7," L 5 ").concat(7," L 115 4 ")}),Object(v.jsx)("path",{className:"loadingBar",fill:"none",strokeWidth:12,d:"M 6 ".concat(7," L 6 ").concat(7," L 114 4 ")})]})]})}}]),n}(m.Component),Qt=Object(d.a)(Jt.prototype,"service",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt),Rn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onClose=function(){a.setState({opacity:0},(function(){Object(Qe.a)((function(){return a.props.onClose(a.props.item.id)}),300)}))},a.state={opacity:1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.item,n=this.state.opacity;return Object(v.jsx)("div",{className:"toast show mb-2",style:{opacity:n,transitionDuration:"".concat(300,"ms")},children:Object(v.jsxs)("div",{className:"alert alert-".concat(t.mode," mb-0 d-flex"),style:{flexWrap:"nowrap",alignItems:"center"},children:[Object(v.jsx)("p",{style:{margin:"auto"},children:t.message}),Object(v.jsx)(fe,{iconClass:"fas fa-times",className:"btn btn-text btn-sm ms-3",onClick:function(t){return e.onClose()}})]})})}}]),n}(m.Component),Bn=(Xt=Object(j.resolve)(me.a),tn=en=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(s.a)(a,"service",$t,Object(o.a)(a)),a.toastRefs=new Map,a.show=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=a.state.items,s=n.ToastId;r.push({id:s,message:e,mode:t,duration:i}),a.setState({items:r},(function(){Object(Qe.a)((function(){var e,t=null===(e=a.getRef(s))||void 0===e?void 0:e.current;t&&t.onClose()}),i)})),n.ToastId+=1},a.closeToast=function(e){for(var t=a.state.items,n=0;n<t.length;n++){var i=t[n];if(i.id===e){t.splice(n,1),a.toastRefs.delete(i.id),a.setState({items:t});break}}},a.getRef=function(e){return a.toastRefs.has(e)||a.toastRefs.set(e,b.a.createRef()),a.toastRefs.get(e)},a.state={items:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.service.setComponent(this)}},{key:"render",value:function(){var e=this,t=this.state.items.reverse();return Object(v.jsx)("div",{className:"toast-custom",children:t.map((function(t){return Object(v.jsx)(Rn,{ref:e.getRef(t.id),item:t,onClose:e.closeToast},"toast-"+t.id)}))})}}]),n}(m.Component),en.ToastId=1,Zt=tn,$t=Object(d.a)(Zt.prototype,"service",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt),Un=n(19),Tn="-560px",zn="250ms",qn=Object(u.a)((function e(){Object(h.a)(this,e),this.backColor="transparent",this.marginTop=Tn}));function Kn(e){var t={transitionDuration:zn,backgroundColor:e.bgColor};return Object(v.jsx)("div",{className:"modal-backdrop",style:t})}function _n(e){return Object(v.jsxs)("div",{className:"modal-footer",children:[Object(v.jsx)("button",{ref:e.yesButton,type:"button",onClick:e.onConfirm,className:"btn btn-outline-primary",children:e.yesLabel}),e.yesOnly?null:Object(v.jsx)("button",{ref:e.cancelButton,type:"button",onClick:e.onCancel,className:"btn btn-outline-secondary",children:"No"})]})}function Wn(e){return Object(v.jsxs)("div",{className:"modal-header "+e.className,children:[Object(v.jsx)("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:e.title}),Object(v.jsx)("button",{onClick:e.onClose,type:"button",className:"close btn btn-text text-light",children:Object(v.jsx)("span",{children:Object(v.jsx)("i",{className:"fas fa-times"})})})]})}var Hn,Yn,Vn,Gn,Jn,Qn,Xn,Zn,$n=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).yesButton=b.a.createRef(),a.cancelButton=b.a.createRef(),a.state=new qn,a.onConfirm=function(e){a.close((function(){a.props.onConfirm(e)}))},a.close=function(e){Object(Qe.a)((function(){a.setState({backColor:"transparent",marginTop:Tn},(function(){Object(Qe.a)(e,100)}))}),100)},a.onCancel=function(e){a.close((function(){a.props.onCancel&&a.props.onCancel(e)}))},a.onClose=function(e){a.close((function(){a.props.onClose(e)}))},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.type===Un.a.ERROR||this.props.type===Un.a.WARNING;!t&&this.yesButton.current?this.yesButton.current.focus():t&&this.cancelButton.current?this.cancelButton.current.focus():t&&this.yesButton.current&&this.yesButton.current.focus(),Object(Qe.a)((function(){var t=e.stringContent?"30vh":"0vh";e.setState({backColor:"rgba(100,100,100,0.7)",marginTop:t})}),100)}},{key:"stringContent",get:function(){return"string"===typeof this.props.children}},{key:"headerClassName",get:function(){switch(this.props.type){case Un.a.INFO:case Un.a.INFO_NO_BUTTONS:return"bg-info text-light";case Un.a.WARNING:return"bg-warning text-dark";case Un.a.ERROR:return"bg-danger text-light";default:return"bg-secondary"}}},{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=!0===this.props.yesOnly,n=this.stringContent?"500px":"85vw",a={transitionDuration:zn,marginTop:this.state.marginTop,maxWidth:n,marginLeft:"auto",marginRight:"auto"},i=this.stringContent?"modal-dialog -modal-dialog-centered":"-modal-dialog-centered";return Object(v.jsxs)(m.Fragment,{children:[Object(v.jsx)(Kn,{bgColor:this.state.backColor}),Object(v.jsx)("div",{className:"modal show d-block",children:Object(v.jsx)("div",{className:i,style:a,children:Object(v.jsxs)("div",{className:"modal-content mt-5",children:[Object(v.jsx)(Wn,{className:this.headerClassName,title:e,onClose:this.onClose}),Object(v.jsx)("div",{className:"modal-body",style:{maxHeight:"70vh",overflow:"auto"},children:this.props.children}),this.props.type===Un.a.INFO_NO_BUTTONS?Object(v.jsx)("div",{className:"modal-footer ",children:Object(v.jsx)("h6",{className:"w-100 text-center",children:I.a.App.uiSetting.defaultTitle})}):Object(v.jsx)(_n,{cancelButton:this.cancelButton,yesLabel:this.props.yesLabel,yesButton:this.yesButton,yesOnly:t,onConfirm:this.onConfirm,onCancel:this.onCancel})]})})})]})}}]),n}(m.Component),ea=(Hn=Object(j.resolve)(ue.a),Yn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogTitle=void 0,a.dialogContent=void 0,a.dialogYesOnly=void 0,a.yesLabel="Yes",a.dialogOnConfirm=void 0,a.dialogOnCancel=void 0,a.onCloseCallback=void 0,a.dialogType=Un.a.INFO,Object(s.a)(a,"dialogService",Vn,Object(o.a)(a)),a.ref=b.a.createRef(),a.dismissAlert=function(){a.ref.current?a.ref.current.close((function(){a.setState({show:!1})})):a.setState({show:!1})},a.dialogOnClose=function(e){a.setState({show:!1},(function(){a.onCloseCallback&&a.onCloseCallback(e),a.resetProps()}))},a.resetProps=function(){a.onCloseCallback=void 0,a.yesLabel="Yes"},a.showNoButtons=function(e,t,n,i){a.dialogType=Un.a.INFO_NO_BUTTONS,a.dialogTitle=e,a.dialogContent=t,i&&(i.close=a.dismissAlert),a.display()},a.show=function(e,t,n,i,r,s,o){a.dialogType=e,a.dialogTitle=t,a.dialogContent=n,a.dialogYesOnly=i,a.yesLabel=o||a.yesLabel,a.dialogOnConfirm=function(e){a.dismissAlert(),r(e)},a.onCloseCallback=s,i||(a.dialogOnCancel=function(e){a.dismissAlert(),s&&s(e)}),a.display()},a.state={show:!1},a}return Object(u.a)(n,[{key:"setContent",value:function(e){this.dialogContent=e,this.forceUpdate()}},{key:"componentDidMount",value:function(){this.dialogService.setContainer(this)}},{key:"isShown",get:function(){return this.state.show}},{key:"display",value:function(){this.setState({show:!0})}},{key:"render",value:function(){return this.state.show?Object(v.jsx)($n,{ref:this.ref,title:this.dialogTitle,yesOnly:this.dialogYesOnly,onConfirm:this.dialogOnConfirm,onCancel:this.dialogOnCancel,onClose:this.dialogOnClose,type:this.dialogType,yesLabel:this.yesLabel,children:this.dialogContent}):null}}]),n}(m.Component),Vn=Object(d.a)(Yn.prototype,"dialogService",[Hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn);Pn.b.register(Pn.a,Pn.e,Pn.f,Pn.d,Pn.g,Pn.h,Pn.c);var ta=Object(u.a)((function e(){Object(h.a)(this,e),this.loaded=!1,this.loadingError=!1})),na=(Gn=Object(j.resolve)(he.a),Jn=Object(j.resolve)(x.a),Qn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(s.a)(e,"authService",Xn,Object(o.a)(e)),Object(s.a)(e,"routingService",Zn,Object(o.a)(e)),e.state=new ta,e.load=function(){e.setState({loadingError:!1}),e.authService.loadApplication().then((function(){e.setState({loaded:!0})})).catch((function(t){console.error(t),e.setState({loadingError:!0})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.routingService.setNavigate(this.props.navigate),Object(Qe.a)(this.load,100)}},{key:"render",value:function(){return!0===this.state.loadingError?Object(v.jsxs)("div",{className:"w-100 text-center",children:[Object(v.jsx)("h3",{className:"mt-5 text-danger",children:"Error while loading content"}),Object(v.jsxs)("a",{className:"btn btn-outline-dark btn-sm",onClick:this.load,children:[Object(v.jsx)("i",{className:"fas fa-redo me-3"}),"Reload"]})]}):!1===this.state.loaded?Object(v.jsx)("h3",{className:"mt-5 text-center text-secondary",children:"Loading content"}):Object(v.jsxs)(m.Fragment,{children:[Object(v.jsx)(ea,{}),Object(v.jsx)(Bn,{}),Object(v.jsx)(Nn,{}),Object(v.jsx)(Mn,{})]})}}]),n}(m.Component),Xn=Object(d.a)(Qn.prototype,"authService",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=Object(d.a)(Qn.prototype,"routingService",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn);t.a=function(){var e=Object(p.f)(),t=Object(p.g)();return Object(v.jsxs)(m.Fragment,{children:[Object(v.jsx)(In,{currentLocation:e}),Object(v.jsx)(na,{navigate:t})]})}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5),a=n.n(t),i=n(65),r=n.n(i),s=(n(73),n(67)),o=n(66),c=n(33),l=n(10),d=n(51),u=n(0);e.self.MonacoEnvironment={getWorkerUrl:function(e,t){return console.log("get worker function: ",e,t),"json"===t?"./editorworkers/json.worker.bundle.js":"css"===t||"scss"===t||"less"===t?"./editorworkers/css.worker.bundle.js":"html"===t||"handlebars"===t||"razor"===t?"./editorworkers/html.worker.bundle.js":"typescript"===t||"javascript"===t?"./editorworkers/ts.worker.bundle.js":"yaml"===t||"yml"===t?"./editorworkers/yaml.worker/js":"./editorworkers/editor.worker.bundle.js"}},r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(l.Provider,{container:d.a,children:Object(u.jsx)(c.a,{children:Object(u.jsx)(s.a,{})})})}),document.getElementById("root")),Object(o.a)()}.call(this,n(54))},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){}],[[68,1,2]]]);
//# sourceMappingURL=main.4d2edc36.chunk.js.map