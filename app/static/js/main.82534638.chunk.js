(this["webpackJsonpkafila-resource-management-ui"]=this["webpackJsonpkafila-resource-management-ui"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(2),i=n(1),r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,null,[{key:"App",get:function(){return this._setting?this._setting:this._setting=window.appSetting}}]),e}();r._setting=void 0},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t){var n=setTimeout((function(){e(),clearTimeout(n)}),t)}},,,function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.INFO=0]="INFO",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR",e[e.INFO_NO_BUTTONS=3]="INFO_NO_BUTTONS"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,i=n(2),r=n(1),o=(n(52),n(39)),s=Object(o.a)()(a=function(){function e(){var t=this;Object(i.a)(this,e),this.lastRedirectedRoute=void 0,this.navigateFunction=void 0,this.routeUpdateCallbacks=new Map,this.setLastRedirectedRoute=function(e){t.lastRedirectedRoute=e},this.setNavigate=function(e){t.navigateFunction=e},this.navigate=function(e){t.navigateFunction&&t.navigateFunction(e)},this.registerCallback=function(e,n){t.routeUpdateCallbacks.set(e,n)},this.deRegisterCallback=function(e){t.routeUpdateCallbacks.delete(e)},this.updateRoute=function(e){console.debug("Route changed via call to navigate: "+e),t.routeUpdateCallbacks.forEach((function(t){t(e)}))}}return Object(r.a)(e,[{key:"redirectedRoute",get:function(){return this.lastRedirectedRoute}}]),e}())||a},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),i=n(2),r=n(4),o=n(3),s=n(5),c=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleInputChange=function(t,n){if(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement||t.target instanceof HTMLSelectElement){var a,i=t.target,r=e.state,o=i.id;if(!r)return;a="number"===i.type?i.value:"checkbox"===i.type&&i instanceof HTMLInputElement?i.checked:i.value;var s=i.name.split("."),c=r;s.forEach((function(e,t){c&&t<s.length-1&&(c=c[e]),t===s.length-1&&(c[e]=a)})),e.setState(r,(function(){if(o){var e=document.getElementById(o);e&&e.focus()}n&&n(a)}))}},e}return Object(a.a)(n)}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1),i=n(2),r=Object(a.a)((function e(){Object(i.a)(this,e),this.id=-1}))},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a,i,r,o,s,c,l,d=n(6),u=n(2),h=n(1),m=n(7),b=(n(15),n(39)),j=n(42),p=n(36),f=n(14),O=n(41),v=n.n(O),g=n(35),x=n(30),w=n(20),y=f.a.App.hosts.api+"/login",N=f.a.App.hosts.api+"/api/user/logout",C=f.a.App.hosts.api+"/api/user",S=f.a.App.hosts.api+"/api/public/index",k=f.a.App.hosts.api+"/api/user/update",D=(a=Object(b.a)(),i=Object(j.a)(x.a),r=Object(j.a)(w.a),a((s=function(){function e(){var t=this;Object(u.a)(this,e),this._loggedUser=void 0,this._appProfile=void 0,this._onUserUpdate=new Map,this._onAppProfileUpdate=new Map,Object(d.a)(this,"rest",c,this),Object(d.a)(this,"routing",l,this),this.addOnUserUpdated=function(e,n){t._onUserUpdate.set(e,n)},this.removeOnUserUpdated=function(e){t._onUserUpdate.delete(e)},this.addOnAppProfileUpdated=function(e,n){t._onAppProfileUpdate.set(e,n)},this.removeOnAppProfileUpdated=function(e){t._onAppProfileUpdate.delete(e)},this.loadApplication=function(){return new Promise((function(e,n){t.rest.getCommon(S,{}).then((function(n){t.loadUser(),t._appProfile=n,e(n)})).catch(n)}))},this.loadUser=function(){Object(g.b)()&&t.rest.getAuthorized(C).then((function(e){t.handleSuccessLogin(e)})).catch(console.error)},this.updateProfile=function(e){return new Promise((function(n,a){t.rest.putAuthorized(k,e).then((function(e){t.handleSuccessLogin(e),n(e)})).catch(a)}))},this.login=function(e,n){return new Promise((function(a,i){var r=new FormData;r.append("username",e),r.append("password",n),r.append("transport_type","rest");var o=["username="+e,"password="+n,"transport_type=rest"];v.a.post(y,o.join("&"),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var n=e.data,i=e.headers["access-token"];t.handleSuccessLogin(n.result,i),a(n.result)})).catch((function(e){var t,n;i(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))}))}))},this.handleSuccessLogin=function(e,n){t.loggedUser=Object.assign(new p.a,e),n&&Object(g.d)(n),t.routing.redirectedRoute&&t.routing.navigate(t.routing.redirectedRoute)},this.logout=function(){t.loggedUser=void 0,t.rest.postAuthorized(N,{}).then((function(e){Object(g.c)()})).catch(console.error)}}return Object(h.a)(e,[{key:"loggedIn",get:function(){return void 0!==this._loggedUser}},{key:"loggedUser",get:function(){return this._loggedUser},set:function(e){this._loggedUser=e,this._onUserUpdate.forEach((function(t){return t(e)}))}},{key:"isAdmin",get:function(){var e;return this.loggedIn&&(null===(e=this.loggedUser)||void 0===e?void 0:e.hasAuthorityType("ROLE_SUPERADMIN"))}},{key:"appProfile",get:function(){return this._appProfile},set:function(e){this._appProfile=e,this._onAppProfileUpdate.forEach((function(t){return t(e)}))}}]),e}(),c=Object(m.a)(s.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(m.a)(s.prototype,"routing",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=s))||o)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a,i,r,o,s,c=n(17),l=n(6),d=n(1),u=n(2),h=n(7),m=(n(15),n(41)),b=n.n(m),j=n(39),p=n(42),f=n(35),O=n(43),v="00",g=(a=Object(j.a)(),i=Object(p.a)(O.a),a((o=Object(d.a)((function e(){var t=this;Object(u.a)(this,e),Object(l.a)(this,"loading",s,this),this.postAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.postCommon(e,n,Object(f.a)(a),!0)},this.deleteAuthorized=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json";return t.deleteCommon(e,Object(f.a)(n),!0)},this.putAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.putCommon(e,n,Object(f.a)(a),!0)},this.patchAuthorized=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json";return t.patchCommon(e,n,Object(f.a)(a),!0)},this.startLoading=function(){return t.loading.startLoading()},this.stopLoading=function(){return t.loading.stopLoading()},this.postCommon=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,o){t.startLoading(),b.a.post(e,n,{headers:Object(c.a)({},a)}).then((function(e){e.data?e.data.code===v?(i&&t.updateLoginKeyCookie(e),r(e.data.result)):o(e.data):o(new Error("Invalid response data"))})).catch((function(e){var t,n;o(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.updateLoginKeyCookie=function(e){e.headers["access-token"]&&""!==e.headers["access-token"]&&Object(f.d)(e.headers["access-token"])},this.putCommon=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,o){t.startLoading(),b.a.put(e,n,{headers:Object(c.a)({},a)}).then((function(e){e.data?e.data.code===v?(i&&t.updateLoginKeyCookie(e),r(e.data.result)):o(e.data):o(new Error("Invalid response data"))})).catch((function(e){var t,n;o(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.patchCommon=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(r,o){t.startLoading(),b.a.patch(e,n,{headers:Object(c.a)({},a)}).then((function(e){e.data?e.data.code===v?(i&&t.updateLoginKeyCookie(e),r(e.data.result)):o(e.data):o(new Error("Invalid response data"))})).catch((function(e){var t,n;o(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.deleteCommon=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,r){t.startLoading(),b.a.delete(e,{headers:Object(c.a)({},n)}).then((function(e){e.data?e.data.code===v?(a&&t.updateLoginKeyCookie(e),i(e.data.result)):r(e.data):r(new Error("Invalid response data"))})).catch((function(e){var t,n;r(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))},this.getAuthorized=function(e){return t.getCommon(e,Object(f.a)(),!0)},this.getCommon=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,r){t.startLoading(),b.a.get(e,{headers:Object(c.a)({},n)}).then((function(e){e.data?e.data.code===v?(a&&t.updateLoginKeyCookie(e),i(e.data.result)):r(e.data):r(new Error("Invalid response data"))})).catch((function(e){var t,n;r(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:new Error(e.message))})).finally(t.stopLoading)}))}})),s=Object(h.a)(o.prototype,"loading",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=o))||r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,i=n(2),r=n(1),o=n(39),s=Object(o.a)()(a=function(){function e(){var t=this;Object(i.a)(this,e),this.component=void 0,this.setComponent=function(e){t.component=e},this.show=function(e,n){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;null===(a=t.component)||void 0===a||a.show(e,n,i)}}return Object(r.a)(e,[{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"info",t)}},{key:"showPrimary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"primary",t)}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"warning",t)}},{key:"showDanger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"danger",t)}},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;this.show(e,"success",t)}}]),e}())||a},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,i=n(17),r=n(1),o=n(2),s=n(39),c=n(5),l=n.n(c),d=(n(52),n(4)),u=n(3),h=n(22),m=n(0),b=Object(r.a)((function e(){Object(o.a)(this,e),this.content=""})),j=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state=new b,a.inputRef=l.a.createRef(),a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.content)},e.defaultValue&&(a.state.content=e.defaultValue),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h5",{children:this.props.message}),Object(m.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(m.jsx)("input",{ref:this.inputRef,name:"content",value:this.state.content,onChange:this.handleInputChange,className:"form-control mb-3",required:!0}),Object(m.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Ok"})]})]})}}]),n}(h.a),p=n(19),f=n(16),O=500,v=Object(s.a)()(a=Object(r.a)((function e(){var t=this;Object(o.a)(this,e),this.container=void 0,this.setContainer=function(e){t.container=e},this.showInfo=function(e,n){t.container.isShown?Object(f.a)((function(){t.showInfo(e,n)}),O):t.container.show(p.a.INFO,e,n,!0,console.info)},this.showWarning=function(e,n){t.container.isShown?Object(f.a)((function(){t.showWarning(e,n)}),O):t.container.show(p.a.WARNING,e,n,!0,console.info)},this.showError=function(e,n){var a;t.container.isShown?Object(f.a)((function(){t.showError(e,n)}),O):(n instanceof Error?a=n.message:("string"===typeof n&&n.trim().toLowerCase().startsWith("<!doctype html")&&(a=Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})),a="object"===typeof n?n.result:n&&""!==n.trim()?n.trim():"Unexpected error"),t.container.show(p.a.ERROR,e,a,!0,(function(){}),(function(){}),"Ok"))},this.showConfirmDanger=function(e,n){return t.showConfirm(e,n,p.a.ERROR)},this.showConfirmWarning=function(e,n){return t.showConfirm(e,n,p.a.WARNING)},this.showConfirm=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a.INFO;return new Promise((function(i,r){t.container.isShown?Object(f.a)((function(){t.container.show(a,e,n,!1,(function(e){i(!0)}),(function(e){i(!1)}))}),O):t.container.show(a,e,n,!1,(function(e){i(!0)}),(function(e){i(!1)}))}))},this.showPrompt=function(e,n,a){return new Promise((function(i,r){t.doShowPrompt(e,n,i,a)}))},this.doShowPrompt=function(e,n,a,i){if(t.container.isShown)Object(f.a)((function(){t.doShowPrompt(e,n,a,i)}),O);else{t.container.showNoButtons(e,Object(m.jsx)(j,{message:n,onSubmit:function(e){t.dismissAlert(),a(e)},defaultValue:i}),(function(e){a(void 0)}))}},this.dismissAlert=function(){t.container.dismissAlert()},this.showContent=function(e,n,a){return new Promise((function(r,o){a||(a={close:function(){}});var s=Object(c.createElement)(n.type,Object(i.a)(Object(i.a)({},n.props),{},{dialogObserver:a}));t.container.showNoButtons(e,s,(function(e){r(!1)}),a)}))}})))||a},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l}));var a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var i="expires="+a.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},i=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var i=n[a];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""},r="kado-in-login-token",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/json";return{"Content-Type":e,requestId:"ABCD",Authorization:"Bearer "+i(r)}},s=function(){a(r,null,0)},c=function(e){a(r,e)},l=function(){var e=d();return void 0!==e&&null!==e&&""!==e.trim()},d=function(){return i(r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n(2),r=n(4),o=n(3),s=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).username=void 0,e.displayName=void 0,e.fullName=void 0,e.phoneNumber=void 0,e.email=void 0,e.editPassword=void 0,e.authorities=void 0,e.hasAuthorityType=function(t){if(e.authorities)for(var n=0;n<e.authorities.length;n++){var a=e.authorities[n];if("string"===typeof t){if(a.name===t)return!0}else for(var i=0;i<t.length;i++){if(t[i]===a.name)return!0}}return!1},e.birthDate=void 0,e.birthPlace=void 0,e.gender="MALE",e}return Object(a.a)(n)}(n(23).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,i,r,o,s,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(42),b=n(30),j=n(14).a.App.hosts.api+"/api/admin/management/",p=(a=Object(h.a)(),i=Object(m.a)(b.a),a((o=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",s,this),this.get=function(e,n){var a="".concat(j).concat(e,"/").concat(n);return t.rest.getAuthorized(a)},this.post=function(e,n){var a="".concat(j).concat(e);return t.rest.postAuthorized(a,n)},this.put=function(e,n,a){var i="".concat(j).concat(e,"/").concat(n);return t.rest.putAuthorized(i,a)},this.patchAction=function(e,n,a){var i="".concat(j).concat(e,"/").concat(n,"?action=").concat(a);return t.rest.patchAuthorized(i,{})},this.delete=function(e,n){var a="".concat(j).concat(e,"/").concat(n);return t.rest.deleteAuthorized(a)},this.list=function(e,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,l="";i&&(l="&order="+i,!0===r&&(l+="&orderDesc=true"));var d="".concat(j).concat(e,"?")+"page=".concat(n,"&")+"limit=".concat(a)+l+(o?v(o):"")+(s?O(s):"")+(c?f(c):"");return t.rest.getAuthorized(d)}})),s=Object(u.a)(o.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=o))||r),f=function(e){return g("displayFieldAliases",e)},O=function(e){return g("fieldPaths",e)},v=function(e){return g("filter",e)},g=function(e,t){if(!t||0==t.length)return"";if("string"===typeof t)return"&".concat(e,"=").concat(t);for(var n=[],a=0;a<t.length;a++){var i=t[a];n.push("".concat(e,"=").concat(i))}return"&"+n.join("&")}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,i,r,o,s,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(42),b=n(30),j=n(14).a.App.hosts.api+"/api/admin/management/uploads/",p=(a=Object(h.a)(),i=Object(m.a)(b.a),a((o=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",s,this),this.uploadSignature=function(e,n){var a="".concat(j,"employee/signature"),i=new FormData;return i.append("id",e.id.toString()),i.append("file",n),t.rest.postAuthorized(a,i)},this.uploadSchoolStamp=function(e,n){var a="".concat(j,"school/stamp"),i=new FormData;return i.append("id",e.id.toString()),i.append("file",n),t.rest.postAuthorized(a,i)},this.uploadDivisionStamp=function(e,n,a){var i="".concat(j,"division-stamp"),r=new FormData;return r.append("id",e.id.toString()),r.append("file",n),r.append("division",a.toString()),t.rest.postAuthorized(i,r)}})),s=Object(u.a)(o.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=o))||r)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a,i=n(1),r=n(2),o=n(39),s=Object(o.a)()(a=Object(i.a)((function e(){var t=this;Object(r.a)(this,e),this.startLoading=function(){var e;null===(e=t.component)||void 0===e||e.startLoading()},this.stopLoading=function(){var e;null===(e=t.component)||void 0===e||e.stopLoading()},this.component=void 0,this.setComponent=function(e){t.component=e}})))||a},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,i,r,o,s,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(42),b=n(14),j=n(30),p=b.a.App.hosts.api+"/api/admin/management/",f=(a=Object(h.a)(),i=Object(m.a)(j.a),a((o=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",s,this),this.getMembers=function(e){return t.rest.getAuthorized("".concat(p,"classlevels/").concat(e,"/members"))},this.getActiveClasses=function(){var e="".concat(p,"classlevels/active");return t.rest.getAuthorized(e)}})),s=Object(u.a)(o.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=o))||r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,i,r,o,s,c=n(6),l=n(1),d=n(2),u=n(7),h=(n(15),n(39)),m=n(42),b=n(30),j=n(14).a.App.hosts.api+"/api/admin/management/",p=(a=Object(h.a)(),i=Object(m.a)(b.a),a((o=Object(l.a)((function e(){var t=this;Object(d.a)(this,e),Object(c.a)(this,"rest",s,this),this.getConfig=function(e){return t.rest.getAuthorized("".concat(j,"schools-config/school/").concat(e))},this.update=function(e){return t.rest.putAuthorized("".concat(j,"schools-config/").concat(e.id),e)}})),s=Object(u.a)(o.prototype,"rest",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=o))||r)},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,i=n(99),r=(n(52),n(30)),o=n(29),s=n(44),c=n(32),l=n(1),d=n(2),u=n(39),h=Object(u.a)()(a=Object(l.a)((function e(){Object(d.a)(this,e)})))||a,m=n(40),b=n(43),j=n(37),p=n(20),f=n(45),O=n(31),v=new i.a;v.bind(h).toSelf().inSingletonScope(),v.bind(r.a).toSelf().inSingletonScope(),v.bind(o.a).toSelf().inSingletonScope(),v.bind(j.a).toSelf().inSingletonScope(),v.bind(p.a).toSelf().inSingletonScope(),v.bind(s.a).toSelf().inSingletonScope(),v.bind(m.a).toSelf().inSingletonScope(),v.bind(f.a).toSelf().inSingletonScope(),v.bind(c.a).toSelf().inSingletonScope(),v.bind(b.a).toSelf().inSingletonScope(),v.bind(O.a).toSelf().inSingletonScope()},,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))}},function(e,t,n){"use strict";var a,i,r,o=n(6),s=n(8),c=n(4),l=n(3),d=n(7),u=(n(15),n(1)),h=n(2),m=n(5),b=n.n(m),j=(n(74),n(9)),p=n(12),f=n(17),O=n(0),v=function(e){var t;if(void 0!==e.show&&!1===e.show)return null;var n=!0===e.disabled?{disabled:"disabled"}:{};return Object(O.jsxs)("button",Object(f.a)(Object(f.a)({type:null!==(t=e.type)&&void 0!==t?t:"button",className:e.className,onClick:e.onClick},n),{},{children:[e.iconClass?Object(O.jsx)("i",{className:e.iconClass+(e.children?" me-3":"")}):null,e.children]}))},g=n(20),x=(a=Object(j.resolve)(g.a),i=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(e,"routing",r,Object(s.a)(e)),e.goBack=function(){e.props.back&&e.routing.navigate(e.props.back)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",Object(f.a)(Object(f.a)({},this.props.attributes),{},{className:"container-fluid baseView",children:[this.props.title&&""!==this.props.title.trim()?Object(O.jsx)("h2",{style:{textAlign:this.props.titleAlign},children:this.props.title}):null,this.props.back?Object(O.jsx)(v,{onClick:this.goBack,className:"btn btn-dark btn-sm my-2",iconClass:"fas fa-arrow-left",children:"Back"}):null,this.props.children]}))}}]),n}(m.Component),r=Object(d.a)(i.prototype,"routing",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i),w=Object(u.a)((function e(){Object(h.a)(this,e),this.error=void 0,this.message=void 0,this.busy=!1})),y=Object(u.a)((function e(){Object(h.a)(this,e),this.totalData=0,this.page=0,this.limit=10,this.items=[],this.order=void 0,this.orderDesc=void 0})),N=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).result=new y,e.item=void 0,e.showForm=!1,e.filter={},e}return Object(u.a)(n)}(w),C=Object(u.a)((function e(t,n){var a=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(h.a)(this,e),this.name=t,this.orderable=i,this.filterable=r,this.label=void 0,this.adjustLabel=function(){if(a.label){if(a.label.includes(".")){var e=a.label.split(".");a.label=e[e.length-1]}a.label=S(a.label)}},this.label=null!==n&&void 0!==n?n:t,this.filterable=!!this.orderable&&r,this.adjustLabel()})),S=function(e){return e[0].toUpperCase()+e.substring(1,e.length)},k=n(23),D=n(36),A=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).nisdm=void 0,e.profileImage=void 0,e.user=new D.a,e.noKk=void 0,e.noKtp=void 0,e.addressKtp=void 0,e.addressOther=void 0,e.motherName=void 0,e.fatherName=void 0,e.npwp=void 0,e.bankAccountNumber=void 0,e.educations=[],e.schools=[],e.photoScan=void 0,e.kkScan=void 0,e.npwpScan=void 0,e.bankAccountScan=void 0,e.signatureFile=void 0,e.active=void 0,e.removeEducation=function(t){for(var n=0;n<e.educations.length;n++){if(e.educations[n].id===t){e.educations.splice(n,1);break}}},e.addSchool=function(t){for(var n=0;n<e.schools.length;n++){if(e.schools[n].id===t.id)return console.warn("duplicate school id: "+t.id),!1}return e.schools.push(t),!0},e.removeSchool=function(t){for(var n=0;n<e.schools.length;n++){if(e.schools[n].id===t){e.schools.splice(n,1);break}}},e}return Object(u.a)(n)}(k.a),F=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).type="S1",e.name=void 0,e.major=void 0,e.title=void 0,e.certificateScan=void 0,e}return Object(u.a)(n)}(k.a),E=n(14),I=n(51);function P(e){return function(t){var n=Object(p.h)(),a=Object(p.g)();return Object(O.jsx)(e,Object(f.a)({navigate:function(e){var t=I.a.get(g.a);a(e),t.updateRoute(e)},routeParams:n},t))}}var L,M,R,B,U,T,z,q,K,_,W,H,Y,V=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*a));return t},G=function(e){return[e.getFullYear(),J(e.getMonth()+1),J(e.getDate())].join("-")},J=function(e){return e>=10?e.toString():"0"+e},Q=n(22),X=n(25),Z=n(32),$=n(29),ee=n(31),te=(L=Object(j.resolve)($.a),M=Object(j.resolve)(Z.a),R=Object(j.resolve)(ee.a),B=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return Object(h.a)(this,n),(a=t.call(this,e)).authorized=i,a.title=void 0,Object(o.a)(a,"authService",U,Object(s.a)(a)),Object(o.a)(a,"dialog",T,Object(s.a)(a)),Object(o.a)(a,"toast",z,Object(s.a)(a)),a.initialize=function(){document.title=a.title?a.title:E.a.App.uiSetting.defaultTitle},a.navigate=function(e){a.props.navigate?a.props.navigate(e):console.error("props.navigate does not exist")},a.gotoHomePage=function(){a.navigate("/")},a.invalidSession=function(){return Object(O.jsx)(x,{title:"Invalid Session",children:Object(O.jsx)("p",{children:"You must log in to access this page"})})},a.title=r,a.initialize(),a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(){!this.authorized||this.authService.loggedIn||this.navigate("/")}}]),n}(Q.a),U=Object(d.a)(B.prototype,"authService",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=Object(d.a)(B.prototype,"dialog",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(d.a)(B.prototype,"toast",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B),ne=n(37),ae=n(33),ie=function(e){return void 0!==e.show&&!1===e.show?null:e.to?Object(O.jsxs)(ae.b,{to:e.to,className:e.className,onClick:e.onClick,children:[e.iconClass?Object(O.jsx)("i",{className:e.iconClass+(e.children?" me-3":"")}):null,e.children]}):Object(O.jsxs)("a",{className:e.className,onClick:e.onClick,children:[e.iconClass?Object(O.jsx)("i",{className:e.iconClass+(e.children?" me-3":"")}):null,e.children]})},re=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=oe(this.props.limit,this.props.totalData,this.props.activePage);if(0===t.length)return null;var n=t[t.length-1],a=this.props.activePage+1>=n?0:this.props.activePage+1,i=this.props.activePage-1<0?n-1:this.props.activePage-1;return Object(O.jsx)("div",{children:Object(O.jsx)("nav",{"aria-label":"Page navigation example",children:Object(O.jsxs)("ul",{className:"pagination",children:[Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("a",{className:"page-link clickable",onClick:function(t){return e.props.onClick(i)},children:"Previous"})}),t.map((function(t,n){return Object(O.jsx)("li",{className:"page-item "+(t-1===e.props.activePage?"active":""),children:Object(O.jsx)("a",{className:"page-link clickable",onClick:function(n){return e.props.onClick(t-1)},children:t})},"NAV-"+V(10))})),Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("a",{className:"page-link clickable",onClick:function(t){return e.props.onClick(a)},children:"Next"})})]})})})}}]),n}(m.Component),oe=function(e,t,n){var a=[],i=Math.ceil(t/e),r=n-1,o=n+3;i>1&&a.push(1);for(var s=r;s<=o;s++)s>1&&s<=i&&a.push(s);return o<i&&a.push(i),a},se=(n(93),n(94),function(e,t,n,a,i,r){return e.map((function(e){var o=t===e.name?"text-center bg-light":"text-center",s=t===e.name?"text-dark":"text-secondary",c=e.name,l=t===e.name,d=c&&i[c]?decodeURIComponent(i[c]):"";return Object(O.jsxs)("th",{className:o,children:[e.orderable?Object(O.jsxs)("button",{type:"button",className:"sortButton mb-1 btn btn-text w-100 ".concat(s),onClick:function(t){e.orderable&&e.name&&a(e.name,!n)},children:[Object(O.jsx)("b",{className:"text-start w-100",children:e.label}),l?Object(O.jsx)("i",{className:"fas ".concat(n?"fa-long-arrow-alt-down":"fa-long-arrow-alt-up"," ms-2")}):Object(O.jsx)("i",{className:"fas fa-sort ms-2"})]}):Object(O.jsx)("span",{className:"text-secondary",children:e.label}),e.filterable&&e.name&&Object(O.jsx)("input",{id:"input-filter-".concat(e.name),className:"form-control form-control-sm",value:d,onChange:function(t){if(e.name){var n=t.target;r(e.name,n.value)}}})]},"th-item-"+V(3))}))}),ce=(q=Object(j.resolve)(ne.a),K=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,a,i){var r;return Object(h.a)(this,n),(r=t.call(this,e,!0,i)).name=a,Object(o.a)(r,"service",_,Object(s.a)(r)),r.load=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;r.service.list(r.name,e,t,n,a,r.filterParams).then((function(e){var t=[];e.items.forEach((function(e){t.push(Object.assign(r.defaultItem,e))})),e.items=t,r.setState({result:e})})).catch(console.error)},r.onFormSubmit=function(e){e.preventDefault();var t=r.state.item;t?void 0===t.id||t.id<=0?r.insert(t):r.update(t):r.dialog.showError("Submission Error","Undefined payload")},r.showForm=function(){return r.setState({showForm:!0})},r.hideForm=function(){return r.setState({item:r.defaultItem,showForm:!1})},r.edit=function(e){return r.setState({item:e},r.showForm)},r.delete=function(e){r.dialog.showConfirmDanger("Delete Item","Are you sure to delete this item?").then((function(t){t&&r.service.delete(r.name,e.id).then((function(e){r.dialog.showInfo("Delete Success","Item has been deleted"),r.loadCurrentPage()})).catch((function(e){r.dialog.showError("Delete Failed",e)}))}))},r.insert=function(e){r.dialog.showConfirm("Insert Item","Are you sure to add this item? ").then((function(t){t&&r.service.post(r.name,e).then((function(e){r.dialog.showInfo("Insert Success","New item has been inserted"),r.loadCurrentPage(),r.hideForm()})).catch((function(e){r.dialog.showError("Insert Failed",e)}))}))},r.showInsertForm=function(){return r.setState({showForm:!0,item:r.defaultItem})},r.resetFilter=function(){return r.setState({filter:{}},r.load)},r.resetFormAndClose=function(){return r.setState({showForm:!1,item:r.defaultItem},r.afterFormCloseCallback)},r.formEditSubmit=function(e){e.preventDefault(),r.state.item&&r.state.item.id>0?r.update(r.state.item):r.state.item&&(!r.state.item.id||r.state.item.id<=0)&&r.insert(r.state.item)},r.update=function(e){r.dialog.showConfirm("Update Item","Are you sure to update this item? ").then((function(t){t&&r.service.put(r.name,e.id,e).then((function(e){r.dialog.showInfo("Update Success","Item has been updated"),r.loadCurrentPage(),r.hideForm()})).catch((function(e){r.dialog.showError("Update Failed",e)}))}))},r.patchAction=function(e,t){r.dialog.showConfirmWarning("Execute Action","Are you sure to execute action: "+t+"? ").then((function(n){n&&r.service.patchAction(r.name,e.id,t).then((function(e){r.dialog.showInfo("Action Completed","Action: "+t+" has been executed"),r.loadCurrentPage(),r.hideForm()})).catch((function(e){r.dialog.showError("Update Failed",e)}))}))},r.loadCurrentPage=function(){r.load(r.state.result.page,r.state.result.limit)},r.loadFromForm=function(e){e.preventDefault(),r.load(0,r.state.result.limit,"id",!1)},r.setItemsOrder=function(e,t){r.load(r.state.result.page,r.state.result.limit,e,t)},r.getDataTableHeaderComponent=function(){return se(r.getDataTableHeaderVals(),r.activeOrder,r.isOrderDesc,r.setItemsOrder,r.state.filter,r.onFilterChange)},r.onFilterChange=function(e,t){var n=r.state.filter;(!t||""===t.trim())&&n[e]?delete n[e]:n[e]=encodeURIComponent(t),r.setState({filter:n},(function(){var t=document.getElementById("input-filter-".concat(e));null===t||void 0===t||t.focus()}))},r.actionButton=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-6 px-1",children:Object(O.jsx)(ie,{onClick:function(){return r.edit(e)},iconClass:"fas fa-edit",className:"btn btn-text clickable"})}),t&&Object(O.jsx)("div",{className:"col-md-6 px-1",children:Object(O.jsx)(ie,{onClick:function(){return r.delete(e)},className:"btn btn-text text-danger",iconClass:"fas fa-times"})})]})},r.listToggler=function(e,t,n,a,i){return Object(O.jsxs)(O.Fragment,{children:[e.map((function(e){return Object(O.jsxs)("div",{className:"listTogglerItem",children:[Object(O.jsx)(v,{onClick:function(n){return i(t,e.id)},className:"btn btn-text btn-sm text-danger me-2",iconClass:"fas fa-minus-circle"}),Object(O.jsx)("span",{className:"no-wrap",children:n(e)})]},"list-toggler-item-".concat(V(5)))})),Object(O.jsx)(v,{onClick:function(e){return a(t)},className:"btn btn-sm btn-text",iconClass:"fas fa-plus-circle text-success"})]})},r}return Object(u.a)(n,[{key:"item",get:function(){return this.state.item}},{key:"activeOrder",get:function(){var e;return null!==(e=this.state.result.order)&&void 0!==e?e:"id"}},{key:"isOrderDesc",get:function(){return!0===this.state.result.orderDesc}},{key:"startingNumber",get:function(){return 1+this.state.result.page*this.state.result.limit}},{key:"filterParams",get:function(){var e=this.state.filter,t=[];for(var n in e)t.push("".concat(n,":").concat(e[n]));return t}},{key:"componentDidMount",value:function(){this.load()}},{key:"afterFormCloseCallback",value:function(){}},{key:"paginationButton",get:function(){var e=this,t=this.state.result;return Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-md-8",children:Object(O.jsx)(re,{limit:t.limit,totalData:t.totalData,activePage:t.page,onClick:function(t){return e.load(t,e.state.result.limit)}})}),Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(le,{defaultLimit:t.limit,onSubmit:function(n){e.load(0,n,t.order,t.orderDesc)}})})]})}},{key:"closeFormButton",get:function(){return Object(O.jsx)(v,{onClick:this.resetFormAndClose,iconClass:"fas fa-times",className:"btn btn-secondary btn-sm mx-2",children:"Close form"})}},{key:"showFormButton",get:function(){return Object(O.jsx)(v,{onClick:this.showInsertForm,iconClass:"fas fa-plus",className:"btn btn-primary btn-sm mx-2",children:"Insert new data"})}},{key:"tableFooter",get:function(){return Object(O.jsx)("tfoot",{children:Object(O.jsx)("tr",{children:Object(O.jsxs)("td",{colSpan:4,children:[Object(O.jsx)(v,{type:"submit",iconClass:"fas fa-redo",className:"btn btn-secondary btn-sm me-2",children:"Reload"}),Object(O.jsx)(v,{type:"button",onClick:this.resetFilter,className:"btn btn-warning btn-sm",children:"Reset Filter"})]})})})}}]),n}(te),_=Object(d.a)(K.prototype,"service",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K),le=function(e){var t=Object(m.useState)(e.defaultLimit),n=Object(X.a)(t,2),a=n[0],i=n[1];return Object(O.jsxs)("form",{className:"input-group",onSubmit:function(t){t.preventDefault(),e.onSubmit(a)},children:[Object(O.jsx)("input",{type:"number",value:a,min:1,className:"form-control form-control-sm",onChange:function(e){var t=e.target;i(parseInt(t.value))},required:!0}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)(v,{type:"submit",className:"btn btn-sm btn-info text-white",iconClass:"fas fa-play",children:"Apply Page Size"})})]})},de=ce,ue=n(40),he=function(e){var t=Object(m.useState)(null),n=Object(X.a)(t,2),a=n[0],i=n[1];return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a&&a instanceof File&&e.submit(a)},children:[Object(O.jsx)("p",{children:"Select file"}),Object(O.jsx)("input",{required:!0,onChange:function(e){var t=e.target;t.files&&t.files[0]&&i(t.files[0])},className:"form-control",type:"file",accept:"image/png"}),Object(O.jsx)("p",{}),Object(O.jsx)(v,{className:"btn btn-success",type:"submit",children:"Upload"})]})},me=Object(u.a)((function e(){Object(h.a)(this,e),this.close=function(){}}));me.create=function(){return new me};var be,je,pe,fe,Oe,ve,ge,xe,we,ye,Ne,Ce,Se,ke,De,Ae,Fe,Ee,Ie,Pe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(N),Le=(W=Object(j.resolve)(ue.a),H=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e,"employees","Employees Management"),Object(o.a)(a,"upload",Y,Object(s.a)(a)),a.getDataTableHeaderVals=function(){return[new C("nisdm","NISDM"),new C("user.fullName","Full Name"),new C("user.email","Email"),new C("user.birthDate","BirthDate"),new C("user.gender","Gender"),new C(null,"Signature",!1),new C(null,"School",!1),new C(null,"Education",!1)]},a.removeEducation=function(e,t){a.dialog.showConfirmDanger("Remove Education","Dou you want to remove education data?").then((function(n){n&&(e.removeEducation(t),a.update(e))}))},a.addEducation=function(e){a.dialog.showContent("Add Education",Object(O.jsx)(Be,{item:e,update:function(t){return a.submitAddEducation(e,t)}}))},a.submitAddEducation=function(e,t){e.educations.push(t),a.update(e)},a.removeSchool=function(e,t){a.dialog.showConfirmDanger("Remove School","Dou you want to remove school data?").then((function(n){n&&(e.removeSchool(t),a.update(e))}))},a.addSchool=function(e){a.service.get("employees",e.id).then((function(e){e=Object.assign(new A,e),a.service.list("schools",0,-1,void 0).then((function(t){a.dialog.showContent("Add School",Object(O.jsx)(Ue,{schools:t.items,update:function(t){return a.submitAddSchool(e,t)}}))})).catch(console.error)})).catch(console.error)},a.submitAddSchool=function(e,t){e.addSchool(t)&&a.update(e)},a.showSignatureForm=function(e){var t=me.create();a.dialog.showContent("Upload Signature",Object(O.jsx)(he,{submit:function(n){return function(e,n){a.upload.uploadSignature(e,n).then((function(){a.toast.showSuccess("Signature has been uploaded"),t.close(),a.forceUpdate()})).catch((function(e){a.toast.showDanger("Failed to upload signature"),console.error(e)}))}(e,n)}}),t)},a.state=new Pe,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new A}},{key:"render",value:function(){var e=this,t=this.state,n=t.showForm,a=t.item,i=t.result;if(n&&a)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(Re,{item:a,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var r=null===i||void 0===i?void 0:i.items;return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===i||void 0===r?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:r.map((function(t,n){var a=t.user,i=t.schools,r=t.educations;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:t.nisdm}),Object(O.jsx)("td",{children:a.fullName}),Object(O.jsx)("td",{children:a.email}),Object(O.jsx)("td",{children:new Date(a.birthDate).toLocaleDateString()}),Object(O.jsx)("td",{children:a.gender}),Object(O.jsxs)("td",{children:[Object(O.jsx)("img",{width:50,height:50,src:Me(t.id)}),Object(O.jsx)("div",{children:Object(O.jsx)(v,{iconClass:"fas fa-edit",className:"btn btn-dark btn-sm",onClick:function(){return e.showSignatureForm(t)}})})]}),Object(O.jsx)("td",{children:e.listToggler(i,t,(function(e){return"".concat(e.name)}),e.addSchool,e.removeSchool)}),Object(O.jsx)("td",{children:e.listToggler(r,t,(function(e){return"".concat(e.type,": ").concat(e.name)}),e.addEducation,e.removeEducation)}),Object(O.jsx)("td",{children:e.actionButton(t)})]},"user-"+t.id)}))}),this.tableFooter]})})]})]})}}]),n}(de),Y=Object(d.a)(H.prototype,"upload",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H),Me=function(e){return"".concat(E.a.App.hosts.api,"/files/employeesignature/").concat(e,"?v=").concat((new Date).getTime())},Re=function(e){var t=e.item,n=e.handleInputChange;return Object(O.jsx)("div",{className:"formEditContainer",children:Object(O.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(O.jsx)("p",{children:"NiSDM"}),Object(O.jsx)("input",{className:"form-control",id:"item.nisdm",name:"item.nisdm",value:t.nisdm,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Full Name"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.fullName",name:"item.user.fullName",value:t.user.fullName,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Email"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.email",name:"item.user.email",type:"email",value:t.user.email,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Gender"}),Object(O.jsxs)("select",{className:"form-control",value:t.user.gender,id:"item.user.gender",name:"item.user.gender",onChange:n,required:!0,children:[Object(O.jsx)("option",{children:"MALE"}),Object(O.jsx)("option",{children:"FEMALE"})]}),Object(O.jsx)("p",{children:"Birth Date"}),Object(O.jsx)("input",{type:"date",className:"form-control",id:"item.user.birthDate",name:"item.user.birthDate",value:G(new Date(t.user.birthDate)),onChange:n,required:!0}),Object(O.jsx)("p",{children:"Birth Place"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.birthPlace",name:"item.user.birthPlace",value:t.user.birthPlace,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Phone Number"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.phoneNumber",name:"item.user.phoneNumber",value:t.user.phoneNumber,onChange:n,required:!0}),Object(O.jsx)("p",{children:"No KK"}),Object(O.jsx)("input",{className:"form-control",id:"item.noKk",name:"item.noKk",value:t.noKk,onChange:n,required:!0}),Object(O.jsx)("p",{children:"No KTP"}),Object(O.jsx)("input",{className:"form-control",id:"item.noKtp",name:"item.noKtp",value:t.noKtp,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Alamat Sesuai KTP"}),Object(O.jsx)("input",{className:"form-control",id:"item.addressKtp",name:"item.addressKtp",value:t.addressKtp,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Alamat Domisili"}),Object(O.jsx)("input",{className:"form-control",id:"item.addressOther",name:"item.addressOther",value:t.addressOther,onChange:n}),Object(O.jsx)("p",{children:"Nama Ibu"}),Object(O.jsx)("input",{className:"form-control",id:"item.motherName",name:"item.motherName",value:t.motherName,onChange:n}),Object(O.jsx)("p",{children:"Nama Ayah"}),Object(O.jsx)("input",{className:"form-control",id:"item.fatherName",name:"item.fatherName",value:t.fatherName,onChange:n}),Object(O.jsx)("p",{children:"NPWP"}),Object(O.jsx)("input",{className:"form-control",id:"item.npwp",name:"item.npwp",value:t.npwp,onChange:n}),Object(O.jsx)("p",{children:"No Rekening BSI"}),Object(O.jsx)("input",{className:"form-control",id:"item.bankAccountNumber",name:"item.bankAccountNumber",value:t.bankAccountNumber,onChange:n}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},Be=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){e.preventDefault(),a.props.update(a.state.item)},a.state={item:new F},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.item;return Object(O.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(O.jsx)("p",{children:"Type"}),Object(O.jsx)("select",{className:"form-control",value:e.type,name:"item.type",onChange:this.handleInputChange,children:["S1","S2","S3","D1","D2","D3"].map((function(e){return Object(O.jsx)("option",{children:e},"add-edu-lvl-"+e)}))}),Object(O.jsx)("p",{children:"Name"}),Object(O.jsx)("input",{className:"form-control",value:e.name,name:"item.name",onChange:this.handleInputChange}),Object(O.jsx)("p",{children:"Major"}),Object(O.jsx)("input",{className:"form-control",value:e.major,name:"item.major",onChange:this.handleInputChange}),Object(O.jsx)("p",{children:"Title"}),Object(O.jsx)("input",{className:"form-control",value:e.title,name:"item.title",onChange:this.handleInputChange}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Save"})]})}}]),n}(Q.a),Ue=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).selectedSchool=void 0,a.onSubmit=function(e){e.preventDefault(),a.props.update(a.selectedSchool),a.props.dialogObserver&&a.props.dialogObserver.close()},a.selectedSchool=a.props.schools[0],a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(O.jsx)("p",{children:"Type"}),Object(O.jsx)("select",{className:"form-control",children:this.props.schools.map((function(t){return Object(O.jsx)("option",{onClick:function(n){e.selectedSchool=t},children:t.name},"add-school-"+t.code)}))}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",type:"submit",value:"Save"})]})}}]),n}(m.Component),Te=P(Le),ze=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(w),qe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,!0,"Admin Area")).state=new ze,a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(O.jsx)(x,{title:"Admin Area",children:Object(O.jsx)("div",{className:"row",children:Ke.map((function(e){return Object(O.jsx)("div",{className:"col-md-3 mb-2",children:Object(O.jsx)(ie,{className:"btn btn-light px-5 py-5 w-100",to:e.url,iconClass:e.iconClass,children:e.label})},"mngmnt-menu-"+e.url)}))})})}}]),n}(te),Ke=[{url:"/admin/users",label:"Users",iconClass:"fas fa-user-circle"},{url:"/admin/schools",label:"Schools",iconClass:"fas fa-school"},{url:"/admin/employees",label:"Employees",iconClass:"fas fa-users"},{url:"/admin/semesterperiods",label:"Semesters",iconClass:"fas fa-calendar-alt"},{url:"/admin/classlevels",label:"Classes",iconClass:"fas fa-chalkboard-teacher"},{url:"/admin/students",label:"Students",iconClass:"fas fa-user-graduate"},{url:"/admin/classmembers",label:"Class Members",iconClass:"fas fa-user-friends"}],_e=P(qe),We=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).nis=void 0,e.name=void 0,e.code=void 0,e.address=void 0,e.level=void 0,e.stamp=void 0,e}return Object(u.a)(n)}(k.a),He=n(45),Ye=(be=Object(j.resolve)(ne.a),je=Object(j.resolve)(ee.a),pe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(o.a)(a,"service",fe,Object(s.a)(a)),Object(o.a)(a,"toast",Oe,Object(s.a)(a)),a.search=function(e){e.preventDefault(),a.service.list("employees",0,10,"user.fullName",!1,"user.fullName:"+a.state.searchEmployee).then((function(e){a.handleSearchEmployee(e.items)})).catch(console.error)},a.handleSearchEmployee=function(e){e&&0!==e.length?a.setState({employees:e}):a.toast.showDanger('No employee contains name "'+a.state.searchEmployee+'" was found')},a.closeDropdown=function(){a.setState({employees:[]})},a.setSelectedEmployee=function(e){a.setState({selectedEmployee:e,searchEmployee:e.user.fullName},a.closeDropdown)},a.submit=function(){var e,t=a.state.selectedEmployee;t?(a.props.onSelect(t),null===(e=a.props.dialogObserver)||void 0===e||e.close()):a.toast.showDanger("Invalid employee")},a.state={searchEmployee:"",employees:[],selectedEmployee:void 0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.employees;return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Select Employee"}),Object(O.jsxs)("form",{onSubmit:this.search,className:"my-5 mx-5 pb-5",children:[Object(O.jsxs)("div",{className:"input-group",children:[Object(O.jsx)("input",{type:"search",className:"form-control",name:"searchEmployee",value:this.state.searchEmployee,placeholder:"Full Name",onChange:this.handleInputChange,required:!0}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Search"})})]}),Object(O.jsx)("div",{style:{position:"absolute",width:"75%"},children:t.length>0?Object(O.jsxs)("div",{className:"bg-light border border-dark px-2 py-1 w-100",style:{position:"relative"},children:[Object(O.jsx)(v,{className:"btn btn-text btn-sm",iconClass:"fas fa-times",onClick:this.closeDropdown,children:"close"}),Object(O.jsx)("div",{style:{overflowY:"auto",height:"100px"},children:Object(O.jsx)("div",{className:"no-wrap",style:{width:"max-content"},children:t.map((function(t){return Object(O.jsx)("div",{children:Object(O.jsxs)("a",{className:"btn btn-text clickable",onClick:function(){return e.setSelectedEmployee(t)},children:[t.user.fullName.trim(),", nisdm: ",t.nisdm]})},"set-emp-"+t.id)}))})})]}):null}),Object(O.jsx)("button",{type:"button",className:"btn btn-success mt-3",onClick:this.submit,children:"Ok"})]})]})}}]),n}(Q.a),fe=Object(d.a)(pe.prototype,"service",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Object(d.a)(pe.prototype,"toast",[je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe),Ve=P((ve=Object(j.resolve)(Z.a),ge=Object(j.resolve)(He.a),xe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(o.a)(a,"dialog",we,Object(s.a)(a)),Object(o.a)(a,"service",ye,Object(s.a)(a)),a.onSubmit=function(e){e.preventDefault(),a.saveConfig()},a.saveConfig=function(){var e=a.state.config;a.dialog.showConfirm("Save School Config","Do you want to save config?").then((function(t){t&&a.service.update(e).then((function(){a.dialog.showInfo("School Config Update","Config has been updated")})).catch((function(e){return a.dialog.showError("School Config Update",e)}))}))},a.selectHeadMaster=function(){a.showSelectEmployeeForm("Select School Head Master","headMaster")},a.selectAdmin=function(){a.showSelectEmployeeForm("Select School Admin","admin")},a.showSelectEmployeeForm=function(e,t){var n=a.state.config;a.dialog.showContent(e,Object(O.jsx)(Ye,{onSelect:function(e){n[t]=e,a.setState({config:n})}}))},a.state={config:e.config},a}return Object(u.a)(n,[{key:"render",value:function(){var e,t,n,a,i,r,o=this.props.school,s=this.state.config;return Object(O.jsxs)("form",{className:"container-fluid",onSubmit:this.onSubmit,children:[Object(O.jsxs)("h4",{className:"text-center",children:["School Config ",o.name]}),Object(O.jsx)("table",{children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)(v,{iconClass:"fas fa-edit",className:"btn btn-text btn-sm me-1",onClick:this.selectHeadMaster}),"Head Master"]})}),Object(O.jsx)("td",{children:Object(O.jsx)("span",{className:"px-3",children:null!==(e=null===(t=s.headMaster)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.fullName)&&void 0!==e?e:"-"})})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)(v,{iconClass:"fas fa-edit",className:"btn btn-text btn-sm me-1",onClick:this.selectAdmin}),"Admin"]})}),Object(O.jsx)("td",{children:Object(O.jsx)("span",{className:"px-3",children:null!==(a=null===(i=s.admin)||void 0===i||null===(r=i.user)||void 0===r?void 0:r.fullName)&&void 0!==a?a:"-"})})]}),Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,children:Object(O.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})})})]})})]})}}]),n}(m.Component),we=Object(d.a)(xe.prototype,"dialog",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Object(d.a)(xe.prototype,"service",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe)),Ge=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showConfigForm=!1,e.config=void 0,e}return Object(u.a)(n)}(N),Je=(Ne=Object(j.resolve)(He.a),Ce=Object(j.resolve)(ue.a),Se=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e,"schools","School Management"),Object(o.a)(a,"configService",ke,Object(s.a)(a)),Object(o.a)(a,"upload",De,Object(s.a)(a)),a.showConfigForm=function(e){a.configService.getConfig(e.id).then((function(t){a.setState({config:t,item:e,showConfigForm:!0})})).catch((function(e){return a.dialog.showError("Load Config Failed",e)}))},a.afterFormCloseCallback=function(){a.setState({showConfigForm:!1})},a.showStampForm=function(e){var t=me.create();a.dialog.showContent("Upload School Stamp",Object(O.jsx)(he,{submit:function(n){return function(e,n){a.upload.uploadSchoolStamp(e,n).then((function(){a.toast.showSuccess("Stamp has been uploaded"),t.close(),a.forceUpdate()})).catch((function(e){a.toast.showDanger("Failed to upload stamp"),console.error(e)}))}(e,n)}}),t)},a.state=new Ge,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new We}},{key:"getDataTableHeaderVals",value:function(){return[new C("nis","NIS"),new C("name","Name"),new C("level","Level"),new C("code","Code"),new C("address","Address"),new C(null,"Stamp",!1),new C(null,"Config",!1)]}},{key:"render",value:function(){var e=this,t=this.state,n=t.showForm,a=t.config,i=t.showConfigForm,r=t.item,o=t.result;if(a&&i&&r)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(Ve,{school:r,config:a})]});if(n&&r)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(Xe,{item:r,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var s=null===o||void 0===o?void 0:o.items;return Object(O.jsx)(x,{title:this.title,back:"/admin",children:void 0===o||void 0===s?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:s.map((function(t,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:t.nis}),Object(O.jsx)("td",{children:t.name}),Object(O.jsx)("td",{children:t.level}),Object(O.jsx)("td",{children:t.code}),Object(O.jsx)("td",{children:t.address}),Object(O.jsxs)("td",{children:[Object(O.jsx)("img",{width:50,height:50,src:Qe(t.id)}),Object(O.jsx)("div",{children:Object(O.jsx)(v,{iconClass:"fas fa-edit",className:"btn btn-dark btn-sm",onClick:function(){return e.showStampForm(t)}})})]}),Object(O.jsx)("td",{children:Object(O.jsx)(v,{className:"btn btn-text btn-sm",iconClass:"fas fa-cog",onClick:function(){return e.showConfigForm(t)}})}),Object(O.jsx)("td",{children:e.actionButton(t,!1)})]},"School-"+t.id)}))}),this.tableFooter]})})]})})}}]),n}(de),ke=Object(d.a)(Se.prototype,"configService",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Object(d.a)(Se.prototype,"upload",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se),Qe=function(e){return"".concat(E.a.App.hosts.api,"/files/school-stamp/").concat(e,"?v=").concat((new Date).getTime())},Xe=function(e){var t=e.item;return Object(O.jsx)("div",{className:"formEditContainer",children:Object(O.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(O.jsx)("p",{children:"Nis"}),Object(O.jsx)("input",{className:"form-control",name:"item.nis",id:"item.nis",value:t.nis,onChange:e.handleInputChange}),Object(O.jsx)("p",{children:"Name"}),Object(O.jsx)("input",{className:"form-control",name:"item.name",id:"item.name",value:t.name,onChange:e.handleInputChange}),Object(O.jsx)("p",{children:"Code"}),Object(O.jsx)("input",{disabled:!0,className:"form-control",name:"item.code",id:"item.code",value:t.code,onChange:e.handleInputChange}),Object(O.jsx)("p",{children:"Address"}),Object(O.jsx)("textarea",{className:"form-control",name:"item.code",id:"item.address",value:t.address,onChange:e.handleInputChange}),Object(O.jsx)("p",{children:"Level"}),Object(O.jsxs)("select",{className:"form-control",name:"item.level",id:"item.level",value:t.level,onChange:e.handleInputChange,children:[Object(O.jsx)("option",{children:"MA"}),Object(O.jsx)("option",{children:"MTS"})]}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},Ze=P(Je),$e=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(N),et=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"users","User Management")).getDataTableHeaderVals=function(){return[new C("email","Email"),new C("username","Acct Name"),new C("fullName","Full Name"),new C("displayName","Display Name"),new C("birthDate","Date of Birth"),new C("birthPlace","Place of Birth"),new C("gender","Gender"),new C("authorities.name","Role"),new C("phoneNumber","Phone")]},a.resetPassword=function(e){a.patchAction(e,"resetPassword")},a.state=new $e,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new D.a}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(tt,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(O.jsx)(x,{title:this.title,back:"/admin",children:void 0===t||void 0===n?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:n.map((function(t,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:t.email}),Object(O.jsx)("td",{children:t.username}),Object(O.jsx)("td",{children:t.fullName}),Object(O.jsx)("td",{children:t.displayName}),Object(O.jsx)("td",{children:new Date(t.birthDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.birthPlace}),Object(O.jsx)("td",{children:t.gender}),Object(O.jsx)("td",{children:t.authorities.map((function(e){var n;return Object(O.jsx)("div",{className:"badge bg-success me-1",children:null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase()},"".concat(t.id,"-").concat(e.name))}))}),Object(O.jsx)("td",{children:t.phoneNumber}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"d-flex",style:{flexWrap:"nowrap",width:"150px"},children:[Object(O.jsx)(v,{iconClass:"fas fa-lock-open",className:"btn btn-warning btn-sm me-2",onClick:function(){return e.resetPassword(t)}}),e.actionButton(t)]})})]},"user-"+t.id)}))}),this.tableFooter]})})]})})}}]),n}(de),tt=function(e){var t=e.item,n=e.handleInputChange;return Object(O.jsx)("div",{className:"formEditContainer",children:Object(O.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(O.jsx)("p",{children:"Full Name"}),Object(O.jsx)("input",{className:"form-control",id:"item.fullName",name:"item.fullName",value:t.fullName,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Display Name"}),Object(O.jsx)("input",{className:"form-control",id:"item.displayName",name:"item.displayName",value:t.displayName,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Email"}),Object(O.jsx)("input",{className:"form-control",id:"item.email",name:"item.email",type:"email",value:t.email,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Gender"}),Object(O.jsxs)("select",{className:"form-control",value:t.gender,id:"item.gender",name:"item.gender",onChange:n,required:!0,children:[Object(O.jsx)("option",{children:"MALE"}),Object(O.jsx)("option",{children:"FEMALE"})]}),Object(O.jsx)("p",{children:"Birth Date"}),Object(O.jsx)("input",{type:"date",className:"form-control",id:"item.birthDate",name:"item.birthDate",value:G(new Date(t.birthDate)),onChange:n,required:!0}),Object(O.jsx)("p",{children:"Birth Place"}),Object(O.jsx)("input",{className:"form-control",id:"item.birthPlace",name:"item.birthPlace",value:t.birthPlace,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Phone Number"}),Object(O.jsx)("input",{className:"form-control",id:"item.phoneNumber",name:"item.phoneNumber",value:t.phoneNumber,onChange:n,required:!0}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},nt=P(et),at=function(e){return!1===e.show?null:Object(O.jsx)("div",{className:"alert alert-danger",children:e.children})},it=function(e){return!1===e.show?null:Object(O.jsx)("div",{className:"alert alert-info",children:e.children})},rt=n(16),ot=function(e){return Object(O.jsx)("table",{className:e.className,children:Object(O.jsx)("tbody",{children:e.content.map((function(e){var t="row-"+V(5);return Object(O.jsx)("tr",{children:e.map((function(e,n){return Object(O.jsx)("td",{children:e},t+"-"+n)}))},t)}))})})},st=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).username="",e.password="",e.loading=!1,e.loginSuccess=!1,e}return Object(u.a)(n)}(w),ct=P(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,!1,"Login")).state=new st,a.onSubmit=function(e){console.log("ON submit login"),e.preventDefault(),a.setState({loading:!0}),a.authService.login(a.state.username,a.state.password).then((function(e){a.setState({error:void 0,loginSuccess:!0},(function(){return Object(rt.a)(a.handleSuccessLogin,500)}))})).catch((function(e){a.setState({error:new Error(null===e||void 0===e?void 0:e.message)})})).finally((function(){a.setState({loading:!1})}))},a.handleSuccessLogin=function(){a.authService.isAdmin?a.navigate("/admin"):a.gotoHomePage()},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.authService.loggedIn&&this.navigate("/")}},{key:"render",value:function(){var e;return this.state.loginSuccess?Object(O.jsx)(x,{children:Object(O.jsx)("div",{className:"pt-5 pb-5 pl-5 pr-5 text-center",children:Object(O.jsx)(it,{children:"Login Succes"})})}):Object(O.jsx)(x,{children:Object(O.jsxs)("form",{onSubmit:this.onSubmit,className:"row mt-3 ",children:[Object(O.jsx)("div",{className:"col-md-4"}),Object(O.jsxs)("div",{className:"col-md-4 bg-light",style:{padding:20},children:[Object(O.jsx)(at,{show:void 0!==this.state.error,children:null===(e=this.state.error)||void 0===e?void 0:e.message}),Object(O.jsx)(ot,{className:"table table-borderless",content:[["Username",Object(O.jsx)("input",{id:"username",name:"username",value:this.state.username,onChange:this.handleInputChange,className:"form-control",required:!0})],["Password",Object(O.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleInputChange,className:"form-control",required:!0})]]}),this.state.loading?Object(O.jsx)("i",{children:"Please wait..."}):Object(O.jsx)(v,{type:"submit",className:"btn btn-success mt-3",children:"Login"}),Object(O.jsx)("p",{className:"mt-3",children:"Don't have account? Contact admin"})]})]})})}}]),n}(te)),lt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e,!1,"Error")}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsx)(x,{title:"Oops !",children:Object(O.jsx)("div",{className:"alert alert-danger mt-3",children:Object(O.jsx)("p",{children:this.props.message})})})}}]),n}(te),dt=(n(95),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showTitle=!1,e.welcomingWords=[],e}return Object(u.a)(n)}(w)),ut=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state=new dt,a.welcomingWord=void 0,a._mounted=!1,a.startDisplayWelcomingWord=function(){a.state.welcomingWords.join("")!==a.welcomingWord&&Object(rt.a)((function(){if(a.isMounted){var e=a.state.welcomingWords;e.push(a.welcomingWord[a.welcomingWord.length-(a.welcomingWord.length-e.length)]),a.setState({welcomingWords:e},a.startDisplayWelcomingWord)}}),200)},a.title=a.welcomingWord=E.a.App.uiSetting.defaultTitle,a}return Object(u.a)(n,[{key:"isMounted",get:function(){return this._mounted},set:function(e){this._mounted=e}},{key:"componentDidMount",value:function(){this.startDisplayWelcomingWord(),this.isMounted=!0}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(O.jsx)(x,{attributes:{style:{textAlign:"center",paddingTop:"30vh"}},children:Object(O.jsx)(ht,{word:this.state.welcomingWords.join("")})})}}]),n}(te),ht=function(e){return Object(O.jsx)("div",{style:{fontSize:"3em",fontWeight:"bold"},className:"text-primary text-center",children:e.word})},mt=P(ut),bt=P(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,e,!0,"Dashboard")}return Object(u.a)(n,[{key:"render",value:function(){var e;return Object(O.jsx)(x,{title:"Dashboard",children:Object(O.jsxs)("div",{className:"alert alert-success",children:["Hello, ",null===(e=this.authService.loggedUser)||void 0===e?void 0:e.displayName]})})}}]),n}(te)),jt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).user=new D.a,e}return Object(u.a)(n)}(w),pt=P(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,!1,"Edit Profile")).state=new jt,a.onSubmit=function(e){e.preventDefault(),a.dialog.showConfirm("Update Profile","Save user data?").then((function(e){a.authService.updateProfile(a.state.user).then((function(e){a.dialog.showInfo("Update Success","Profile has been updated")})).catch(console.error)})).catch(console.error)},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.authService.loggedUser&&this.setState({user:this.authService.loggedUser})}},{key:"render",value:function(){var e=this.state.user;return Object(O.jsx)(x,{title:"Edit Profile",back:"/dashboard",children:Object(O.jsxs)("form",{className:"border border-gray rounded px-3 py-3",onSubmit:this.onSubmit,children:[Object(O.jsx)("p",{children:"Email"}),Object(O.jsx)("input",{className:"form-control",name:"user.email",value:e.email,onChange:this.handleInputChange}),Object(O.jsx)("p",{children:"Username"}),Object(O.jsx)("input",{className:"form-control",name:"user.username",value:e.username,onChange:this.handleInputChange}),Object(O.jsx)("p",{children:"Display Name"}),Object(O.jsx)("input",{className:"form-control",name:"user.displayName",value:e.displayName,onChange:this.handleInputChange}),Object(O.jsxs)("p",{children:["Password ",Object(O.jsx)("i",{children:"Leave it empty if you don't want to change it"})]}),Object(O.jsx)("input",{autoComplete:"off",className:"form-control",type:"password",name:"user.editPassword",value:e.editPassword,onChange:this.handleInputChange}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-success",type:"submit",value:"Save"})]})})}}]),n}(te)),ft=n(24),Ot=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).semester=1,e.year=void 0,e.active=void 0,e.direktur=void 0,e.bendahara=void 0,e.pengawasSekolah=void 0,e.headHRD=void 0,e.hearMR=void 0,e.headRnD=void 0,e.headLogistic=void 0,e.headPublicRelation=void 0,e.headLanguage=void 0,e.headPesantren=void 0,e.wakabidTahfiz=void 0,e.wakabidAsrama=void 0,e.adminKiis=void 0,e.adminTahfiz=void 0,e.adminAsrama=void 0,e.pjQurban=void 0,e.pjRamadhan=void 0,e.pjPromosiPSB=void 0,e.pjWebMedia=void 0,e.pjTamuFO=void 0,e.pjAlumni=void 0,e.pjUtsUas=void 0,e.pjEvaluasiPengembanganKurikulum=void 0,e.pjLabKomputer=void 0,e.pjLabIPA=void 0,e.pjLabBahasa=void 0,e.pjBinaPrestasi=void 0,e.pjPerpustakaan=void 0,e.pjBK=void 0,e.pjBahasaArab=void 0,e.pjBahasaInggris=void 0,e.pjUKS=void 0,e.pjOpkiis=void 0,e.pjDKM=void 0,e.pjKesiswaan=void 0,e.pjKurikulum=void 0,e}return Object(u.a)(n)}(k.a);Ot.EmployeeFields=["direktur","bendahara","pengawasSekolah","headHRD","hearMR","headRnD","headLogistic","headPublicRelation","headLanguage","headPesantren","wakabidTahfiz","wakabidAsrama","adminKiis","adminTahfiz","adminAsrama","pjQurban","pjRamadhan","pjPromosiPSB","pjWebMedia","pjTamuFO","pjAlumni","pjUtsUas","pjEvaluasiPengembanganKurikulum","pjLabKomputer","pjLabIPA","pjLabBahasa","pjBinaPrestasi","pjPerpustakaan","pjBK","pjBahasaArab","pjBahasaInggris","pjUKS","pjOpkiis","pjDKM","pjKesiswaan","pjKurikulum"],function(e){e.Tahfiz="Tahfiz",e.Asrama="Asrama"}(Ae||(Ae={}));var vt,gt,xt,wt,yt,Nt,Ct,St,kt,Dt,At,Ft,Et,It,Pt,Lt,Mt,Rt,Bt,Ut,Tt,zt,qt,Kt,_t,Wt,Ht,Yt,Vt,Gt,Jt,Qt,Xt,Zt,$t,en,tn,nn,an,rn,on,sn,cn,ln,dn,un,hn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(N),mn=(Fe=Object(j.resolve)(ue.a),Ee=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e,"semesterperiods","Semester Management"),Object(o.a)(a,"upload",Ie,Object(s.a)(a)),a.setActive=function(e){a.patchAction(e,"activate")},a.setEmployeeInCharge=function(e,t){a.dialog.showContent("Set ".concat(t),Object(O.jsx)(fn,{field:t,item:e,update:a.update}))},a.employeeCellFields=function(e){return Ot.EmployeeFields.map((function(t){var n;return Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"row",style:{flexWrap:"nowrap"},children:[Object(O.jsx)("div",{className:"col-3",children:Object(O.jsx)(v,{iconClass:"fas fa-user-edit",className:"btn btn-sm btn-success me-3",onClick:function(){return a.setEmployeeInCharge(e,t)}})}),Object(O.jsx)("div",{className:"col-8 no-wrap",children:null===(n=e[t])||void 0===n?void 0:n.user.fullName.trim()})]})},"emp-field-".concat(e.id,".").concat(t))}))},a.showStampUploadForm=function(e,t){var n=me.create();a.dialog.showContent("Upload Stamp: ".concat(t),Object(O.jsx)(he,{submit:function(i){a.upload.uploadDivisionStamp(e,i,t).then((function(){a.toast.showSuccess("Stamp: ".concat(t," has been uploaded")),n.close(),a.forceUpdate()})).catch((function(e){a.toast.showDanger("Failed to upload ".concat(t," stamp")),console.error(e)}))}}),n)},a.state=new hn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new Ot}},{key:"getDataTableHeaderVals",value:function(){var e=Ot.EmployeeFields.map((function(e){return new C("".concat(e,".user.fullName"),e)}));return[new C("semester","Semester"),new C("year","Year"),new C("active","Active")].concat(Object(ft.a)(e))}},{key:"render",value:function(){var e=this,t=this.state,n=t.result,a=t.showForm,i=t.item;if(a&&i)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(pn,{item:i,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var r=null===n||void 0===n?void 0:n.items;return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===n||void 0===r?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),Object(O.jsx)("th",{children:"Action"}),Object(O.jsx)("th",{children:"Stamp"}),this.getDataTableHeaderComponent()]})}),Object(O.jsx)("tbody",{children:r.map((function(t,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"mx-2 d-flex",style:{flexWrap:"nowrap"},children:[Object(O.jsx)(v,{onClick:t.active?function(){}:function(){return e.setActive(t)},iconClass:!0===t.active?"fas fa-check-circle":"fas fa-circle",className:"btn-text btn btn-sm ".concat(t.active?"text-success":"text-secondary"," me-1")}),!t.active&&e.actionButton(t),t.active&&Object(O.jsx)("span",{children:"Active"})]})}),Object(O.jsxs)("td",{className:"d-flex",style:{gap:5},children:[Object(O.jsx)(bn,{item:t,division:Ae.Asrama,showForm:e.showStampUploadForm}),Object(O.jsx)(bn,{item:t,division:Ae.Tahfiz,showForm:e.showStampUploadForm})]}),Object(O.jsx)("td",{className:"text-center",children:t.semester}),Object(O.jsx)("td",{children:t.year}),Object(O.jsx)("td",{children:t.active?Object(O.jsx)("b",{className:"text-success",children:"active"}):Object(O.jsx)("i",{children:"not active"})}),e.employeeCellFields(t)]},"smt-period-".concat(t.id))}))}),this.tableFooter]})})]})]})}}]),n}(de),Ie=Object(d.a)(Ee.prototype,"upload",[Fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee),bn=function(e){var t=e.item,n=e.division;return Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("img",{width:50,height:50,className:"border border-dark mb-1",src:jn(t,n)}),Object(O.jsx)("div",{style:{whiteSpace:"pre"},children:Object(O.jsx)(v,{iconClass:"fas fa-edit",className:"btn btn-dark btn-sm",onClick:function(){return e.showForm(t,n)},children:n})})]})},jn=function(e,t){return"".concat(E.a.App.hosts.api,"/files/division-stamp/period/").concat(e.id,"?division=").concat(t,"&v=").concat((new Date).getTime())},pn=function(e){var t=e.item;return Object(O.jsx)("div",{className:"formEditContainer",children:Object(O.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(O.jsx)("p",{children:"Semester"}),Object(O.jsxs)("select",{className:"form-control",name:"item.semester",id:"item.semester",value:t.semester,onChange:e.handleInputChange,required:!0,children:[Object(O.jsx)("option",{children:"1"}),Object(O.jsx)("option",{children:"2"})]}),Object(O.jsxs)("p",{children:["Year. ",Object(O.jsx)("i",{children:"example: 2020-2021"})]}),Object(O.jsx)("input",{className:"form-control",name:"item.year",id:"item.year",value:t.year,onChange:e.handleInputChange,required:!0}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},fn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).onSelect=function(t){var n=e.props.item;n[e.props.field]=t,e.props.update(n)},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsx)(Ye,{onSelect:this.onSelect})}}]),n}(Q.a),On=P(mn),vn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).level=1,e.letter="A",e.description="",e.school=void 0,e.semester=1,e.year="",e.semesterActive=void 0,e.memberCount=0,e}return Object(u.a)(n)}(k.a),gn=n(53),xn=n(48),wn=n.n(xn),yn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).nisKiis=void 0,e.nisn=void 0,e.user=new D.a,e.address=void 0,e.city=void 0,e.province=void 0,e.siblingNum=void 0,e.siblingCount=void 0,e.fatherName=void 0,e.fatherBirthDate=void 0,e.fatherBirthPlace=void 0,e.fatherEducation=void 0,e.fatherPhoneNumber=void 0,e.fatherOccupation=void 0,e.fatherAddress=void 0,e.fatherIncome=void 0,e.motherName=void 0,e.motherBirthDate=void 0,e.motherBirthPlace=void 0,e.motherEducation=void 0,e.motherPhoneNumber=void 0,e.motherOccupation=void 0,e.motherAddress=void 0,e.motherIncome=void 0,e.originSchool=void 0,e.sttbNumber=void 0,e.entranceDate=void 0,e.entranceClass=void 0,e.transferFrom=void 0,e.transferReason=void 0,e.entranceCertificateScore=void 0,e.leaveSchool=void 0,e.leaveReason=void 0,e.educationFinished=void 0,e.graduationDateMts=void 0,e.certificateNumberMts=void 0,e.seniorLevelSchool=void 0,e.graduationDateMa=void 0,e.certificateNumberMa=void 0,e.graduationCeremonyDate=void 0,e.highEducationUniv=void 0,e.highEducationMajor=void 0,e.workDate=void 0,e.workCompany=void 0,e}return Object(u.a)(n)}(k.a),Nn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).student=new yn,e.classLevel=new vn,e}return Object(u.a)(n)}(k.a),Cn=n(44),Sn=(vt=Object(j.resolve)(Cn.a),gt=Object(j.resolve)(ne.a),xt=Object(j.resolve)(ee.a),wt=Object(j.resolve)(Z.a),yt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(o.a)(a,"service",Nt,Object(s.a)(a)),Object(o.a)(a,"masterData",Ct,Object(s.a)(a)),Object(o.a)(a,"toast",St,Object(s.a)(a)),Object(o.a)(a,"dialog",kt,Object(s.a)(a)),a.loadMembers=function(){a.service.getMembers(a.props.item.id).then((function(e){return a.setState({members:e})})).catch(console.error)},a.loadStudents=function(){var e=a.state.searchStudent;e&&a.masterData.list("students",0,10,"user.fullName",!1,"user.fullName:"+e).then((function(e){e.items.length>0?a.setState({students:e.items}):a.toast.showDanger("Student not found")})).catch((function(e){return a.toast.showDanger(e.message)}))},a.closeStudentDropdown=function(){return a.setState({students:[]})},a.addStudent=function(){var e=Object(gn.a)(wn.a.mark((function e(t){var n;return wn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.dialog.showConfirm("Add New Student","Add ".concat(t.user.fullName," to this class?"));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:(n=new Nn).student=t,n.classLevel=a.props.item,a.masterData.post("classmembers",n).then((function(){a.toast.showInfo("Student has been added"),a.setState({searchStudent:""},a.loadMembers)})).catch((function(e){return a.toast.showDanger("Failed to add student: "+e.message)})).finally(a.closeStudentDropdown);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteMember=function(){var e=Object(gn.a)(wn.a.mark((function e(t){return wn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.dialog.showConfirmDanger("Remove Student","Do you want to remove ".concat(t.student.user.fullName," from class?"));case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:a.masterData.delete("classmembers",t.id).then((function(){a.toast.showInfo("Student has been removed"),a.loadMembers()})).catch(console.error);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={members:[],students:[],searchStudent:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadMembers()}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.students,i=n.searchStudent,r=n.members,o=this.props.item;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h5",{children:["Members of ",o.level,o.letter," ",null===(e=o.school)||void 0===e?void 0:e.name]}),Object(O.jsxs)("p",{children:["Period: semester ",o.semester,", year ",o.year]}),Object(O.jsxs)("form",{className:"mb-3",onSubmit:function(e){e.preventDefault(),t.loadStudents()},children:[Object(O.jsx)("p",{children:"Add Student"}),Object(O.jsxs)("div",{className:"input-group",children:[Object(O.jsx)("input",{type:"search",className:"form-control",name:"searchStudent",value:i,placeholder:"Full Name",onChange:this.handleInputChange,required:!0}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Search"})})]}),Object(O.jsx)("div",{style:{position:"absolute",width:"75%"},children:a.length>0&&Object(O.jsxs)("div",{className:"bg-light border border-dark px-2 py-1 w-100",style:{position:"relative"},children:[Object(O.jsx)(v,{className:"btn btn-text btn-sm",iconClass:"fas fa-times",onClick:this.closeStudentDropdown,children:"Close"}),Object(O.jsx)("div",{style:{overflowY:"auto",height:"100px"},children:Object(O.jsx)("div",{className:"no-wrap",style:{width:"max-content"},children:a.map((function(e){return Object(O.jsxs)("div",{className:"d-flex my-1",style:{alignItems:"center"},children:[Object(O.jsx)(v,{iconClass:"fas fa-plus-circle",className:"me-2 btn btn-info btn-sm btn-text",onClick:function(){return t.addStudent(e)}}),Object(O.jsxs)("span",{children:[e.nisKiis," - ",e.user.fullName.trim()]})]},"set-emp-"+e.id)}))})})]})})]}),Object(O.jsx)("h5",{children:"Member List"}),Object(O.jsxs)("table",{className:"table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:"No"}),Object(O.jsx)("td",{children:"Nis Kiis"}),Object(O.jsx)("td",{children:"Name"}),Object(O.jsx)("td",{})]})}),Object(O.jsx)("tbody",{children:r.map((function(e,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n+1}),Object(O.jsx)("td",{children:e.student.nisKiis}),Object(O.jsx)("td",{children:e.student.user.fullName}),Object(O.jsx)("td",{children:Object(O.jsx)(v,{className:"btn btn-text text-danger",onClick:function(){return t.deleteMember(e)},iconClass:"fas fa-minus-circle",children:"Remove"})})]},"member-".concat(e.id))}))})]})]})}}]),n}(Q.a),Nt=Object(d.a)(yt.prototype,"service",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=Object(d.a)(yt.prototype,"masterData",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Object(d.a)(yt.prototype,"toast",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Object(d.a)(yt.prototype,"dialog",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt),kn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).showEditMember=void 0,e}return Object(u.a)(n)}(N),Dn=P(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"classlevels","Class Level Management")).schools=[],a.edit=function(e){a.service.list("schools",0,-1).then((function(t){var n;a.schools=null!==(n=t.items)&&void 0!==n?n:[],0!==a.schools.length?(e.school||(e.school=a.schools[0]),a.setState({item:e},a.showForm)):a.dialog.showError("No School Record","Failed when getting school data")})).catch((function(e){return a.dialog.showError("Failed to Read School Data",e)}))},a.showInsertForm=function(){return a.edit(a.defaultItem)},a.showEditMemberForm=function(e){return a.setState({item:e,showEditMember:!0})},a.closeEditMemberForm=function(){a.setState({showEditMember:!1},a.resetFormAndClose)},a.state=new kn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new vn}},{key:"getDataTableHeaderVals",value:function(){return[new C("level","Level"),new C("letter","Letter"),new C("school.name","School"),new C("description","Description"),new C("semesterPeriod.semester","Semester"),new C("semesterPeriod.year","Year"),new C(null,"Member",!1),new C("semesterPeriod.active","Semester Active",!0,!1)]}},{key:"render",value:function(){var e=this;if(this.state.showEditMember&&this.state.item)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[Object(O.jsx)(v,{onClick:this.closeEditMemberForm,iconClass:"fas fa-times",className:"btn btn-secondary btn-sm mx-2",children:"Close form"}),Object(O.jsx)(Sn,{item:this.state.item})]});if(this.state.showForm&&this.state.item&&this.schools.length>0)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(An,{item:this.state.item,schools:this.schools,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:n.map((function(t,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:t.level}),Object(O.jsx)("td",{children:t.letter}),Object(O.jsx)("td",{children:t.school.name}),Object(O.jsx)("td",{children:t.description}),Object(O.jsx)("td",{children:t.semester}),Object(O.jsx)("td",{children:t.year}),Object(O.jsxs)("td",{children:[t.memberCount,Object(O.jsx)(v,{className:"btn btn-text btn-sm",iconClass:"fas fa-edit",onClick:function(){return e.showEditMemberForm(t)}})]}),Object(O.jsx)("td",{children:t.semesterActive?Object(O.jsx)("b",{className:"text-success",children:"active"}):Object(O.jsx)("i",{children:"not active"})}),Object(O.jsx)("td",{children:t.semesterActive?e.actionButton(t):null})]},"ClassLevel-"+t.id)}))}),this.tableFooter]})})]})]})}}]),n}(de)),An=function(e){var t=e.item,n=e.onSubmit,a=e.handleInputChange;return Object(O.jsx)("div",{className:"formEditContainer",children:Object(O.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:n,children:[Object(O.jsx)("p",{children:"Level"}),Object(O.jsx)("input",{className:"form-control",name:"item.level",id:"item.level",value:t.level,type:"number",required:!0,onChange:a}),Object(O.jsx)("p",{children:"Letter"}),Object(O.jsx)("input",{className:"form-control",name:"item.letter",id:"item.letter",value:t.letter,onChange:a,required:!0}),Object(O.jsx)("p",{children:"School"}),Object(O.jsx)("select",{className:"form-control",required:!0,children:e.schools.map((function(e){return Object(O.jsx)("option",{onClick:function(){return function(e){t.school=e}(e)},children:e.name},"select-class-school-"+e.id)}))}),Object(O.jsx)("p",{children:"Semester"}),Object(O.jsx)("input",{className:"form-control",name:"item.semester",id:"item.semester",value:t.semester,type:"number",required:!0,onChange:e.handleInputChange}),Object(O.jsx)("p",{children:"Year"}),Object(O.jsx)("input",{className:"form-control",name:"item.year",id:"item.year",value:t.year,onChange:e.handleInputChange,required:!0}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},Fn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(N),En=P(function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"students","Student Management")).state=new Fn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new yn}},{key:"getDataTableHeaderVals",value:function(){return[new C("nisKiis"),new C("nisn"),new C("user.fullName"),new C("user.birthDate"),new C("user.birthPlace"),new C("address"),new C("city"),new C("province"),new C("siblingNum"),new C("siblingCount"),new C("fatherName"),new C("fatherBirthDate"),new C("fatherBirthPlace"),new C("fatherEducation"),new C("fatherPhoneNumber"),new C("fatherOccupation"),new C("fatherAddress"),new C("fatherIncome"),new C("motherName"),new C("motherBirthDate"),new C("motherBirthPlace"),new C("motherEducation"),new C("motherPhoneNumber"),new C("motherOccupation"),new C("motherAddress"),new C("motherIncome"),new C("originSchool"),new C("sttbNumber"),new C("entranceDate"),new C("entranceClass"),new C("transferFrom"),new C("transferReason"),new C("entranceCertificateScore"),new C("leaveSchool"),new C("leaveReason"),new C("educationFinished"),new C("graduationDateMts"),new C("certificateNumberMts"),new C("seniorLevelSchool"),new C("graduationDateMa"),new C("certificateNumberMa"),new C("graduationCeremonyDate"),new C("highEducationUniv"),new C("highEducationMajor"),new C("workDate"),new C("workCompany")]}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(In,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:n.map((function(t,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:t.nisKiis}),Object(O.jsx)("td",{children:t.nisn}),Object(O.jsx)("td",{children:t.user.fullName}),Object(O.jsx)("td",{children:new Date(t.user.birthDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.user.birthPlace}),Object(O.jsx)("td",{children:t.address}),Object(O.jsx)("td",{children:t.city}),Object(O.jsx)("td",{children:t.province}),Object(O.jsx)("td",{children:t.siblingNum}),Object(O.jsx)("td",{children:t.siblingCount}),Object(O.jsx)("td",{children:t.fatherName}),Object(O.jsx)("td",{children:new Date(t.fatherBirthDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.fatherBirthPlace}),Object(O.jsx)("td",{children:t.fatherEducation}),Object(O.jsx)("td",{children:t.fatherPhoneNumber}),Object(O.jsx)("td",{children:t.fatherOccupation}),Object(O.jsx)("td",{children:t.fatherAddress}),Object(O.jsx)("td",{children:t.fatherIncome}),Object(O.jsx)("td",{children:t.motherName}),Object(O.jsx)("td",{children:new Date(t.motherBirthDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.motherBirthPlace}),Object(O.jsx)("td",{children:t.motherEducation}),Object(O.jsx)("td",{children:t.motherPhoneNumber}),Object(O.jsx)("td",{children:t.motherOccupation}),Object(O.jsx)("td",{children:t.motherAddress}),Object(O.jsx)("td",{children:t.motherIncome}),Object(O.jsx)("td",{children:t.originSchool}),Object(O.jsx)("td",{children:t.sttbNumber}),Object(O.jsx)("td",{children:new Date(t.entranceDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.entranceClass}),Object(O.jsx)("td",{children:t.transferFrom}),Object(O.jsx)("td",{children:t.transferReason}),Object(O.jsx)("td",{children:t.entranceCertificateScore}),Object(O.jsx)("td",{children:t.leaveSchool?"True":"False"}),Object(O.jsx)("td",{children:t.leaveReason}),Object(O.jsx)("td",{children:t.educationFinished?"True":"False"}),Object(O.jsx)("td",{children:new Date(t.graduationDateMts).toLocaleDateString()}),Object(O.jsx)("td",{children:t.certificateNumberMts}),Object(O.jsx)("td",{children:t.seniorLevelSchool}),Object(O.jsx)("td",{children:new Date(t.graduationDateMa).toLocaleDateString()}),Object(O.jsx)("td",{children:t.certificateNumberMa}),Object(O.jsx)("td",{children:new Date(t.graduationCeremonyDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.highEducationUniv}),Object(O.jsx)("td",{children:t.highEducationMajor}),Object(O.jsx)("td",{children:new Date(t.workDate).toLocaleDateString()}),Object(O.jsx)("td",{children:t.workCompany}),Object(O.jsx)("td",{children:e.actionButton(t)})]},"Student-"+t.id)}))}),this.tableFooter]})})]})]})}}]),n}(de)),In=function(e){var t=e.item,n=e.handleInputChange;return Object(O.jsx)("div",{className:"formEditContainer",children:Object(O.jsxs)("form",{className:"masterDataForm px-3 py-3 border rounded border-gray",onSubmit:e.onSubmit,children:[Object(O.jsx)("p",{children:"Full Name"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.fullName",name:"item.user.fullName",value:t.user.fullName,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Email"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.email",name:"item.user.email",type:"email",value:t.user.email,onChange:n,required:!0}),Object(O.jsx)("p",{children:"Gender"}),Object(O.jsxs)("select",{className:"form-control",value:t.user.gender,id:"item.user.gender",name:"item.user.gender",onChange:n,required:!0,children:[Object(O.jsx)("option",{children:"MALE"}),Object(O.jsx)("option",{children:"FEMALE"})]}),Object(O.jsx)("p",{children:"Birth Date"}),Object(O.jsx)("input",{type:"date",className:"form-control",id:"item.user.birthDate",name:"item.user.birthDate",value:G(new Date(t.user.birthDate)),onChange:n,required:!0}),Object(O.jsx)("p",{children:"Birth Place"}),Object(O.jsx)("input",{className:"form-control",id:"item.user.birthPlace",name:"item.user.birthPlace",value:t.user.birthPlace,onChange:n,required:!0}),Object(O.jsx)("p",{children:"nisKiis"}),Object(O.jsx)("input",{required:!0,placeholder:"nisKiis",className:"form-control",name:"item.nisKiis",id:"item.nisKiis",value:t.nisKiis,onChange:n}),Object(O.jsx)("p",{children:"nisn"}),Object(O.jsx)("input",{required:!0,placeholder:"nisn",className:"form-control",name:"item.nisn",id:"item.nisn",value:t.nisn,onChange:n}),Object(O.jsx)("p",{children:"address"}),Object(O.jsx)("textarea",{required:!0,placeholder:"address",className:"form-control",name:"item.address",id:"item.address",value:t.address,onChange:n}),Object(O.jsx)("p",{children:"city"}),Object(O.jsx)("input",{required:!0,placeholder:"city",className:"form-control",name:"item.city",id:"item.city",value:t.city,onChange:n}),Object(O.jsx)("p",{children:"province"}),Object(O.jsx)("input",{required:!0,placeholder:"province",className:"form-control",name:"item.province",id:"item.province",value:t.province,onChange:n}),Object(O.jsx)("p",{children:"siblingNum"}),Object(O.jsx)("input",{type:"number",placeholder:"siblingNum",className:"form-control",name:"item.siblingNum",id:"item.siblingNum",value:t.siblingNum,onChange:n}),Object(O.jsx)("p",{children:"siblingCount"}),Object(O.jsx)("input",{type:"number",placeholder:"siblingCount",className:"form-control",name:"item.siblingCount",id:"item.siblingCount",value:t.siblingCount,onChange:n}),Object(O.jsx)("p",{children:"fatherName"}),Object(O.jsx)("input",{placeholder:"fatherName",className:"form-control",name:"item.fatherName",id:"item.fatherName",value:t.fatherName,onChange:n}),Object(O.jsx)("p",{children:"fatherBirthDate"}),Object(O.jsx)("input",{placeholder:"fatherBirthDate",className:"form-control",name:"item.fatherBirthDate",id:"item.fatherBirthDate",type:"date",value:G(new Date(t.fatherBirthDate)),onChange:n}),Object(O.jsx)("p",{children:"fatherBirthPlace"}),Object(O.jsx)("input",{placeholder:"fatherBirthPlace",className:"form-control",name:"item.fatherBirthPlace",id:"item.fatherBirthPlace",value:t.fatherBirthPlace,onChange:n}),Object(O.jsx)("p",{children:"fatherEducation"}),Object(O.jsx)("input",{placeholder:"fatherEducation",className:"form-control",name:"item.fatherEducation",id:"item.fatherEducation",value:t.fatherEducation,onChange:n}),Object(O.jsx)("p",{children:"fatherPhoneNumber"}),Object(O.jsx)("input",{placeholder:"fatherPhoneNumber",className:"form-control",name:"item.fatherPhoneNumber",id:"item.fatherPhoneNumber",value:t.fatherPhoneNumber,onChange:n}),Object(O.jsx)("p",{children:"fatherOccupation"}),Object(O.jsx)("input",{placeholder:"fatherOccupation",className:"form-control",name:"item.fatherOccupation",id:"item.fatherOccupation",value:t.fatherOccupation,onChange:n}),Object(O.jsx)("p",{children:"fatherAddress"}),Object(O.jsx)("textarea",{placeholder:"fatherAddress",className:"form-control",name:"item.fatherAddress",id:"item.fatherAddress",value:t.fatherAddress,onChange:n}),Object(O.jsx)("p",{children:"fatherIncome"}),Object(O.jsx)("input",{type:"number",placeholder:"fatherIncome",className:"form-control",name:"item.fatherIncome",id:"item.fatherIncome",value:t.fatherIncome,onChange:n}),Object(O.jsx)("p",{children:"motherName"}),Object(O.jsx)("input",{placeholder:"motherName",className:"form-control",name:"item.motherName",id:"item.motherName",value:t.motherName,onChange:n}),Object(O.jsx)("p",{children:"motherBirthDate"}),Object(O.jsx)("input",{placeholder:"motherBirthDate",className:"form-control",name:"item.motherBirthDate",id:"item.motherBirthDate",type:"date",value:G(new Date(t.motherBirthDate)),onChange:n}),Object(O.jsx)("p",{children:"motherBirthPlace"}),Object(O.jsx)("input",{placeholder:"motherBirthPlace",className:"form-control",name:"item.motherBirthPlace",id:"item.motherBirthPlace",value:t.motherBirthPlace,onChange:n}),Object(O.jsx)("p",{children:"motherEducation"}),Object(O.jsx)("input",{placeholder:"motherEducation",className:"form-control",name:"item.motherEducation",id:"item.motherEducation",value:t.motherEducation,onChange:n}),Object(O.jsx)("p",{children:"motherPhoneNumber"}),Object(O.jsx)("input",{placeholder:"motherPhoneNumber",className:"form-control",name:"item.motherPhoneNumber",id:"item.motherPhoneNumber",value:t.motherPhoneNumber,onChange:n}),Object(O.jsx)("p",{children:"motherOccupation"}),Object(O.jsx)("input",{placeholder:"motherOccupation",className:"form-control",name:"item.motherOccupation",id:"item.motherOccupation",value:t.motherOccupation,onChange:n}),Object(O.jsx)("p",{children:"motherAddress"}),Object(O.jsx)("textarea",{placeholder:"motherAddress",className:"form-control",name:"item.motherAddress",id:"item.motherAddress",value:t.motherAddress,onChange:n}),Object(O.jsx)("p",{children:"motherIncome"}),Object(O.jsx)("input",{type:"number",placeholder:"motherIncome",className:"form-control",name:"item.motherIncome",id:"item.motherIncome",value:t.motherIncome,onChange:n}),Object(O.jsx)("p",{children:"originSchool"}),Object(O.jsx)("input",{placeholder:"originSchool",className:"form-control",name:"item.originSchool",id:"item.originSchool",value:t.originSchool,onChange:n}),Object(O.jsx)("p",{children:"sttbNumber"}),Object(O.jsx)("input",{placeholder:"sttbNumber",className:"form-control",name:"item.sttbNumber",id:"item.sttbNumber",value:t.sttbNumber,onChange:n}),Object(O.jsx)("p",{children:"entranceDate"}),Object(O.jsx)("input",{placeholder:"entranceDate",className:"form-control",name:"item.entranceDate",id:"item.entranceDate",type:"date",value:G(new Date(t.entranceDate)),onChange:n}),Object(O.jsx)("p",{children:"entranceClass"}),Object(O.jsx)("input",{placeholder:"entranceClass",className:"form-control",name:"item.entranceClass",id:"item.entranceClass",value:t.entranceClass,onChange:n}),Object(O.jsx)("p",{children:"transferFrom"}),Object(O.jsx)("input",{placeholder:"transferFrom",className:"form-control",name:"item.transferFrom",id:"item.transferFrom",value:t.transferFrom,onChange:n}),Object(O.jsx)("p",{children:"transferReason"}),Object(O.jsx)("input",{placeholder:"transferReason",className:"form-control",name:"item.transferReason",id:"item.transferReason",value:t.transferReason,onChange:n}),Object(O.jsx)("p",{children:"entranceCertificateScore"}),Object(O.jsx)("input",{placeholder:"entranceCertificateScore",className:"form-control",name:"item.entranceCertificateScore",id:"item.entranceCertificateScore",value:t.entranceCertificateScore,onChange:n}),Object(O.jsxs)("div",{className:"form-check",children:[Object(O.jsx)("input",{placeholder:"leaveSchool",className:"form-check-input",name:"item.leaveSchool",id:"item.leaveSchool",type:"checkbox",checked:t.leaveSchool,onChange:n}),Object(O.jsx)("label",{className:"form-check-label",children:"Leave School"})]}),Object(O.jsx)("p",{children:"leaveReason"}),Object(O.jsx)("textarea",{placeholder:"leaveReason",className:"form-control",name:"item.leaveReason",id:"item.leaveReason",value:t.leaveReason,onChange:n}),Object(O.jsxs)("div",{className:"form-check",children:[Object(O.jsx)("input",{placeholder:"educationFinished",className:"form-check-input",name:"item.educationFinished",id:"item.educationFinished",type:"checkbox",checked:t.educationFinished,onChange:n}),Object(O.jsx)("label",{className:"form-check-label",children:"Education Finished"})]}),Object(O.jsx)("p",{children:"graduationDateMts"}),Object(O.jsx)("input",{placeholder:"graduationDateMts",className:"form-control",name:"item.graduationDateMts",id:"item.graduationDateMts",type:"date",value:G(new Date(t.graduationDateMts)),onChange:n}),Object(O.jsx)("p",{children:"certificateNumberMts"}),Object(O.jsx)("input",{placeholder:"certificateNumberMts",className:"form-control",name:"item.certificateNumberMts",id:"item.certificateNumberMts",value:t.certificateNumberMts,onChange:n}),Object(O.jsx)("p",{children:"seniorLevelSchool"}),Object(O.jsx)("input",{placeholder:"seniorLevelSchool",className:"form-control",name:"item.seniorLevelSchool",id:"item.seniorLevelSchool",value:t.seniorLevelSchool,onChange:n}),Object(O.jsx)("p",{children:"graduationDateMa"}),Object(O.jsx)("input",{placeholder:"graduationDateMa",className:"form-control",name:"item.graduationDateMa",id:"item.graduationDateMa",type:"date",value:G(new Date(t.graduationDateMa)),onChange:n}),Object(O.jsx)("p",{children:"certificateNumberMa"}),Object(O.jsx)("input",{placeholder:"certificateNumberMa",className:"form-control",name:"item.certificateNumberMa",id:"item.certificateNumberMa",value:t.certificateNumberMa,onChange:n}),Object(O.jsx)("p",{children:"graduationCeremonyDate"}),Object(O.jsx)("input",{placeholder:"graduationCeremonyDate",className:"form-control",name:"item.graduationCeremonyDate",id:"item.graduationCeremonyDate",type:"date",value:G(new Date(t.graduationCeremonyDate)),onChange:n}),Object(O.jsx)("p",{children:"highEducationUniv"}),Object(O.jsx)("input",{placeholder:"highEducationUniv",className:"form-control",name:"item.highEducationUniv",id:"item.highEducationUniv",value:t.highEducationUniv,onChange:n}),Object(O.jsx)("p",{children:"highEducationMajor"}),Object(O.jsx)("input",{placeholder:"highEducationMajor",className:"form-control",name:"item.highEducationMajor",id:"item.highEducationMajor",value:t.highEducationMajor,onChange:n}),Object(O.jsx)("p",{children:"workDate"}),Object(O.jsx)("input",{placeholder:"workDate",className:"form-control",name:"item.workDate",id:"item.workDate",type:"date",value:G(new Date(t.workDate)),onChange:n}),Object(O.jsx)("p",{children:"workCompany"}),Object(O.jsx)("input",{placeholder:"workCompany",className:"form-control",name:"item.workCompany",id:"item.workCompany",value:t.workCompany,onChange:n}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{className:"btn btn-primary",value:"Save",type:"submit"})]})})},Pn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n)}(N),Ln=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e,"classmembers","Class Member Management")).state=new Pn,a}return Object(u.a)(n,[{key:"defaultItem",get:function(){return new Nn}},{key:"getDataTableHeaderVals",value:function(){return[new C("student.nisKiis","Nis Kiis"),new C("student.user.fullName","Name"),new C("classLevel.level","Class"),new C("classLevel.letter","Letter"),new C("classLevel.school.name","School"),new C("classLevel.semesterPeriod.semester","Semester"),new C("classLevel.semesterPeriod.year","Year"),new C("classLevel.semesterPeriod.active","Semester Active",!0,!1)]}},{key:"render",value:function(){var e=this;if(this.state.showForm&&this.state.item)return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.closeFormButton,Object(O.jsx)(Mn,{item:this.state.item,handleInputChange:this.handleInputChange,onSubmit:this.formEditSubmit})]});var t=this.state.result,n=null===t||void 0===t?void 0:t.items;return Object(O.jsxs)(x,{title:this.title,back:"/admin",children:[this.showFormButton,void 0===t||void 0===n?Object(O.jsx)("i",{children:"Loading..."}):Object(O.jsxs)("div",{className:"mt-5 pl-3 pr-3",style:{overflow:"auto"},children:[this.paginationButton,Object(O.jsx)("form",{onSubmit:this.loadFromForm,children:Object(O.jsxs)("table",{className:"commonDataTable table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"No"}),this.getDataTableHeaderComponent(),Object(O.jsx)("th",{children:"Action"})]})}),Object(O.jsx)("tbody",{children:n.map((function(t,n){var a=t.classLevel,i=t.student;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.startingNumber+n}),Object(O.jsx)("td",{children:i.nisKiis}),Object(O.jsx)("td",{children:i.user.fullName}),Object(O.jsx)("td",{children:a.level}),Object(O.jsx)("td",{children:a.letter}),Object(O.jsx)("td",{children:a.school.name}),Object(O.jsx)("td",{children:a.semester}),Object(O.jsx)("td",{children:a.year}),Object(O.jsx)("td",{children:a.semesterActive?Object(O.jsx)("b",{className:"text-success",children:"active"}):Object(O.jsx)("i",{children:"not active"})}),Object(O.jsx)("td",{children:a.semesterActive?e.actionButton(t):null})]},"ClassMember-"+t.id)}))}),this.tableFooter]})})]})]})}}]),n}(de),Mn=(Dt=Object(j.resolve)(ne.a),At=Object(j.resolve)(Cn.a),Ft=Object(j.resolve)(ee.a),Et=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a,i,r,c;return Object(h.a)(this,n),c=t.call(this,e),Object(o.a)(c,"masterDataService",It,Object(s.a)(c)),Object(o.a)(c,"classMemberService",Pt,Object(s.a)(c)),Object(o.a)(c,"toast",Lt,Object(s.a)(c)),c.loadClasses=function(){c.classMemberService.getActiveClasses().then(c.handleClassLoaded).catch((function(){return c.toast.showDanger("Failed to load classes")}))},c.handleClassLoaded=function(e){e&&0!==e.length?(c.props.item.classLevel=e[0],c.setState({classes:e})):c.toast.showDanger("No class found this semester")},c.loadStudents=function(){var e=c.state.searchStudent;e&&c.masterDataService.list("students",0,10,"user.fullName",!1,"user.fullName:"+e).then((function(e){return c.handleStudentLoaded(e.items)})).catch((function(e){return c.toast.showDanger("Failed to load students")}))},c.handleStudentLoaded=function(e){e&&0!==e.length?c.setState({students:e}):c.toast.showDanger('No student containing name "'+c.state.searchStudent+'" was found')},c.closeStudentDropdown=function(){return c.setState({students:[]})},c.setSelectedStudent=function(e){c.props.item.student=e,c.setState({searchStudent:e.user.fullName},c.closeStudentDropdown)},c.setSelectedClass=function(e){c.props.item.classLevel=e},c.submitForm=function(e){e.preventDefault();var t=c.props.item;!t.student||t.student.id<1||!t.classLevel||t.classLevel.id<1?c.toast.showDanger("Please select student and class correctly"):c.props.onSubmit(e)},c.state={students:[],classes:[],searchStudent:null===(a=e.item)||void 0===a||null===(i=a.student)||void 0===i||null===(r=i.user)||void 0===r?void 0:r.fullName},c}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadClasses()}},{key:"render",value:function(){var e=this,t=this.state,n=t.students,a=t.classes,i=t.searchStudent;return Object(O.jsxs)("div",{className:"formEditContainer",children:[Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.loadStudents()},children:[Object(O.jsx)("p",{children:"Student"}),Object(O.jsxs)("div",{className:"input-group",children:[Object(O.jsx)("input",{type:"search",className:"form-control",name:"searchStudent",value:i,placeholder:"Full Name",onChange:this.handleInputChange,required:!0}),Object(O.jsx)("div",{className:"input-group-append",children:Object(O.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Search"})})]}),Object(O.jsx)("div",{style:{position:"absolute",width:"75%"},children:n.length>0?Object(O.jsxs)("div",{className:"bg-light border border-dark px-2 py-1 w-100",style:{position:"relative"},children:[Object(O.jsx)(v,{className:"btn btn-text btn-sm",iconClass:"fas fa-times",onClick:this.closeStudentDropdown,children:"close"}),Object(O.jsx)("div",{style:{overflowY:"auto",height:"100px"},children:Object(O.jsx)("div",{className:"no-wrap",style:{width:"max-content"},children:n.map((function(t){return Object(O.jsx)("div",{children:Object(O.jsxs)("a",{className:"btn btn-text clickable",onClick:function(){return e.setSelectedStudent(t)},children:[t.nisKiis," - ",t.user.fullName.trim()]})},"set-emp-"+t.id)}))})})]}):null})]}),Object(O.jsxs)("form",{onSubmit:this.submitForm,children:[Object(O.jsx)("p",{children:"Active Class Level"}),Object(O.jsx)("select",{className:"form-control",children:a.map((function(t){return Object(O.jsxs)("option",{onClick:function(n){return e.setSelectedClass(t)},children:[t.level,t.letter," - ",t.school.name]},"select-class-"+t.id)}))}),Object(O.jsx)("p",{}),Object(O.jsx)("input",{type:"submit",className:"btn btn-success",value:"Save"})]})]})}}]),n}(Q.a),It=Object(d.a)(Et.prototype,"masterDataService",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Object(d.a)(Et.prototype,"classMemberService",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Object(d.a)(Et.prototype,"toast",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et),Rn=P(Ln),Bn=(Mt=Object(j.resolve)($.a),Rt=Object(j.resolve)(g.a),Bt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(e,"authService",Ut,Object(s.a)(e)),Object(o.a)(e,"routingService",Tt,Object(s.a)(e)),e}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsx)(m.Fragment,{children:Object(O.jsxs)(p.d,{children:[Object(O.jsx)(p.b,{path:"/",element:Object(O.jsx)(mt,{})}),Object(O.jsx)(p.b,{path:"/home",element:Object(O.jsx)(mt,{})}),Object(O.jsx)(p.b,{path:"/login",element:Object(O.jsx)(Un,{disabledWhenLoggedIn:!0,to:"/login",element:Object(O.jsx)(ct,{})})}),Object(O.jsx)(p.b,{path:"/dashboard",element:Object(O.jsx)(Un,{to:"/dashboard",element:Object(O.jsx)(bt,{})})}),Object(O.jsx)(p.b,{path:"/profile",element:Object(O.jsx)(Un,{to:"/profile",element:Object(O.jsx)(pt,{})})}),Object(O.jsx)(p.b,{path:"/admin",element:Object(O.jsx)(Un,{to:"/admin",element:Object(O.jsx)(_e,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/users",element:Object(O.jsx)(Un,{to:"/admin/users",element:Object(O.jsx)(nt,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/schools",element:Object(O.jsx)(Un,{to:"/admin/schools",element:Object(O.jsx)(Ze,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/employees",element:Object(O.jsx)(Un,{to:"/admin/employees",element:Object(O.jsx)(Te,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/semesterperiods",element:Object(O.jsx)(Un,{to:"/admin/semesterperiods",element:Object(O.jsx)(On,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/classlevels",element:Object(O.jsx)(Un,{to:"/admin/classlevels",element:Object(O.jsx)(Dn,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/students",element:Object(O.jsx)(Un,{to:"/admin/students",element:Object(O.jsx)(En,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"/admin/classmembers",element:Object(O.jsx)(Un,{to:"/admin/classmembers",element:Object(O.jsx)(Rn,{}),requiredRole:"ROLE_SUPERADMIN"})}),Object(O.jsx)(p.b,{path:"*",element:Object(O.jsx)(lt,{message:"The requested page is not found."})})]})})}}]),n}(m.Component),Ut=Object(d.a)(Bt.prototype,"authService",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Object(d.a)(Bt.prototype,"routingService",[Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt),Un=(zt=Object(j.resolve)($.a),qt=Object(j.resolve)(g.a),Kt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(e,"authService",_t,Object(s.a)(e)),Object(o.a)(e,"routingService",Wt,Object(s.a)(e)),e}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.authService.loggedIn;return!0===this.props.disabledWhenLoggedIn?t?Object(O.jsx)(p.a,{to:"/dashboard"}):this.props.element:t?this.props.requiredRole?null!==(e=this.authService.loggedUser)&&void 0!==e&&e.hasAuthorityType(this.props.requiredRole)?this.props.element:Object(O.jsx)(p.a,{to:"/"}):this.props.element:Object(O.jsx)(Tn,{origin:this.props.to,routing:this.routingService,to:"/"})}}]),n}(m.Component),_t=Object(d.a)(Kt.prototype,"authService",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Object(d.a)(Kt.prototype,"routingService",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt),Tn=function(e){return e.routing.setLastRedirectedRoute(e.origin),Object(O.jsx)(p.a,{to:e.to,state:e.state,replace:e.replace})},zn=Object(u.a)((function e(){Object(h.a)(this,e),this.showDropdown=!1})),qn=(Ht=Object(j.resolve)($.a),Yt=Object(j.resolve)(Z.a),Vt=Object(j.resolve)(g.a),Gt=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state=new zn,Object(o.a)(e,"authService",Jt,Object(s.a)(e)),Object(o.a)(e,"dialog",Qt,Object(s.a)(e)),Object(o.a)(e,"routing",Xt,Object(s.a)(e)),e.logout=function(){e.dialog.showConfirmDanger("Logout","Do you want to logout?").then((function(t){t&&e.authService.logout()})),e.hideDropdown()},e.navigate=function(t){var n=t.target;n.dataset.to&&e.routing.navigate(n.dataset.to),e.hideDropdown()},e.hideDropdown=function(){e.setState({showDropdown:!1})},e.toggleDropdown=function(){e.setState({showDropdown:!e.state.showDropdown})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("a",{className:"btn btn-light no-wrap",onClick:this.toggleDropdown,children:[Object(O.jsx)("i",{className:"fas fa-user me-3"})," ",this.props.user.displayName]}),Object(O.jsx)("div",{style:{position:"absolute"},children:this.state.showDropdown?Object(O.jsxs)("div",{style:{width:"200px",zIndex:1,position:"relative"},className:"bg-light border border-gray rounded text-start pt-3 pb-3",children:[Object(O.jsxs)("a",{className:"btn btn-text",onClick:this.navigate,"data-to":"/dashboard",children:[Object(O.jsx)("i",{className:"fas fa-home me-3"}),"Dashboard"]}),Object(O.jsxs)("a",{className:"btn btn-text",onClick:this.navigate,"data-to":"/profile",children:[Object(O.jsx)("i",{className:"fas fa-user-cog me-3"}),"Edit Profile"]}),this.authService.isAdmin?Object(O.jsxs)("a",{className:"btn btn-text text-success",onClick:this.navigate,"data-to":"/admin",children:[Object(O.jsx)("i",{className:"fas fa-tachometer-alt me-3"}),"Admin Area"]}):null,Object(O.jsxs)("a",{className:"btn btn-text text-danger",onClick:this.logout,children:[Object(O.jsx)("i",{className:"fas fa-sign-out-alt me-3"}),"Logout"]})]}):null})]})}}]),n}(m.Component),Jt=Object(d.a)(Gt.prototype,"authService",[Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qt=Object(d.a)(Gt.prototype,"dialog",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=Object(d.a)(Gt.prototype,"routing",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt),Kn=P(qn),_n=Object(u.a)((function e(){Object(h.a)(this,e),this.activeMenu=void 0,this.title=E.a.App.uiSetting.defaultTitle,this.searchKey=""})),Wn=(Zt=Object(j.resolve)($.a),$t=Object(j.resolve)(g.a),en=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(e,"authService",tn,Object(s.a)(e)),Object(o.a)(e,"routingService",nn,Object(s.a)(e)),e.state=new _n,e._user=void 0,e.gotoLoginPage=function(){e.props.navigate&&e.props.navigate("/login")},e.onUserUpdated=function(t){void 0!==e._user&&void 0===t&&e.gotoLoginPage(),e._user=t,e.forceUpdate()},e.onAppProfileUpdated=function(t){e.forceUpdate()},e.navigate=function(t){void 0!==e.props.navigate?e.props.navigate(t):console.warn("no props: navigate")},e.brandOnClick=function(){e.navigate("/")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.routingService.registerCallback("header",console.log),this.authService.addOnUserUpdated("header",this.onUserUpdated),this.authService.addOnAppProfileUpdated("header",this.onAppProfileUpdated)}},{key:"componentWillUnmount",value:function(){this.authService.removeOnUserUpdated("header"),this.authService.removeOnAppProfileUpdated("header")}},{key:"semesterInfo",get:function(){var e=this.authService.appProfile;if(e&&e.semester&&e.semester)return"Semester "+e.semester+" | "+e.year}},{key:"render",value:function(){var e=this.authService.appProfile?this.authService.appProfile.name:this.state.title;return Object(O.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsxs)("div",{className:"row w-100 mt-2",children:[Object(O.jsxs)("div",{className:"col-md-2 mb-2 text-center d-flex",style:{alignItems:"center"},children:[Object(O.jsx)("img",{src:"/kiis-stroke.png",width:50,className:"me-2"}),Object(O.jsx)("div",{className:"text-start",children:Object(O.jsx)(ae.b,{className:"navbar-brand",to:"/",children:e})})]}),Object(O.jsx)("div",{className:"col-md-7 mb-2 d-flex text-center text-secondary",style:{alignItems:"center"},children:Object(O.jsx)("p",{style:{margin:"auto"},children:this.semesterInfo})}),Object(O.jsx)("div",{className:"col-md-2 mb-2 text-center",children:this.authService.loggedIn?Object(O.jsx)(Kn,{user:this.authService.loggedUser}):Object(O.jsxs)(ae.b,{to:"/login",className:"btn btn-primary",children:[Object(O.jsx)("i",{className:"fas fa-sign-in-alt me-2"})," Login"]})})]})})})}}]),n}(Q.a),tn=Object(d.a)(en.prototype,"authService",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=Object(d.a)(en.prototype,"routingService",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en),Hn=P(Wn),Yn=n(38),Vn=n(43),Gn=(n(97),an=Object(j.resolve)(Vn.a),rn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(o.a)(a,"service",on,Object(s.a)(a)),a.state={show:!1,opacity:0},a}return Object(u.a)(n,[{key:"startLoading",value:function(){this.setState({show:!0,opacity:.7})}},{key:"stopLoading",value:function(){var e=this;this.setState({opacity:0},(function(){Object(rt.a)((function(){return e.setState({show:!1})}),300)}))}},{key:"componentDidMount",value:function(){this.service.setComponent(this)}},{key:"render",value:function(){if(!this.state.show)return null;var e=14,t="".concat(300,"ms");return Object(O.jsxs)("div",{className:"loading bg-secondary border border-secondary rounded px-2 py-1 text-center",style:{opacity:this.state.opacity,transitionDuration:t},children:[Object(O.jsx)("h3",{className:"text-light",children:"Loading"}),Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 ".concat(e),width:"120",height:e,children:[Object(O.jsx)("path",{className:"loadingBarContainer",fill:"none",strokeWidth:e,d:"M 5 ".concat(7," L 5 ").concat(7," L 115 4 ")}),Object(O.jsx)("path",{className:"loadingBar",fill:"none",strokeWidth:12,d:"M 6 ".concat(7," L 6 ").concat(7," L 114 4 ")})]})]})}}]),n}(m.Component),on=Object(d.a)(rn.prototype,"service",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn),Jn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onClose=function(){a.setState({opacity:0},(function(){Object(rt.a)((function(){return a.props.onClose(a.props.item.id)}),300)}))},a.state={opacity:1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.item,n=this.state.opacity;return Object(O.jsx)("div",{className:"toast show mb-2",style:{opacity:n,transitionDuration:"".concat(300,"ms")},children:Object(O.jsxs)("div",{className:"alert alert-".concat(t.mode," mb-0 d-flex"),style:{flexWrap:"nowrap",alignItems:"center"},children:[Object(O.jsx)("p",{style:{margin:"auto"},children:t.message}),Object(O.jsx)(ie,{iconClass:"fas fa-times",className:"btn btn-text btn-sm ms-3",onClick:function(t){return e.onClose()}})]})})}}]),n}(m.Component),Qn=(sn=Object(j.resolve)(ee.a),un=dn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),Object(o.a)(a,"service",ln,Object(s.a)(a)),a.toastRefs=new Map,a.show=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=a.state.items,o=n.ToastId;r.push({id:o,message:e,mode:t,duration:i}),a.setState({items:r},(function(){Object(rt.a)((function(){var e,t=null===(e=a.getRef(o))||void 0===e?void 0:e.current;t&&t.onClose()}),i)})),n.ToastId+=1},a.closeToast=function(e){for(var t=a.state.items,n=0;n<t.length;n++){var i=t[n];if(i.id===e){t.splice(n,1),a.toastRefs.delete(i.id),a.setState({items:t});break}}},a.getRef=function(e){return a.toastRefs.has(e)||a.toastRefs.set(e,b.a.createRef()),a.toastRefs.get(e)},a.state={items:[]},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.service.setComponent(this)}},{key:"render",value:function(){var e=this,t=this.state.items.reverse();return Object(O.jsx)("div",{className:"toast-custom",children:t.map((function(t){return Object(O.jsx)(Jn,{ref:e.getRef(t.id),item:t,onClose:e.closeToast},"toast-"+t.id)}))})}}]),n}(m.Component),dn.ToastId=1,cn=un,ln=Object(d.a)(cn.prototype,"service",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn),Xn=n(19),Zn="-560px",$n="250ms",ea=Object(u.a)((function e(){Object(h.a)(this,e),this.backColor="transparent",this.marginTop=Zn}));function ta(e){var t={transitionDuration:$n,backgroundColor:e.bgColor};return Object(O.jsx)("div",{className:"modal-backdrop",style:t})}function na(e){return Object(O.jsxs)("div",{className:"modal-footer",children:[Object(O.jsx)("button",{ref:e.yesButton,type:"button",onClick:e.onConfirm,className:"btn btn-outline-primary",children:e.yesLabel}),e.yesOnly?null:Object(O.jsx)("button",{ref:e.cancelButton,type:"button",onClick:e.onCancel,className:"btn btn-outline-secondary",children:"No"})]})}function aa(e){return Object(O.jsxs)("div",{className:"modal-header "+e.className,children:[Object(O.jsx)("h5",{className:"modal-title",id:"exampleModalCenterTitle",children:e.title}),Object(O.jsx)("button",{onClick:e.onClose,type:"button",className:"close btn btn-text text-light",children:Object(O.jsx)("span",{children:Object(O.jsx)("i",{className:"fas fa-times"})})})]})}var ia,ra,oa,sa,ca,la,da,ua,ha=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).yesButton=b.a.createRef(),a.cancelButton=b.a.createRef(),a.state=new ea,a.onConfirm=function(e){a.close((function(){a.props.onConfirm(e)}))},a.close=function(e){Object(rt.a)((function(){a.setState({backColor:"transparent",marginTop:Zn},(function(){Object(rt.a)(e,100)}))}),100)},a.onCancel=function(e){a.close((function(){a.props.onCancel&&a.props.onCancel(e)}))},a.onClose=function(e){a.close((function(){a.props.onClose(e)}))},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.type===Xn.a.ERROR||this.props.type===Xn.a.WARNING;!t&&this.yesButton.current?this.yesButton.current.focus():t&&this.cancelButton.current?this.cancelButton.current.focus():t&&this.yesButton.current&&this.yesButton.current.focus(),Object(rt.a)((function(){var t=e.stringContent?"30vh":"0vh";e.setState({backColor:"rgba(100,100,100,0.7)",marginTop:t})}),100)}},{key:"stringContent",get:function(){return"string"===typeof this.props.children}},{key:"headerClassName",get:function(){switch(this.props.type){case Xn.a.INFO:case Xn.a.INFO_NO_BUTTONS:return"bg-info text-light";case Xn.a.WARNING:return"bg-warning text-dark";case Xn.a.ERROR:return"bg-danger text-light";default:return"bg-secondary"}}},{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=!0===this.props.yesOnly,n=this.stringContent?"500px":"85vw",a={transitionDuration:$n,marginTop:this.state.marginTop,maxWidth:n,marginLeft:"auto",marginRight:"auto"},i=this.stringContent?"modal-dialog -modal-dialog-centered":"-modal-dialog-centered";return Object(O.jsxs)(m.Fragment,{children:[Object(O.jsx)(ta,{bgColor:this.state.backColor}),Object(O.jsx)("div",{className:"modal show d-block",children:Object(O.jsx)("div",{className:i,style:a,children:Object(O.jsxs)("div",{className:"modal-content mt-5",children:[Object(O.jsx)(aa,{className:this.headerClassName,title:e,onClose:this.onClose}),Object(O.jsx)("div",{className:"modal-body",style:{maxHeight:"70vh",overflow:"auto"},children:this.props.children}),this.props.type===Xn.a.INFO_NO_BUTTONS?Object(O.jsx)("div",{className:"modal-footer ",children:Object(O.jsx)("h6",{className:"w-100 text-center",children:E.a.App.uiSetting.defaultTitle})}):Object(O.jsx)(na,{cancelButton:this.cancelButton,yesLabel:this.props.yesLabel,yesButton:this.yesButton,yesOnly:t,onConfirm:this.onConfirm,onCancel:this.onCancel})]})})})]})}}]),n}(m.Component),ma=(ia=Object(j.resolve)(Z.a),ra=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogTitle=void 0,a.dialogContent=void 0,a.dialogYesOnly=void 0,a.yesLabel="Yes",a.dialogOnConfirm=void 0,a.dialogOnCancel=void 0,a.onCloseCallback=void 0,a.dialogType=Xn.a.INFO,Object(o.a)(a,"dialogService",oa,Object(s.a)(a)),a.ref=b.a.createRef(),a.dismissAlert=function(){a.ref.current?a.ref.current.close((function(){a.setState({show:!1})})):a.setState({show:!1})},a.dialogOnClose=function(e){a.setState({show:!1},(function(){a.onCloseCallback&&a.onCloseCallback(e),a.resetProps()}))},a.resetProps=function(){a.onCloseCallback=void 0,a.yesLabel="Yes"},a.showNoButtons=function(e,t,n,i){a.dialogType=Xn.a.INFO_NO_BUTTONS,a.dialogTitle=e,a.dialogContent=t,i&&(i.close=a.dismissAlert),a.display()},a.show=function(e,t,n,i,r,o,s){a.dialogType=e,a.dialogTitle=t,a.dialogContent=n,a.dialogYesOnly=i,a.yesLabel=s||a.yesLabel,a.dialogOnConfirm=function(e){a.dismissAlert(),r(e)},a.onCloseCallback=o,i||(a.dialogOnCancel=function(e){a.dismissAlert(),o&&o(e)}),a.display()},a.state={show:!1},a}return Object(u.a)(n,[{key:"setContent",value:function(e){this.dialogContent=e,this.forceUpdate()}},{key:"componentDidMount",value:function(){this.dialogService.setContainer(this)}},{key:"isShown",get:function(){return this.state.show}},{key:"display",value:function(){this.setState({show:!0})}},{key:"render",value:function(){return this.state.show?Object(O.jsx)(ha,{ref:this.ref,title:this.dialogTitle,yesOnly:this.dialogYesOnly,onConfirm:this.dialogOnConfirm,onCancel:this.dialogOnCancel,onClose:this.dialogOnClose,type:this.dialogType,yesLabel:this.yesLabel,children:this.dialogContent}):null}}]),n}(m.Component),oa=Object(d.a)(ra.prototype,"dialogService",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ra);Yn.b.register(Yn.a,Yn.e,Yn.f,Yn.d,Yn.g,Yn.h,Yn.c);var ba=Object(u.a)((function e(){Object(h.a)(this,e),this.loaded=!1,this.loadingError=!1})),ja=(sa=Object(j.resolve)($.a),ca=Object(j.resolve)(g.a),la=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),Object(o.a)(e,"authService",da,Object(s.a)(e)),Object(o.a)(e,"routingService",ua,Object(s.a)(e)),e.state=new ba,e.load=function(){e.setState({loadingError:!1}),e.authService.loadApplication().then((function(){e.setState({loaded:!0})})).catch((function(t){console.error(t),e.setState({loadingError:!0})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.routingService.setNavigate(this.props.navigate),Object(rt.a)(this.load,100)}},{key:"render",value:function(){return!0===this.state.loadingError?Object(O.jsxs)("div",{className:"w-100 text-center",children:[Object(O.jsx)("h3",{className:"mt-5 text-danger",children:"Error while loading content"}),Object(O.jsxs)("a",{className:"btn btn-outline-dark btn-sm",onClick:this.load,children:[Object(O.jsx)("i",{className:"fas fa-redo me-3"}),"Reload"]})]}):!1===this.state.loaded?Object(O.jsx)("h3",{className:"mt-5 text-center text-secondary",children:"Loading content"}):Object(O.jsxs)(m.Fragment,{children:[Object(O.jsx)(ma,{}),Object(O.jsx)(Qn,{}),Object(O.jsx)(Bn,{}),Object(O.jsx)(Gn,{})]})}}]),n}(m.Component),da=Object(d.a)(la.prototype,"authService",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ua=Object(d.a)(la.prototype,"routingService",[ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),la);t.a=function(){var e=Object(p.f)(),t=Object(p.g)();return Object(O.jsxs)(m.Fragment,{children:[Object(O.jsx)(Hn,{currentLocation:e}),Object(O.jsx)(ja,{navigate:t})]})}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5),a=n.n(t),i=n(65),r=n.n(i),o=(n(73),n(67)),s=n(66),c=n(33),l=n(9),d=n(51),u=n(0);e.self.MonacoEnvironment={getWorkerUrl:function(e,t){return console.log("get worker function: ",e,t),"json"===t?"./editorworkers/json.worker.bundle.js":"css"===t||"scss"===t||"less"===t?"./editorworkers/css.worker.bundle.js":"html"===t||"handlebars"===t||"razor"===t?"./editorworkers/html.worker.bundle.js":"typescript"===t||"javascript"===t?"./editorworkers/ts.worker.bundle.js":"yaml"===t||"yml"===t?"./editorworkers/yaml.worker/js":"./editorworkers/editor.worker.bundle.js"}},r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(l.Provider,{container:d.a,children:Object(u.jsx)(c.a,{children:Object(u.jsx)(o.a,{})})})}),document.getElementById("root")),Object(s.a)()}.call(this,n(54))},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){}],[[68,1,2]]]);
//# sourceMappingURL=main.82534638.chunk.js.map